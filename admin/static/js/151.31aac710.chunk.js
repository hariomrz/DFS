(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[151],{513:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(0),n=a.n(r),l=a(523),o=a.n(l),s=a(9);function c(e){var t=e.data,a=t.date,r=t.format;return a?n.a.createElement(o.a,{date:s.a.getUtcToLocal(a),format:r}):""}},544:function(e,t,a){"use strict";var r=a(11),n=a(12),l=a(15),o=a(14),s=a(0),c=a.n(s),i=a(536),m=a.n(i),d=(a(521),a(10)),u=(a(8),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.DateProps,a=t.disabled_date,r=t.min_date,n=t.max_date,l=t.class_name,o=t.year_dropdown,s=t.month_dropdown,i=t.sel_date,u=t.date_key,p=t.place_holder,E=t.show_time_select,f=t.time_format,h=t.time_intervals,_=t.time_caption,D=t.date_format,R=t.popup_placement;return c.a.createElement(m.a,{disabled:a,minDate:Object(d.e)(r)?null:new Date(r),maxDate:Object(d.e)(n)?null:new Date(n),className:l,showYearDropdown:o,showMonthDropdown:s,selected:Object(d.e)(i)?null:new Date(i),onChange:function(t){return e.props.DateProps.handleCallbackFn(t,u)},placeholderText:p,showTimeSelect:E,timeFormat:f,timeIntervals:h,timeCaption:_,dateFormat:D,popperPlacement:R||"bottom-start"})}}]),a}(s.Component));t.a=u},876:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var r=a(24),n=a(59),l=a(11),o=a(12),s=a(82),c=a(15),i=a(14),m=a(0),d=a.n(m),u=a(155),p=a(156),E=a(499),f=a(154),h=a(516),_=a(539),D=a(543),R=a(538),b=a(5),y=a.n(b),g=a(8),v=a(9),C=a(18),w=(a(521),a(507)),N=a.n(w),T=a(157),F=a(10),k=a(544),O=a(513),S=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).getReportUser=function(){r.setState({posting:!0});var e=r.state,t=e.PERPAGE,a=e.CURRENT_PAGE,n=e.Keyword,l=e.FromDate,o=e.ToDate,s=e.sortField,c={items_perpage:t,total_items:0,current_page:a,sort_order:e.isDescOrder?"ASC":"DESC",sort_field:s,csv:!1,from_date:l?F.i.getFormatedDateTime(l,"YYYY-MM-DD"):"",to_date:o?F.i.getFormatedDateTime(o,"YYYY-MM-DD"):"",keyword:n};v.a.Rest(g.nk+g.oi,c).then((function(e){e.response_code==g.qk?r.setState({posting:!1,UserReportList:e.data.result,TotalUser:e.data.total}):C.notify.show(g.Ri,"error",3e3)})).catch((function(e){C.notify.show(g.Ri,"error",3e3)}))},r.exportReport_Post=function(){var e=r.state,t=e.Keyword,a=e.FromDate,n=e.ToDate,l=e.sortField,o={sort_order:e.isDescOrder?"ASC":"DESC",sort_field:l,from_date:a,to_date:n,keyword:t,report_type:"referral"};v.a.Rest(g.nk+g.nc,o).then((function(e){e.response_code==g.qk?C.notify.show(e.message,"success",5e3):C.notify.show(g.Ri,"error",3e3)})).catch((function(e){C.notify.show(g.Ri,"error",3e3)}))},r.exportReport_Get=function(){var e=r.state,t=e.Keyword,a=e.FromDate,n=e.ToDate,l=e.isDescOrder,o=e.sortField,s="",c="",i=l?"ASC":"DESC";""!=a&&""!=n&&(s=a?F.i.getFormatedDateTime(a,"YYYY-MM-DD"):"",c=n?F.i.getFormatedDateTime(n,"YYYY-MM-DD"):"");var m="report_type=referral&csv=1&keyword="+t+"&from_date="+s+"&to_date="+c+"&sort_order="+i+"&sort_field="+o;F.i.exportFunction(m,"adminapi/index.php/report/referal_report?")},r.exportReffered=function(){var e=r.state,t=e.FromDate,a=e.ToDate,n=(e.isDescOrder,e.UserId),l="",o="";""!=t&&""!=a&&(l=t?F.i.getFormatedDateTime(t,"YYYY-MM-DD"):"",o=a?F.i.getFormatedDateTime(a,"YYYY-MM-DD"):"");var s="csv=1&user_id="+n+"&from_date="+l+"&to_date="+o;F.i.exportFunction(s,"adminapi/index.php/report/export_referral_list_by_user?")},r.handleTypeChange=function(e,t){null!=e&&r.setState(Object(n.a)({},t,e),r.getReportUser)},r.handleDate=function(e,t){r.setState(Object(n.a)({},t,e),(function(){(r.state.FromDate||r.state.ToDate)&&r.getReportUser()}))},r.searchByUser=function(e){r.setState({Keyword:e.target.value},r.SearchCodeReq)},r.clearFilter=function(){r.setState({FromDate:new Date(Date.now()-24*(F.i.getTodayDate()-1)*60*60*1e3),ToDate:new Date,Keyword:"",isDescOrder:!0,sortField:"first_name"},(function(){r.getReportUser()}))},r.state={TotalUser:0,PERPAGE:g.Vf,CURRENT_PAGE:1,startDate:"",endDate:"",FromDate:new Date(Date.now()-24*(F.i.getTodayDate()-1)*60*60*1e3),ToDate:new Date,UserReportList:[],Keyword:"",sortField:"first_name",isDescOrder:!0,isLineupModalOpen:!1,detialData:[],posting:!1,UserId:""},r.SearchCodeReq=y.a.debounce(r.SearchCodeReq.bind(Object(s.a)(r)),500),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getReportUser()}},{key:"lineupDetailModal",value:function(e,t){this.setState({detialData:e,UserId:t}),this.setState((function(e){return{isLineupModalOpen:!e.isLineupModalOpen}}))}},{key:"handlePageChange",value:function(e){var t=this;e!==this.state.CURRENT_PAGE&&this.setState({CURRENT_PAGE:e},(function(){t.getReportUser()}))}},{key:"SearchCodeReq",value:function(){this.state.Keyword.length>2&&this.getReportUser()}},{key:"sortContest",value:function(e,t){var a=e==this.state.sortField?!t:t;this.setState({sortField:e,isDescOrder:a,CURRENT_PAGE:1},this.getReportUser)}},{key:"render",value:function(){var e=this,t=this.state,a=t.UserReportList,n=t.CURRENT_PAGE,l=t.PERPAGE,o=t.TotalUser,s=t.Keyword,c=t.isDescOrder,i=t.detialData,b=t.posting,v=t.FromDate,C=t.ToDate,w={disabled_date:!1,show_time_select:!1,time_format:!1,time_intervals:!1,time_caption:!1,date_format:"dd/MM/yyyy",handleCallbackFn:this.handleDate,class_name:"form-control mr-3",year_dropdown:!0,month_dropdown:!0},F=Object(r.a)(Object(r.a)({},w),{},{min_date:!1,max_date:new Date(C),sel_date:new Date(v),date_key:"FromDate",place_holder:"From Date"}),S=Object(r.a)(Object(r.a)({},w),{},{min_date:new Date(v),max_date:new Date,sel_date:new Date(C),date_key:"ToDate",place_holder:"To Date"});return d.a.createElement(m.Fragment,null,d.a.createElement("div",{className:"animated fadeIn promocode-view mt-4"},d.a.createElement(u.a,null,d.a.createElement(p.a,{md:12},d.a.createElement("h1",{className:"h1-cls"},"Referral Report"))),d.a.createElement("div",{className:"promocode-list-view"},d.a.createElement(u.a,{className:"filter-userlist mt-5"},d.a.createElement(p.a,{md:6},d.a.createElement("div",{className:"float-left"},d.a.createElement("label",{className:"filter-label"},"Start Date"),d.a.createElement(k.a,{DateProps:F})),d.a.createElement("div",{className:"float-left"},d.a.createElement("label",{className:"filter-label"},"End Date"),d.a.createElement(k.a,{DateProps:S}))),d.a.createElement(p.a,{md:6},d.a.createElement("div",{className:"search-box"},d.a.createElement("label",{className:"filter-label"},"Search User"),d.a.createElement(E.a,{placeholder:"Search User",name:"code",value:s,onChange:this.searchByUser})))),d.a.createElement(u.a,{className:"filters-box"},d.a.createElement(p.a,{md:11},d.a.createElement("div",{className:"filters-area"},d.a.createElement(f.a,{className:"btn-secondary",onClick:function(){return e.clearFilter()}},"Clear Filters"))),d.a.createElement(p.a,{md:1,className:""},d.a.createElement("i",{className:"export-list icon-export",onClick:function(t){return o>g.oc?e.exportReport_Post():e.exportReport_Get()}}))),d.a.createElement(u.a,{className:"filters-box"},d.a.createElement(p.a,{md:12},d.a.createElement("div",{className:"filters-area"},d.a.createElement("h4",null,"Total Record Count:",o)))),d.a.createElement(u.a,null,d.a.createElement(p.a,{md:12,className:"table-responsive common-table"},d.a.createElement(h.a,null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("user_name",c)}},"UserName"),d.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("phone_no",c)}},"Phone"),d.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("email",c)}},"Email"),d.a.createElement("th",null,"Referral Sent"),d.a.createElement("th",null,"Registered"),d.a.createElement("th",null,"Referral Cash"),d.a.createElement("th",null,"Referral Bonus"),d.a.createElement("th",null,"Referral Coin"),d.a.createElement("th",null))),a.length>0?y.a.map(a,(function(t,a){return d.a.createElement("tbody",{key:a},d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("a",{onClick:function(){return e.props.history.push("/profile/"+t.user_unique_id)},className:"text-click"},t.user_name)),d.a.createElement("td",null,t.phone_no),d.a.createElement("td",null,t.email),d.a.createElement("td",null,t.TotalReferral),d.a.createElement("td",null,t.TotalRegistered),d.a.createElement("td",null,t.referal_bonus_amount),d.a.createElement("td",null,t.referal_real_amount),d.a.createElement("td",null,t.referal_coin_amount),d.a.createElement("td",null,d.a.createElement("a",{className:"pointer",onClick:function(){return e.lineupDetailModal(t.referral_detail,t.user_id)}},d.a.createElement("i",{className:"icon-info-border"})))))})):d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"22"},0!=a.length||b?d.a.createElement(T.a,null):d.a.createElement("div",{className:"no-records"},"No Record Found."))))))),o>l&&d.a.createElement("div",{className:"custom-pagination lobby-paging"},d.a.createElement(N.a,{activePage:n,itemsCountPerPage:l,totalItemsCount:o,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))),d.a.createElement("div",null,d.a.createElement(_.a,{isOpen:this.state.isLineupModalOpen,toggle:function(){return e.lineupDetailModal()},className:"ref-modal lineup-details modal-lg"},d.a.createElement(D.a,null,d.a.createElement("a",{onClick:function(t){return e.exportReffered()}},"Export list")),d.a.createElement(R.a,{className:"p-0"},d.a.createElement(u.a,{className:"mb-5"},d.a.createElement(p.a,{md:12},d.a.createElement("div",{className:"table-responsive common-table"},d.a.createElement(h.a,null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"pl-4"},"S.No"),d.a.createElement("th",null,"Referral Sent To"),d.a.createElement("th",null,"Date"),d.a.createElement("th",null,"Earned Bonus"),d.a.createElement("th",null,"Earned Real Cash"),d.a.createElement("th",null,"Earned Coins"),d.a.createElement("th",null,"Status"))),y.a.map(i,(function(e,t){return d.a.createElement("tbody",{key:t},d.a.createElement("tr",null,d.a.createElement("td",{className:"pl-4"},t+1),d.a.createElement("td",null,e.friend_email),d.a.createElement("td",null,d.a.createElement(O.a,{data:{date:e.added_date,format:"D-MMM-YYYY hh:mm A "}})),d.a.createElement("td",null,e.earned_bonus),d.a.createElement("td",null,e.earned_real),d.a.createElement("td",null,e.earned_coin),d.a.createElement("td",null,1==e.status?"Joined":"")))})))))))))))}}]),a}(m.Component)}}]);
//# sourceMappingURL=151.31aac710.chunk.js.map