(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[211],{963:function(e,t,a){"use strict";a.r(t);var n=a(59),s=a(11),l=a(12),r=a(15),o=a(14),c=a(0),i=a.n(c),u=a(155),m=a(156),d=a(154),g=a(516),p=(a(5),a(514)),E=a(8),h=a(507),b=a.n(h),f=a(18),_=a(157),T=a(10),v=(a(511),a(565)),P=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l,r;return Object(s.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.getLeaderboardList()},r.getLeaderboardList=function(){r.setState({ListPosting:!0});var e=r.state,t=e.CURRENT_PAGE,a={items_perpage:e.ITEMS_PERPAGE,current_page:t,sort_field:"prize_id",sort_order:"DESC"};Object(p.s)(a).then((function(e){e.response_code==E.qk?r.setState({LbList:e.data.result?e.data.result:[],Total:e.data.total?e.data.total:0,ListPosting:!1}):f.notify.show(E.Ri,"error",3e3)})).catch((function(e){f.notify.show(E.Ri,"error",3e3)}))},r.deleteUserToggle=function(e,t){r.setState({AdminId:t,ToggleModalOpen:!r.state.ToggleModalOpen})},r.changeStatusToggle=function(e,t){var a="Are you sure you want to "+("1"==e.status?"in":"")+"active this?";r.setState({CatIndex:t,CATE_ID:e.category_id,StatusMsg:a,prize_id:e.prize_id,status:"1"==e.status?0:1}),r.setState((function(e){return{ToggleModalOpen:!e.ToggleModalOpen}}))},r.changeCateStatus=function(){r.setState({statusPosting:!0});var e=r.state,t=e.CatIndex,a=(e.CATE_ID,e.LbList),n={prize_id:e.prize_id,status:e.status},s=a;Object(p.w)(n).then((function(e){e.response_code===E.qk&&(s[t].status="0"==s[t].status?"1":"0",f.notify.show(e.message,"success",5e3),r.setState({LbList:s,statusPosting:!1,ToggleModalOpen:!1}))})).catch((function(e){f.notify.show(E.Ri,"error",5e3)}))},r.state=(l={CURRENT_PAGE:1,ITEMS_PERPAGE:E.Vf,addMoreModalOpen:!1,ToggleModalOpen:!1,LbList:[],ListPosting:!1,Total:0,CreatePosting:!0,statusPosting:!1,EditFlag:!1,Username:""},Object(n.a)(l,"ToggleModalOpen",!1),Object(n.a)(l,"StatusMsg",""),Object(n.a)(l,"FromDate",new Date(Date.now()-24*(T.i.getTodayDate()-1)*60*60*1e3)),Object(n.a)(l,"ToDate",new Date),Object(n.a)(l,"prize_id",""),l),r}return Object(l.a)(a,[{key:"handlePageChange",value:function(e){var t=this;this.setState({CURRENT_PAGE:e},(function(){t.getLeaderboardList()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.LbList,n=t.Total,s=t.ListPosting,l=t.CURRENT_PAGE,r=t.ITEMS_PERPAGE,o=t.ToggleModalOpen,c=t.statusPosting,p=t.StatusMsg,h={publishModalOpen:o,publishPosting:c,modalActionNo:this.changeStatusToggle,modalActionYes:this.changeCateStatus,MainMessage:p,SubMessage:""};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"sp-ldrbrd-list"},o&&i.a.createElement(v.a,h),i.a.createElement(u.a,{className:"prz-lb-head"},i.a.createElement(m.a,{md:12},i.a.createElement("div",{className:"float-left"},i.a.createElement("h2",{className:"h2-cls"},"Leaderboard")),i.a.createElement("div",{className:"float-right"},i.a.createElement(d.a,{onClick:function(){e.props.history.push({pathname:"/marketing/marketingleaderboard_setprize/0"})},className:"btn-secondary-outline"},"Add New")))),i.a.createElement(u.a,null,i.a.createElement(m.a,{md:12,className:"table-responsive common-table"},i.a.createElement(g.a,{className:"mb-1"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Category"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Status"),i.a.createElement("th",null,"Action"),i.a.createElement("th",null))),n>0?a.map((function(t,a){return i.a.createElement("tbody",{key:a},i.a.createElement("tr",null,i.a.createElement("td",null,t.category_name),i.a.createElement("td",null,t.name),i.a.createElement("td",null,"1"==t.status&&"Active","0"==t.status&&"Inactive"),i.a.createElement("td",null,i.a.createElement("i",{style:{cursor:"pointer"},onClick:function(){e.props.history.push({pathname:"/marketing/marketingleaderboard_setprize/"+t.prize_id})},className:"icon-edit ml-4"}),i.a.createElement("div",{className:"activate-module"},i.a.createElement("label",{className:"global-switch"},i.a.createElement("input",{type:"checkbox",checked:"1"!=t.status,onChange:function(){return e.changeStatusToggle(t,a)}}),i.a.createElement("span",{className:"switch-slide round"},i.a.createElement("span",{className:"switch-on ".concat("1"==t.status?"active":"")},"On"),i.a.createElement("span",{className:"switch-off ".concat("0"==t.status?"active":"")},"Off"))))),i.a.createElement("td",null,i.a.createElement("span",{className:"btn-v-dtl",onClick:function(){e.props.history.push({pathname:"/marketing/marketingleaderboard-details/"+t.prize_id})}},"View Details"))))})):i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"8"},0!=n||s?i.a.createElement(_.a,null):i.a.createElement("div",{className:"no-records"},E.Cg))))))),i.a.createElement(u.a,null,i.a.createElement(m.a,{md:12},n>5&&i.a.createElement("div",{className:"custom-pagination float-right mt-5"},i.a.createElement(b.a,{activePage:l,itemsCountPerPage:r,totalItemsCount:n,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))))))}}]),a}(c.Component);t.default=P}}]);
//# sourceMappingURL=211.d7861e15.chunk.js.map