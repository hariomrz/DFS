(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[177],{544:function(e,t,a){"use strict";var n=a(11),l=a(12),o=a(15),r=a(14),s=a(0),c=a.n(s),i=a(536),m=a.n(i),u=(a(521),a(10)),d=(a(8),function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.DateProps,a=t.disabled_date,n=t.min_date,l=t.max_date,o=t.class_name,r=t.year_dropdown,s=t.month_dropdown,i=t.sel_date,d=t.date_key,_=t.place_holder,p=t.show_time_select,E=t.time_format,f=t.time_intervals,h=t.time_caption,g=t.date_format,b=t.popup_placement;return c.a.createElement(m.a,{disabled:a,minDate:Object(u.e)(n)?null:new Date(n),maxDate:Object(u.e)(l)?null:new Date(l),className:o,showYearDropdown:r,showMonthDropdown:s,selected:Object(u.e)(i)?null:new Date(i),onChange:function(t){return e.props.DateProps.handleCallbackFn(t,d)},placeholderText:_,showTimeSelect:p,timeFormat:E,timeIntervals:f,timeCaption:h,dateFormat:g,popperPlacement:b||"bottom-start"})}}]),a}(s.Component));t.a=d},877:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(24),l=a(59),o=a(11),r=a(12),s=a(82),c=a(15),i=a(14),m=a(0),u=a.n(m),d=a(155),_=a(156),p=a(499),E=a(154),f=a(516),h=a(5),g=a.n(h),b=a(8),C=a(9),y=a(18),S=a(107),D=(a(521),a(507)),w=a.n(D),v=a(157),R=a(46),k=a(69),N=a.n(k),F=a(10),T=a(544),U=a(522),L=a.n(U),O=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).GetContestFilterData=function(){n.setState({posting:!0});var e={sports_id:n.state.sportsId,list_type:!0};C.a.Rest(b.nk+b.Ld,e).then((function(e){if(e.response_code===b.qk){e=e.data;var t=[{value:"",label:"Select Category"}];e.group_list&&e.group_list.map((function(e,a){t.push({value:e.group_id,label:e.group_name})})),n.setState({groupList:t})}n.setState({posting:!1})}))},n.getAllCollections=function(){var e=n.state,t=e.collectionType,a=e.sportsId,l={collection_type:t,league_id:e.SelectedLeague.value,sports_id:a};C.a.Rest(b.nk+b.ad,l).then((function(e){if(e.response_code==b.qk){var t=[];g.a.map(e.data,(function(e,a){t.push({value:e.collection_master_id,label:e.collection_name})})),n.setState({CollectionList:t})}else y.notify.show(b.Ri,"error",3e3)})).catch((function(e){y.notify.show(b.Ri,"error",3e3)}))},n.exportReport_Post=function(){var e=n.state,t=e.Keyword,a=e.FromDate,l=e.ToDate,o=e.sortField,r=e.isDescOrder,s=e.SelectedLeague,c=e.SelectedCollection,i=e.sportsId,m={league_id:s.value,collection_master_id:c.value,sports_id:i,csv:!0,sort_order:r?"ASC":"DESC",sort_field:o,from_date:a,to_date:l,keyword:t,report_type:"contest_report"};C.a.Rest(b.nk+b.nc,m).then((function(e){e.response_code==b.qk?y.notify.show(e.message,"success",5e3):y.notify.show(b.Ri,"error",3e3)})).catch((function(e){y.notify.show(b.Ri,"error",3e3)}))},n.exportReport_Get=function(){var e=n.state,t=e.Keyword,a=e.FromDate,l=e.ToDate,o=e.isDescOrder,r=e.sortField,s=e.SelectedLeague,c=e.SelectedCollection,i=e.sportsId,m="",u="",d=Object(F.f)(c.value)?"":c.value,_=Object(F.f)(s.value)?"":s.value,p=o?"ASC":"DESC";""!=a&&""!=l&&(m=a?F.i.getFormatedDateTime(a,"YYYY-MM-DD"):"",u=l?F.i.getFormatedDateTime(l,"YYYY-MM-DD"):"");var E="report_type=contest_report&csv=1&keyword="+t+"&from_date="+m+"&to_date="+u+"&sort_order="+p+"&sort_field="+r+"&league_id="+_+"&collection_master_id="+d+"&sports_id="+i;F.i.exportFunction(E,"adminapi/index.php/report/contest_report_csv?")},n.getLeagueFilter=function(){var e={sports_id:n.state.sportsId};C.a.Rest(b.nk+b.uf,e).then((function(e){if(e.response_code==b.qk){var t=[];g.a.map(e.data.result,(function(e,a){t.push({value:e.league_id,label:e.league_name})})),n.setState({LeagueList:t})}else y.notify.show(b.Ri,"error",3e3)})).catch((function(e){y.notify.show(b.Ri,"error",3e3)}))},n.getReportUser=function(){n.setState({posting:!0});var e=n.state,t=e.PERPAGE,a=e.CURRENT_PAGE,l=e.Keyword,o=e.FromDate,r=e.ToDate,s=e.sortField,c=e.isDescOrder,i=e.sportsId,m=e.SelectedCollection,u=e.SelectedLeague,d=e.SelectedGroup,_={contest_name:l,league_id:u.value,collection_master_id:m.value,sports_id:i,items_perpage:t,total_items:0,current_page:a,sort_order:c?"ASC":"DESC",sort_field:s,csv:!1,from_date:o?F.i.getFormatedDateTime(o,"YYYY-MM-DD"):"",to_date:r?F.i.getFormatedDateTime(r,"YYYY-MM-DD"):"",keyword:l,group_id:d.value};C.a.Rest(b.nk+b.cd,_).then((function(e){e.response_code==b.qk?n.setState({posting:!1,UserReportList:e.data.result,TotalUserReport:e.data,TotalUser:e.data.total,TotalDeposit:e.data.total_deposit},(function(){console.log("UserReportList===",n.state.UserReportList),console.log("posting===",n.state.posting)})):y.notify.show(b.Ri,"error",3e3)})).catch((function(e){y.notify.show(b.Ri,"error",3e3)}))},n.handleTypeChange=function(e,t){var a;null!=e&&n.setState((a={},Object(l.a)(a,t,e),Object(l.a)(a,"sportsId",e.value),Object(l.a)(a,"SelectedLeague",""),Object(l.a)(a,"SelectedCollection",""),a),(function(){n.getReportUser()}))},n.handleLeagueChange=function(e,t){var a;null!=e&&n.setState((a={},Object(l.a)(a,t,e),Object(l.a)(a,"SelectedCollection",""),a),(function(){n.getAllCollections(),n.getReportUser()}))},n.handleCollectionChange=function(e,t){null!=e&&n.setState(Object(l.a)({},t,e),n.getReportUser)},n.handleDate=function(e,t){n.setState(Object(l.a)({},t,e),(function(){(n.state.FromDate||n.state.ToDate)&&n.getReportUser()}))},n.searchByUser=function(e){n.setState({Keyword:e.target.value},n.SearchCodeReq)},n.clearFilter=function(){n.setState({FromDate:new Date(Date.now()-24*(F.i.getTodayDate()-1)*60*60*1e3),ToDate:new Date,Keyword:"",isDescOrder:!0,sortField:"first_name",SelectedLSports:N.a.get("selected_sport")?N.a.get("selected_sport"):b.pk,sportsId:N.a.get("selected_sport")?N.a.get("selected_sport"):b.pk,SelectedLeague:{value:0,label:"Select League"},SelectedCollection:""},(function(){n.getReportUser()}))},n.state={TotalUser:0,PERPAGE:b.Vf,CURRENT_PAGE:1,startDate:"",endDate:"",FromDate:new Date(Date.now()-24*(F.i.getTodayDate()-1)*60*60*1e3),ToDate:new Date,UserReportList:[],Keyword:"",sortField:"first_name",isDescOrder:!1,SelectedLeague:"",LeagueList:[],TotalDeposit:"",AllSportsList:F.i.getSportsData()?F.i.getSportsData():[],SelectedLSports:N.a.get("selected_sport")?N.a.get("selected_sport"):b.pk,sportsId:N.a.get("selected_sport")?N.a.get("selected_sport"):b.pk,contestName:"",CollectionList:[],SelectedCollection:"",SelectedGroup:"",collectionType:1,TotalUserReport:[],posting:!1,selected_sport:N.a.get("selected_sport")?N.a.get("selected_sport"):b.pk},n.SearchCodeReq=g.a.debounce(n.SearchCodeReq.bind(Object(s.a)(n)),500),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=L.a.parse(this.props.location.search);Object(F.f)(t.sp)?(this.getLeagueFilter(),this.GetContestFilterData(),this.getReportUser()):this.setState({sportsId:t.sp,SelectedLSports:"undefined"!=t.sp?{value:t.sp,label:t.spn}:"",SelectedLeague:"undefined"!=t.leg?{value:t.leg,label:t.legn}:"",SelectedCollection:"undefined"!=t.col?{value:t.col,label:t.coln}:"",FromDate:new Date(t.frd),ToDate:new Date(t.tod)},(function(){e.getLeagueFilter(),e.GetContestFilterData(),e.getReportUser()}))}},{key:"handlePageChange",value:function(e){var t=this;this.setState({CURRENT_PAGE:e},(function(){t.getReportUser()}))}},{key:"SearchCodeReq",value:function(){this.state.Keyword.length>2&&this.getReportUser()}},{key:"sortContest",value:function(e,t){var a=e==this.state.sortField?!t:t;this.setState({sortField:e,isDescOrder:a,CURRENT_PAGE:1},this.getReportUser)}},{key:"render",value:function(){var e=this,t=this.state,a=t.posting,l=t.UserReportList,o=t.CURRENT_PAGE,r=t.PERPAGE,s=t.TotalUser,c=t.Keyword,i=t.isDescOrder,h=t.SelectedLeague,y=t.LeagueList,D=t.AllSportsList,k=t.SelectedLSports,N=t.CollectionList,F=t.SelectedCollection,U=(t.sumJoinRealAmount,t.sumJoinWinningAmount,t.sumJoinBonusAmount,t.FromDate),L=t.ToDate,O=t.groupList,j=t.SelectedGroup,P=t.TotalUserReport,M={disabled_date:!1,show_time_select:!1,time_format:!1,time_intervals:!1,time_caption:!1,date_format:"dd/MM/yyyy",handleCallbackFn:this.handleDate,class_name:"form-control mr-3",year_dropdown:!0,month_dropdown:!0},x=Object(n.a)(Object(n.a)({},M),{},{min_date:!1,max_date:new Date(L),sel_date:new Date(U),date_key:"FromDate",place_holder:"From Date"}),Y=Object(n.a)(Object(n.a)({},M),{},{min_date:new Date(U),max_date:new Date,sel_date:new Date(L),date_key:"ToDate",place_holder:"To Date",popup_placement:"bottom-end"});return u.a.createElement(m.Fragment,null,u.a.createElement("div",{className:"animated fadeIn promocode-view mt-4"},u.a.createElement(d.a,null,u.a.createElement(_.a,{md:12},u.a.createElement("h1",{className:"h1-cls"},"Contest Report"))),u.a.createElement("div",{className:"user-deposit-amount"},u.a.createElement(d.a,{className:"xfilter-userlist mt-5"},u.a.createElement(_.a,{md:2},u.a.createElement("div",null,u.a.createElement("label",{className:"filter-label"},"Select Sport"),u.a.createElement(S.a,{isSearchable:!0,class:"form-control",options:D,menuIsOpen:!0,value:k,onChange:function(t){return e.handleTypeChange(t,"SelectedLSports")}}))),u.a.createElement(_.a,{md:2},u.a.createElement("div",null,u.a.createElement("label",{className:"filter-label"},"Select League"),u.a.createElement(S.a,{isSearchable:!0,class:"form-control",options:y,menuIsOpen:!0,value:h,onChange:function(t){return e.handleLeagueChange(t,"SelectedLeague")}}))),u.a.createElement(_.a,{md:2},u.a.createElement("div",null,u.a.createElement("label",{className:"filter-label"},"Select Fixture"),u.a.createElement(S.a,{isSearchable:!0,class:"form-control",options:N,menuIsOpen:!0,value:F,onChange:function(t){return e.handleCollectionChange(t,"SelectedCollection")}}))),u.a.createElement(_.a,{md:2},u.a.createElement("div",null,u.a.createElement("label",{className:"filter-label"},"Select Category"),u.a.createElement(S.a,{isSearchable:!0,class:"form-control",id:"group_id",name:"group_id",options:O,menuIsOpen:!0,value:j,onChange:function(t){return e.handleCollectionChange(t,"SelectedGroup")}}))),u.a.createElement(_.a,{md:2},u.a.createElement("label",{className:"filter-label"},"Select From Date"),u.a.createElement(T.a,{DateProps:x})),u.a.createElement(_.a,{md:2},u.a.createElement("label",{className:"filter-label"},"Select To Date"),u.a.createElement(T.a,{DateProps:Y}))),u.a.createElement(d.a,{className:"filters-box mt-3"},u.a.createElement(_.a,{md:6},u.a.createElement("div",{className:"search-box float-left"},u.a.createElement("label",{className:"filter-label"},"Search Contest"),u.a.createElement(p.a,{placeholder:"Search Contest",name:"code",value:c,onChange:this.searchByUser}))),u.a.createElement(_.a,{md:5,className:"mt-4 pr-0"},u.a.createElement("div",{className:"filters-area"},u.a.createElement(E.a,{className:"btn-secondary",onClick:function(){return e.clearFilter()}},"Clear Filters"))),u.a.createElement(_.a,{md:1,className:"mt-4"},u.a.createElement("i",{className:"export-list icon-export",onClick:function(t){return s>b.oc?e.exportReport_Post():e.exportReport_Get()}}))),u.a.createElement(d.a,null,u.a.createElement(_.a,{md:12,className:"table-responsive common-table new-cr-table"},u.a.createElement(f.a,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("collection_name",i)}},"Match"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("group_name",i)}},"Contest ",u.a.createElement("br",null),"Category"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("contest_name",i)}},"Contest ",u.a.createElement("br",null),"Name"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("entry_fee",i)}},"Entry ",u.a.createElement("br",null),"Fee"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("site_rake",i)}},"Site ",u.a.createElement("br",null),"Rake %"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("minimum_size",i)}},"Min"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("size",i)}},"Max"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_user_joined",i)}},"Total ",u.a.createElement("br",null)," Team ",u.a.createElement("br",null)," Entered"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("system_teams",i)}},"Total ",u.a.createElement("br",null),"Bot ",u.a.createElement("br",null),"User"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("real_teams",i)}},"Total ",u.a.createElement("br",null),"Real ",u.a.createElement("br",null),"User"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("max_bonus_allowed",i)}},"Bonus ",u.a.createElement("br",null),"Allowed %"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("prize_pool",i)}},"Prize ",u.a.createElement("br",null),"Pool"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_entry_fee",i)}},"Total ",u.a.createElement("br",null),"Entry ",u.a.createElement("br",null),"Fee"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("entry_fee_real_money",i)}},"Entry ",u.a.createElement("br",null),"Fee(Real Money)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("entry_fee_bonus",i)}},"Entry ",u.a.createElement("br",null),"Fee(Bonus)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("promocode_entry_fee_real",i)}},"Entry ",u.a.createElement("br",null),"Fee(Promo Code)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("botuser_total_real_entry_fee",i)}},"Bot ",u.a.createElement("br",null),"User ",u.a.createElement("br",null),"Entry (Real Money)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_win_winning_amount",i)}},"Distribution ",u.a.createElement("br",null),"(Real Money)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_win_bonus",i)}},"Distribution ",u.a.createElement("br",null),"(Bonus)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_win_coins",i)}},"Distribution ",u.a.createElement("br",null),"(Coin)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_win_prize",i)}},"Total ",u.a.createElement("br",null),"Win ",u.a.createElement("br",null),"Prize"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("total_profit_loss",i)}},"Total ",u.a.createElement("br",null),"(Profit/Loss)"),u.a.createElement("th",{className:"pointer",onClick:function(){return e.sortContest("start_time",i)}},"Start ",u.a.createElement("br",null),"Time "))),!g.a.isUndefined(l)&&l.length>0?u.a.createElement(m.Fragment,null,g.a.map(l,(function(e,t){return u.a.createElement("tbody",{key:t},u.a.createElement("tr",null,u.a.createElement("td",null,e.collection_name?e.collection_name:"--"),u.a.createElement("td",null,e.group_name?e.group_name:"--"),u.a.createElement("td",null,e.contest_name?e.contest_name:"--"),u.a.createElement("td",null,"0"==e.currency_type&&e.entry_fee>0&&u.a.createElement("span",null,u.a.createElement("i",{className:"icon-bonus"}),e.entry_fee),"1"==e.currency_type&&e.entry_fee>0&&u.a.createElement("span",null,u.a.createElement("i",{className:"icon-rupess"}),e.entry_fee),"2"==e.currency_type&&e.entry_fee>0&&u.a.createElement("span",null,u.a.createElement("img",{src:R.a.COINIMG,alt:"coin-img"}),e.entry_fee),0==e.entry_fee&&u.a.createElement("span",null,"Free")),u.a.createElement("td",null,e.site_rake?e.site_rake:"--"),u.a.createElement("td",null,e.minimum_size?e.minimum_size:"--"),u.a.createElement("td",null,e.size?e.size:"--"),u.a.createElement("td",null,e.total_user_joined?e.total_user_joined:"--"),u.a.createElement("td",null,e.system_teams?e.system_teams:"--"),u.a.createElement("td",null,e.real_teams?e.real_teams:"--"),u.a.createElement("td",null,e.max_bonus_allowed?e.max_bonus_allowed:"--"),u.a.createElement("td",null,e.prize_pool?e.prize_pool:"--"),u.a.createElement("td",null,e.total_entry_fee?e.total_entry_fee:"--"),u.a.createElement("td",null,e.total_join_real_amount?e.total_join_real_amount:"--"),u.a.createElement("td",null,e.total_join_bonus_amount?e.total_join_bonus_amount:"--"),u.a.createElement("td",null,e.promocode_entry_fee_real?e.promocode_entry_fee_real:"--"),u.a.createElement("td",null,e.botuser_total_real_entry_fee?e.botuser_total_real_entry_fee:"--"),u.a.createElement("td",null,e.total_win_winning_amount?e.total_win_winning_amount:"--"),u.a.createElement("td",null,e.total_win_bonus?"B"+e.total_win_bonus:"--"),u.a.createElement("td",null,e.total_win_coins?"C"+e.total_win_coins:"--"),u.a.createElement("td",null,e.total_win_amount_to_real_user?e.total_win_amount_to_real_user:"--"),u.a.createElement("td",null,e.profit_loss?e.profit_loss:"--"),u.a.createElement("td",null,C.a.getUtcToLocalFormat(e.season_scheduled_date,"D-MMM-YYYY hh:mm A"))))})),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,"Total"),u.a.createElement("td",{colSpan:"6"}),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_total_user_joined)&&P.sum_total_user_joined),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_system_teams)&&P.sum_system_teams),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_real_teams)&&P.sum_real_teams),u.a.createElement("td",{colSpan:"3"}),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_total_entry_fee_real)&&P.sum_total_entry_fee_real),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_join_bonus_amount)&&P.sum_join_bonus_amount),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_promocode_entry_fee_real)&&P.sum_promocode_entry_fee_real),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_botuser_total_real_entry_fee)&&P.sum_botuser_total_real_entry_fee),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_win_amount)&&P.sum_win_amount),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_total_win_bonus)&&P.sum_total_win_bonus),u.a.createElement("td",{colSpan:"1"},!g.a.isUndefined(P.sum_total_win_coins)&&P.sum_total_win_coins),u.a.createElement("td",{colSpan:"1"}),u.a.createElement("td",{colSpan:"1"}),u.a.createElement("td",{colSpan:"1"})))):u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"22"},a?u.a.createElement(v.a,null):u.a.createElement("div",{className:"no-records"},"No Record Found."))))))),s>r&&u.a.createElement("div",{className:"custom-pagination lobby-paging"},u.a.createElement(w.a,{activePage:o,itemsCountPerPage:r,totalItemsCount:s,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}})))))}}]),a}(m.Component)}}]);
//# sourceMappingURL=177.a76b77b1.chunk.js.map