(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[186,218],{516:function(e,a,t){"use strict";var n=t(6),l=t(7),r=t(0),s=t.n(r),i=t(1),c=t.n(i),o=t(3),u=t.n(o),m=t(4),d={className:c.a.string,cssModule:c.a.object,size:c.a.string,bordered:c.a.bool,borderless:c.a.bool,striped:c.a.bool,dark:c.a.bool,hover:c.a.bool,responsive:c.a.oneOfType([c.a.bool,c.a.string]),tag:m.q,responsiveTag:m.q,innerRef:c.a.oneOfType([c.a.func,c.a.string,c.a.object])},h=function(e){var a=e.className,t=e.cssModule,r=e.size,i=e.bordered,c=e.borderless,o=e.striped,d=e.dark,h=e.hover,p=e.responsive,b=e.tag,v=e.responsiveTag,y=e.innerRef,f=Object(l.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),E=Object(m.m)(u()(a,"table",!!r&&"table-"+r,!!i&&"table-bordered",!!c&&"table-borderless",!!o&&"table-striped",!!d&&"table-dark",!!h&&"table-hover"),t),g=s.a.createElement(b,Object(n.a)({},f,{ref:y,className:E}));if(p){var _=Object(m.m)(!0===p?"table-responsive":"table-responsive-"+p,t);return s.a.createElement(v,{className:_},g)}return g};h.propTypes=d,h.defaultProps={tag:"table",responsiveTag:"div"},a.a=h},888:function(e,a,t){"use strict";t.r(a);var n=t(11),l=t(12),r=t(15),s=t(14),i=t(0),c=t.n(i),o=t(155),u=t(156),m=t(516),d=t(499),h=t(154),p=t(107),b=t(5),v=t.n(b),y=t(8),f=t(18),E=t(9),g=t(10),_=[{label:"Bonus Cash",value:"1"},{label:"Real Cash",value:"0"},{label:"Coins",value:"2"},{label:"Merchandise",value:"3"}],S=[{label:"Win",value:"1"},{label:"Loss",value:"0"}],P=[{label:"Active",value:"1"},{label:"In active",value:"0"}],w=function(e){Object(r.a)(t,e);var a=Object(s.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).getProbability=function(){for(var e=[],a=0;a<100;a++)e.push({label:a,value:a});l.setState({ProbabilityoPt:e})},l.getSliceList=function(){E.a.Rest(y.nk+y.Tj,{}).then((function(e){e.response_code==y.qk?l.setState({SliceList:e.data.result}):f.notify.show(y.Ri,"error",5e3)})).catch((function(e){f.notify.show(y.Ri,"error",5e3)}))},l.getMerchandiseList=function(){var e=l.state,a={sort_field:"added_date",sort_order:"DESC",items_perpage:e.PERPAGE,current_page:e.CURRENT_PAGE};E.a.Rest(y.nk+y.ye,a).then((function(e){if(e.response_code==y.qk){var a=[];e.data.merchandise_list.map((function(e,t){a.push({value:e.merchandise_id,label:e.name})})),l.setState({MerchandiseList:a})}})).catch((function(e){f.notify.show(y.Ri,"error",5e3)}))},l.getMerchantName=function(e){var a=l.state.MerchandiseList,t=[];return a.map((function(e,a){t.push(e.value)})),t.includes(e)?v.a.isEmpty(a)?void 0:a.find((function(a){return a.value===e})).label:""},l.handleInpuChange=function(e,a,t){var n=l.state.SliceList;if(e){e.target.value.length<7&&(n[a][t]=g.i.decimalValidate(e.target.value,3));var r,s=n[a].cash_type;r="0"==s?" Real Cash":"1"==s?" Bonus Cash":"2"==s?" Coins":"3"==s?" ":" --";var i=n[a].amount+r;n[a].result_text="You won "+i,n[a].cash_type,n[a].slice_name=i,l.setState({SliceList:n},(function(){var e=[];v.a.map(l.state.SliceList,(function(a){e.push(a.amount)}));var a=e.every((function(e){return!v.a.isEmpty(e)&&"0"!==e&&e.length<7}));l.setState({formValid:!a})}))}},l.handlePrizeType=function(e,a,t){var n=l.state.SliceList;if(e){n[a][t]=e.value;var r="";"3"!=n[a].cash_type&&(r="0"==n[a].cash_type?" Real Cash":"1"==n[a].cash_type?" Bonus Cash":"2"==n[a].cash_type?" Coins":"3"==n[a].cash_type?" ":" --");var s=n[a].amount+r;"3"==n[a].cash_type&&(s=l.getMerchantName(n[a].amount)),n[a].result_text="You won "+s,n[a].cash_type,n[a].slice_name=s,"0"===n[a].win&&(n[a].result_text="Please try again tomorrow",n[a].slice_name="Please try again tomorrow"),l.setState({SliceList:n}),"3"==e.value&&"cash_type"===t&&v.a.isEmpty(l.getMerchantName(n[a].amount))?l.setState({formValid:!0}):l.setState({formValid:!1})}},l.updateSliceList=function(){l.setState({formValid:!0});var e=l.state.SliceList;E.a.Rest(y.nk+y.Li,e).then((function(e){e.response_code==y.qk?f.notify.show(e.message,"success",5e3):f.notify.show(y.Ri,"error",5e3),l.setState({formValid:!1})})).catch((function(e){f.notify.show(y.Ri,"error",5e3)}))},l.state={CURRENT_PAGE:1,PERPAGE:999999,SetPrizeDaily:!1,SetPrizeWeek:!1,SetPrizeMonth:!1,selectSetPrize:!1,selectUnsetPrize:!0,ProbabilityoPt:[],SliceList:[],formValid:!0},l}return Object(l.a)(t,[{key:"componentDidMount",value:function(){"1"!=g.i.getMasterData().allow_spin&&(f.notify.show(y.og,"error",5e3),this.props.history.push("/dashboard")),this.getProbability(),this.getMerchandiseList(),this.getSliceList()}},{key:"render",value:function(){var e=this,a=this.state,t=a.SliceList,n=a.ProbabilityoPt,l=a.formValid,r=a.MerchandiseList;return c.a.createElement("div",{className:"spinthewheel"},c.a.createElement(o.a,null,c.a.createElement(u.a,{md:12,className:"mt-4"},c.a.createElement("h2",{className:"h2-cls float-left"},"SPIN THE WHEEL"))),c.a.createElement(o.a,{className:" mt-3"},c.a.createElement(u.a,{md:12,className:"table-responsive common-table"},c.a.createElement(m.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Status"),c.a.createElement("th",null,"Prize"),c.a.createElement("th",null,"Amount"),c.a.createElement("th",null,"Probability"),c.a.createElement("th",null,"Win"),c.a.createElement("th",null,"Wheel conetent"),c.a.createElement("th",null,"Result text"))),v.a.map(t,(function(a,t){return c.a.createElement("tbody",{key:t},c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(p.a,{className:"sw-prize-type",searchable:!1,clearable:!1,placeholder:"Select",name:"status",value:a.status,options:P,onChange:function(a){return e.handlePrizeType(a,t,"status")}})),c.a.createElement("td",null,c.a.createElement(p.a,{className:"sw-prize-type",disabled:"0"===a.win,readOnly:"0"===a.win,searchable:!1,clearable:!1,placeholder:"Select",name:"cash_type",value:a.cash_type,options:_,onChange:function(a){return e.handlePrizeType(a,t,"cash_type")}})),c.a.createElement("td",null,"3"!==a.cash_type&&c.a.createElement(i.Fragment,null,c.a.createElement(d.a,{className:"sw-prize-type",disabled:"0"===a.win,readOnly:"0"===a.win,type:"number",name:"amount",maxLength:6,value:a.amount,onChange:function(a){return e.handleInpuChange(a,t,"amount")}}),c.a.createElement("div",{className:"spw-e-hgt"},(v.a.isEmpty(a.amount)||"0"===a.amount||a.amount.length>6)&&c.a.createElement("span",{className:"spw-empty-msg"},"Please enter min 1 and max upto 6 digit"))),"3"===a.cash_type&&c.a.createElement(p.a,{className:"sw-prize-type",disabled:"0"===a.win,searchable:!1,clearable:!1,placeholder:"Select",name:"amount",value:a.amount,options:r,onChange:function(a){return e.handlePrizeType(a,t,"amount")}})),c.a.createElement("td",null,c.a.createElement(p.a,{searchable:!1,clearable:!1,placeholder:"Select",name:"probability",value:a.probability,options:n,onChange:function(a){return e.handlePrizeType(a,t,"probability")}})),c.a.createElement("td",null,c.a.createElement(p.a,{searchable:!1,clearable:!1,placeholder:"Select",name:"win",value:a.win,options:S,onChange:function(a){return e.handlePrizeType(a,t,"win")}})),c.a.createElement("td",null,c.a.createElement(d.a,{readOnly:!0,disabled:!0,type:"text",name:"slice_name",maxLength:50,value:a.slice_name,title:a.slice_name})),c.a.createElement("td",null,c.a.createElement(d.a,{readOnly:!0,disabled:!0,type:"text",name:"result_text",value:a.result_text,title:a.result_text}))))}))))),c.a.createElement(o.a,{className:"m-5 text-center"},c.a.createElement(u.a,{md:12},c.a.createElement(h.a,{disabled:l,className:"btn-secondary-outline",onClick:function(){return e.updateSliceList()}},"Update"))))}}]),t}(i.Component);a.default=w}}]);
//# sourceMappingURL=186.a77a94d1.chunk.js.map