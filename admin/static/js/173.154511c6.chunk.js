(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[173],{545:function(e,t,a){"use strict";var n=a(11),i=a(12),s=a(15),o=a(14),c=a(0),l=a.n(c),m=a(539),r=a(543),p=a(538),u=a(542),d=a(154),g=a(46),h=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.Message,n=t.ActionPopupOpen,i=t.Screen,s=t.posting;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{isOpen:n,className:"modal-sm action-request",toggle:function(){return e.props.modalCallback()}},l.a.createElement(r.a,null,l.a.createElement("img",{src:g.a.ERROR_ICON,alt:""})),l.a.createElement(p.a,null,l.a.createElement("span",{className:"info-text"},a)),l.a.createElement(u.a,{className:"request-footer"},l.a.createElement(d.a,{className:"btn-secondary-outline ripple no-btn",onClick:this.props.modalCallback},"No"),l.a.createElement(d.a,{disabled:s,className:"btn-secondary-outline ripple",onClick:function(){return"Report"==i?e.props.modalReportActionCallback():"Approve"==i?e.props.modalUpdatePendingCallback():e.props.modalActioCallback()}},"Yes"))))}}]),a}(c.Component);t.a=h},935:function(e,t,a){"use strict";a.r(t);var n=a(59),i=a(11),s=a(12),o=a(15),c=a(14),l=a(0),m=a.n(l),r=a(155),p=a(156),u=a(552),d=a(499),g=a(154),h=a(5),b=a.n(h),E=a(8),f=a(9),v=a(18),C=(a(521),a(23),a(545)),N=a(10),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getPageContent=function(){f.a.Rest(E.nk+E.nh,{}).then((function(e){e.response_code==E.qk?s.setState({AdminCommission:e.data?e.data.site_rake:0,OwnerCommission:e.data?e.data.host_rake:0,Visibility:e.data?e.data.visibility:0}):v.notify.show(E.Ri,"error",5e3)})).catch((function(e){v.notify.show(E.Ri,"error",5e3)}))},s.AdminToolTipToggle=function(){s.setState({toggleAdminToolTip:!s.state.toggleAdminToolTip})},s.OwnToolTipToggle=function(){s.setState({toggleOwnToolTip:!s.state.toggleOwnToolTip})},s.toggleActionPopup=function(e){s.setState({NewVisibility:e,Message:E.ug,ActionPopupOpen:!s.state.ActionPopupOpen})},s.savePCVisibility=function(){s.setState({visiPosting:!0});var e=s.state.NewVisibility,t={visibility:e};f.a.Rest(E.nk+E.qh,t).then((function(t){t.response_code==E.qk?(s.setState({Visibility:e,visiPosting:!1}),s.toggleActionPopup(),v.notify.show(t.message,"success",5e3)):v.notify.show(E.Ri,"error",5e3)})).catch((function(e){v.notify.show(E.Ri,"error",5e3)}))},s.handleInputChange=function(e){if(e){var t=e.target.name,a=e.target.value;if("AdminCommission"===t&&s.setState({adminPosting:!1}),"OwnerCommission"===t&&s.setState({OwnerPosting:!1}),a.length<=5){var i=N.i.decimalValidate(a,3);s.setState(Object(n.a)({},t,i),(function(){parseFloat(s.state.OwnerCommission)+parseFloat(s.state.AdminCommission)>100&&(v.notify.show("Sum of owner commission and admin commission percentage must be between 0 & 100.","error",5e3),s.setState({adminPosting:!0,OwnerPosting:!0})),b.a.isEmpty(s.state.AdminCommission)&&s.setState({adminPosting:!0}),b.a.isEmpty(s.state.OwnerCommission)&&s.setState({OwnerPosting:!0})}))}}},s.saveCommission=function(e){var t=s.state,a=t.OwnerCommission,n=t.AdminCommission,i="",o={site_rake:""};1===e?(s.setState({OwnerPosting:!0}),i=E.rh,o={host_rake:a}):(s.setState({adminPosting:!0}),i=E.sh,o={site_rake:n}),f.a.Rest(E.nk+i,o).then((function(e){e.response_code==E.qk?v.notify.show(e.message,"success",5e3):v.notify.show(E.Ri,"error",5e3)})).catch((function(e){v.notify.show(E.Ri,"error",5e3)}))},s.state={OwnerCommission:"",AdminCommission:"",adminPosting:!0,OwnerPosting:!0,visiPosting:!1},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){"0"==N.i.allowPrivateContest()&&(v.notify.show(E.og,"error",5e3),this.props.history.push("/dashboard")),this.getPageContent()}},{key:"render",value:function(){var e=this,t=this.state,a=t.Visibility,n=t.OwnerCommission,i=t.AdminCommission,s=t.adminPosting,o=t.OwnerPosting,c=t.visiPosting,h=t.Message,b=t.ActionPopupOpen,E={posting:c,Message:h,modalCallback:this.toggleActionPopup,ActionPopupOpen:b,modalActioCallback:this.savePCVisibility};return m.a.createElement(l.Fragment,null,m.a.createElement("div",{className:"PC-dashboard PC-setting"},m.a.createElement(C.a,E),m.a.createElement(r.a,{className:"mt-30 mb-20"},m.a.createElement(p.a,{md:12},m.a.createElement("h2",{className:"h2-cls"},"Setting"))),m.a.createElement(r.a,{className:"mb-30"},m.a.createElement(p.a,{md:12},m.a.createElement("ul",{className:"pc-headbox-list"},m.a.createElement("li",{className:"pc-headbox-item"},m.a.createElement("div",{className:"info-icon-wrapper text-right"},m.a.createElement("i",{className:"icon-info",id:"owner_tt"},m.a.createElement(u.a,{placement:"top",isOpen:this.state.toggleOwnToolTip,target:"owner_tt",toggle:this.OwnToolTipToggle},'Entered percentage of the total entry fee collected will go to the "User\'s" Wallet.'))),m.a.createElement("div",{className:"pc-b-title"},"Set Owner commission"),m.a.createElement("div",{className:"pc-b-count"},m.a.createElement("div",{className:"pc-ctr-div"},m.a.createElement(d.a,{type:"number",className:"pc-comm-inp",name:"OwnerCommission",value:n,onChange:this.handleInputChange})),m.a.createElement("span",{className:"pc-percent"},"%")),m.a.createElement(g.a,{disabled:o,className:"btn-secondary-outline",onClick:function(){return e.saveCommission(1)}},"Save")),m.a.createElement("li",{className:"pc-headbox-item"},m.a.createElement("div",{className:"info-icon-wrapper text-right"},m.a.createElement("i",{className:"icon-info",id:"admin_tt"},m.a.createElement(u.a,{placement:"top",isOpen:this.state.toggleAdminToolTip,target:"admin_tt",toggle:this.AdminToolTipToggle},'Entered percentage of the total entry fee collected will go to "Admin\'s" Wallet.'))),m.a.createElement("div",{className:"pc-b-title"},"Set Admin commission"),m.a.createElement("div",{className:"pc-b-count"},m.a.createElement(d.a,{type:"number",className:"pc-comm-inp",name:"AdminCommission",value:i,onChange:this.handleInputChange}),m.a.createElement("span",{className:"pc-percent"},"%")),m.a.createElement(g.a,{disabled:s,className:"btn-secondary-outline",onClick:function(){return e.saveCommission(2)}},"Save"))))),m.a.createElement(r.a,{className:"mt-30"},m.a.createElement(p.a,{md:12},m.a.createElement("h3",{className:"h3-cls"},"Private contest visibility"))),m.a.createElement(r.a,{className:"mt-2"},m.a.createElement(p.a,{md:12},m.a.createElement("div",{className:"input-box"},m.a.createElement("ul",{className:"coupons-option-list"},m.a.createElement("li",{className:"coupons-option-item"},m.a.createElement("div",{className:"custom-radio"},m.a.createElement("input",{type:"radio",className:"custom-control-input",name:"Visibility",value:"2",checked:"2"===a,onChange:function(){return e.toggleActionPopup("2")}}),m.a.createElement("label",{className:"custom-control-label"},m.a.createElement("span",{className:"input-text"},"Show as big banner")))),m.a.createElement("li",{className:"coupons-option-item"},m.a.createElement("div",{className:"custom-radio"},m.a.createElement("input",{type:"radio",className:"custom-control-input",name:"Visibility",value:"1",checked:"1"===a,onChange:function(){return e.toggleActionPopup("1")}}),m.a.createElement("label",{className:"custom-control-label"},m.a.createElement("span",{className:"input-text"},"Show as a button"))))))))))}}]),a}(l.Component);t.default=w}}]);
//# sourceMappingURL=173.154511c6.chunk.js.map