(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[175],{513:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var l=t(0),n=t.n(l),r=t(523),s=t.n(r),m=t(9);function c(e){var a=e.data,t=a.date,l=a.format;return t?n.a.createElement(s.a,{date:m.a.getUtcToLocal(t),format:l}):""}},879:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return C}));var l=t(11),n=t(12),r=t(15),s=t(14),m=t(0),c=t.n(m),i=t(155),u=t(156),o=t(516),d=t(539),p=t(538),E=t(5),_=t.n(E),N=t(507),h=t.n(N),y=t(9),g=t(18),v=t(8),f=(t(521),t(46)),b=t(10),D=t(513),C=function(e){Object(r.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).GetContestTemplateDetails=function(){n.setState({posting:!0}),y.a.Rest(v.nk+v.Od,{contest_template_id:n.state.contest_template_id}).then((function(e){e.response_code===v.qk&&n.setState({gameDetail:e.data,prize_distibution_detail:e.data.prize_distibution_detail},(function(){})),n.setState({posting:!1})}))},n.getGameDetail=function(){var e={contest_unique_id:n.props.match.params.id};y.a.Rest(v.nk+v.je,e).then((function(e){e.response_code==v.qk?n.setState({gameDetail:e.data.contest_detail,LeagueDetail:e.data.league_detail,MatchDetail:e.data.match_detail,MatchList:e.data.match_list,SportDetail:e.data.sport_detail,UserData:e.data.user_data,prize_distibution_detail:_.a.isEmpty(e.data.contest_detail)||_.a.isUndefined(e.data.contest_detail.prize_distibution_detail)?[]:e.data.contest_detail.prize_distibution_detail,MerchandiseList:e.data.merchandise_list?e.data.merchandise_list:[]},(function(){n.getTotMerchandiseDist(),n.getGameLinupDetail(n.state.gameDetail)})):g.notify.show(v.Ri,"error",3e3)})).catch((function(e){g.notify.show(v.Ri,"error",3e3)}))},n.getGameLinupDetail=function(e){var a=n.state,t=a.PERPAGE,l=a.CURRENT_PAGE,r=a.UserType,s={items_perpage:t,total_items:0,current_page:l,contest_id:e.contest_id,game_id:e.contest_id,sort_field:"game_rank",sort_order:"ASC"};""!==r&&(s.is_systemuser=r),y.a.Rest(v.nk+v.ke,s).then((function(e){e.response_code==v.qk?n.setState({GameLinupDetail:e.data.result,Total:e.data.total}):g.notify.show(v.Ri,"error",3e3)})).catch((function(e){g.notify.show(v.Ri,"error",3e3)}))},n.getLinupDetails=function(e,a){var t={lineup_master_contest_id:e,league_id:a};y.a.Rest(v.nk+v.ve,t).then((function(e){e.response_code===v.qk&&n.setState({LinupUpData:e.data})})).catch((function(e){g.notify.show(v.Ri,"error",3e3)}))},n.getTotMerchandiseDist=function(){var e=n.state.MerchandiseList;if(!_.a.isEmpty(e)){var a=_.a.keyBy(e,"merchandise_id"),t=0;_.a.isEmpty(n.state.prize_distibution_detail)||(n.state.prize_distibution_detail.map((function(e){if(3===parseInt(e.prize_type)){var l=parseInt(e.amount);t+=a[l].price*(parseInt(e.max)-parseInt(e.min)+1)}})),n.setState({TotalMerchadiseDistri:t}))}},n.state={Total:0,PERPAGE:10,CURRENT_PAGE:1,isLineupModalOpen:!1,gameDetail:[],LeagueDetail:[],MatchDetail:[],MatchList:[],SportDetail:[],UserData:[],GameLinupDetail:[],LinupUpData:[],UserType:"",MerchandiseList:[],TotalMerchadiseDistri:0,AllowSystemUser:!_.a.isUndefined(b.i.getMasterData().pl_allow)&&"1"==b.i.getMasterData().pl_allow,contest_template_id:!!n.props.match.params.contest_template_id&&n.props.match.params.contest_template_id},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.state.contest_template_id?this.GetContestTemplateDetails():this.getGameDetail()}},{key:"lineupDetailModal",value:function(e,a,t){var l=this;this.setState((function(e){return{isLineupModalOpen:!e.isLineupModalOpen}}),(function(){e?l.getLinupDetails(a,t):l.setState({LinupUpData:[]})}))}},{key:"handlePageChange",value:function(e){var a=this;this.setState({CURRENT_PAGE:e},(function(){a.getGameLinupDetail(a.state.gameDetail)}))}},{key:"handleUserClick",value:function(e){var a=this;e===this.state.UserType&&(e=""),this.setState({UserType:e},(function(){a.getGameLinupDetail(a.state.gameDetail)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.gameDetail,l=a.LeagueDetail,n=a.MatchDetail,r=a.MatchList,s=(a.SportDetail,a.UserData),E=a.prize_distibution_detail,N=a.GameLinupDetail,g=a.LinupUpData,v=a.CURRENT_PAGE,C=a.PERPAGE,M=a.Total,k=a.UserType,z=a.TotalMerchadiseDistri,R=a.AllowSystemUser,L=!a.contest_template_id;return c.a.createElement(m.Fragment,null,c.a.createElement("div",{className:"contest-d-main"},c.a.createElement(i.a,{className:"mt-3 mb-3"},c.a.createElement(u.a,{md:12},c.a.createElement("h1",{className:"h1-cls"},L?"Contest Detail Informations":"Contest Template Detail Informations"))),c.a.createElement("div",{className:"details-box"},c.a.createElement(i.a,{className:"box-items mt-3"},c.a.createElement(u.a,{md:3},c.a.createElement("label",null,"Contest Name"),c.a.createElement("div",{className:"user-value"},L?t.contest_name:t.template_name)),c.a.createElement(u.a,{md:3},c.a.createElement("label",null,"Contest Title"),c.a.createElement("div",{className:"user-value"},L?t.contest_title:t.template_title?t.template_title:"--")),L&&c.a.createElement(u.a,{md:3},c.a.createElement("label",null,"League"),c.a.createElement("div",{className:"user-value"},L&&l.league_name?l.league_name:"--")),L&&9!=t.sports_id&&c.a.createElement(u.a,{md:3},c.a.createElement("label",null,"Match"),c.a.createElement("div",{className:"user-value"},L?t.collection_name+" "+n.format:t.template_description?t.template_description:"--")),c.a.createElement(u.a,{md:3,className:" ".concat(L?"mt-3":"")},c.a.createElement("label",null,L?"Entrants / Participants":"Min / Total Participants"),c.a.createElement("div",{className:"user-value"},L?t.total_user_joined:t.minimum_size,"/",-1!=t.size&&t.size)),c.a.createElement(u.a,{md:3,className:" ".concat(L?"mt-3":"")},c.a.createElement("label",null,"Entry Fee"),c.a.createElement("div",{className:"user-value"},"0"==t.currency_type&&t.entry_fee>0&&c.a.createElement("span",null,c.a.createElement("i",{className:"icon-bonus"}),b.i.getNumberWithCommas(t.entry_fee)),"1"==t.currency_type&&t.entry_fee>0&&c.a.createElement("span",null,c.a.createElement("i",{className:"icon-rupess"}),b.i.getNumberWithCommas(t.entry_fee)),"2"==t.currency_type&&t.entry_fee>0&&c.a.createElement("span",null,c.a.createElement("img",{src:f.a.COINIMG,alt:"coin-img"}),b.i.getNumberWithCommas(t.entry_fee)),0==t.entry_fee&&c.a.createElement("span",null,"Free"))),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Site Rake"),c.a.createElement("div",{className:"user-value"},b.i.getNumberWithCommas(t.site_rake))),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Multiple lineup / Lineup Count"),"0"!=t.multiple_lineup&&c.a.createElement("div",{className:"user-value"},"Yes / ",t.multiple_lineup)),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Auto Recurrent  "),"0"==t.is_auto_recurring?c.a.createElement("div",{className:"user-value"},"No"):c.a.createElement("div",{className:"user-value"},"Yes")),L&&c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Scheduled Date"),c.a.createElement("div",{className:"user-value"},c.a.createElement(D.a,{data:{date:t.season_scheduled_date,format:"D-MMM-YYYY hh:mm A"}}))),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Created Date "),c.a.createElement("div",{className:"user-value"},c.a.createElement(D.a,{data:{date:t.added_date,format:"D-MMM-YYYY hh:mm A"}}))),L&&c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Completed Date "),t.completed_date&&c.a.createElement("div",{className:"user-value"},c.a.createElement(D.a,{data:{date:t.completed_date,format:"D-MMM-YYYY hh:mm A"}}))),L&&c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Created By"),c.a.createElement("div",{className:"user-value"},null===s.user_name||""==s.user_name?"ADMIN":s.user_name)),L&&c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Status"),c.a.createElement("div",{className:"user-value"},"0"==t.status&&"Open","1"==t.status&&"Cancel","2"==t.status&&"Coming","3"==t.status&&"Prize Distributed")),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Prize Pool"),c.a.createElement("div",{className:"user-value"},"0"==t.currency_type&&t.entry_fee>0&&c.a.createElement("i",{className:"icon-bonus"}),"1"==t.currency_type&&t.entry_fee>0&&c.a.createElement("i",{className:"icon-rupess"}),"2"==t.currency_type&&t.entry_fee>0&&c.a.createElement("img",{src:f.a.COINIMG,alt:"coin-img"}),b.i.getNumberWithCommas(t.prize_pool))),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Max Bonus Allowed (%)"),c.a.createElement("div",{className:"user-value"},t.max_bonus_allowed)),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Contest Type"),c.a.createElement("div",{className:"user-value"},"1"==t.prize_pool_type?"Auto":"2"==t.prize_pool_type?"Guaranteed":"--")),c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Tie-breaker"),c.a.createElement("div",{className:"user-value"},"1"==t.is_tie_breaker?"Yes":"0"==t.is_tie_breaker?"No":"--")),"1"==b.i.allowScratchWin()&&c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Scratch & Win"),c.a.createElement("div",{className:"user-value"},"1"==t.is_scratchwin?"Yes":"0"==t.is_scratchwin?"No":"--")),"1"==b.i.allowReverseContest()&&c.a.createElement(u.a,{md:3,className:"mt-3"},c.a.createElement("label",null,"Reverse Fantasy"),c.a.createElement("div",{className:"user-value"},"1"==t.is_reverse?"Yes":"0"==t.is_reverse?"No":"--")))),z>0&&c.a.createElement(i.a,{className:"mb-1 sponser-section"},c.a.createElement(u.a,{xs:"12",lg:"12"},c.a.createElement("div",{className:"mer-dis-note"},c.a.createElement("span",{className:"font-weight-bold mr-2"},"Note:"),"Merchandise value ",b.i.getCurrencyCode(),z," will be extra apart from total real cash distribution in this contest."))),c.a.createElement(i.a,null,c.a.createElement(u.a,{md:12,className:"table-responsive common-table"},c.a.createElement(o.a,null,c.a.createElement("thead",null,c.a.createElement("tr",{className:"text-center"},c.a.createElement("th",null,"Min"),c.a.createElement("th",null,"Max"),c.a.createElement("th",null,"%"),c.a.createElement("th",null,"Amount (Per Person)"))),_.a.map(E,(function(e,a){return c.a.createElement("tbody",{key:a},c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center"},e.min),c.a.createElement("td",{className:"text-center"},e.max),c.a.createElement("td",{className:"text-center"},"Infinity"!=e.per&&"3"!=e.prize_type&&e.per,"Infinity"!=e.per&&"3"==e.prize_type&&"--",Object(b.e)(e.per)&&"0","Infinity"==e.per&&"0"),c.a.createElement("td",{className:"text-center"},"0"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},c.a.createElement("i",{className:"icon-bonus1 mr-1"})),"1"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},b.i.getCurrencyCode()),"2"==e.prize_type&&c.a.createElement("span",null,c.a.createElement("img",{className:"mr-1",src:f.a.REWARD_ICON,alt:""})),"3"!=e.prize_type&&e.amount,"3"==e.prize_type&&e.min_value)))}))))),L&&c.a.createElement(m.Fragment,null,c.a.createElement(i.a,{className:"mt-3 mb-3"},c.a.createElement(u.a,{md:12},c.a.createElement("h3",{className:"h3-cls"},"Match List"))),c.a.createElement(i.a,null,c.a.createElement(u.a,{md:12,className:"table-responsive common-table"},c.a.createElement(o.a,null,c.a.createElement("thead",null,c.a.createElement("tr",{className:"text-center"},c.a.createElement("th",null,"Match"),c.a.createElement("th",null,"Schedule Date"))),_.a.map(r,(function(e,a){return c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center"},e.home+" - "+e.away),c.a.createElement("td",{className:"text-center"},y.a.getUtcToLocalFormat(e.season_scheduled_date,"D-MMM-YYYY hh:mm A"))))}))))),c.a.createElement(i.a,{className:"mt-3 mb-3"},c.a.createElement(u.a,{md:4},c.a.createElement("h3",{className:"h3-cls"},"Participants")),c.a.createElement(u.a,{md:8},R&&c.a.createElement(m.Fragment,null,c.a.createElement("div",{className:"sort-b-usr ".concat(0===k?"active":""),onClick:function(a){return e.handleUserClick(0)}},"Real User"),c.a.createElement("div",{className:"sort-b-usr ".concat(1===k?"active":""),onClick:function(a){return e.handleUserClick(1)}},"System User")))),c.a.createElement(i.a,null,c.a.createElement(u.a,{md:12,className:"table-responsive common-table"},c.a.createElement(o.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"User Name"),c.a.createElement("th",null,"Rank"),c.a.createElement("th",null,"Score"),c.a.createElement("th",null,"Winning Amount"),c.a.createElement("th",null,"Action"))),_.a.map(N,(function(a,t){return c.a.createElement("tbody",{key:t},c.a.createElement("tr",null,c.a.createElement("td",null,a.user_name,"1"==a.is_systemuser&&c.a.createElement("span",{className:"cont-su-flag"},"S")),c.a.createElement("td",null,a.game_rank),c.a.createElement("td",null,a.total_score),c.a.createElement("td",null,"1"==a.is_winner?null!=a.prize_data?_.a.map(a.prize_data,(function(e,a){return c.a.createElement(m.Fragment,null,"0"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},c.a.createElement("i",{className:"icon-bonus1 mr-1"}),e.amount),"1"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},b.i.getCurrencyCode(),e.amount),"2"==e.prize_type&&c.a.createElement("span",null,c.a.createElement("img",{className:"mr-1",src:f.a.REWARD_ICON,alt:""}),e.amount),"3"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},e.name))})):c.a.createElement("span",{className:"mr-1"},b.i.getCurrencyCode(),a.winning_amount):""),c.a.createElement("td",{onClick:function(){return e.lineupDetailModal(!0,a.lineup_master_contest_id,l.league_id)}},c.a.createElement("span",{className:"linup-details"},"Lineup Details"))))}))))),c.a.createElement("div",{className:"custom-pagination userlistpage-paging float-right mb-5"},c.a.createElement(h.a,{activePage:v,itemsCountPerPage:C,totalItemsCount:M,pageRangeDisplayed:5,onChange:function(a){return e.handlePageChange(a)}})),c.a.createElement("div",null,c.a.createElement(d.a,{isOpen:this.state.isLineupModalOpen,toggle:function(){return e.lineupDetailModal(!1)},className:"lineup-details modal-md"},c.a.createElement(p.a,{className:"p-0"},c.a.createElement("div",{className:"lineup-teams theme-color"},c.a.createElement(i.a,null,c.a.createElement(u.a,{xs:12},c.a.createElement("ul",{className:"lineup-feelist"},c.a.createElement("li",{className:"lineup-feeitem"},c.a.createElement("label",null,"Team name"),c.a.createElement("div",{className:"font-weight-bold"},g.team_name)),c.a.createElement("li",{className:"lineup-feeitem"},c.a.createElement("label",null,"Username"),c.a.createElement("div",{className:"font-weight-bold"},g.user_name)),c.a.createElement("li",{className:"lineup-feeitem"},c.a.createElement("label",null,"Total Score "),c.a.createElement("div",{className:"font-weight-bold"},g.score)))))),c.a.createElement(u.a,{xs:12},c.a.createElement(i.a,{className:"rank-box"},c.a.createElement(u.a,{xs:3},c.a.createElement("h3",{className:"h3-cls"},"Rank "," "," ",g.game_rank)),c.a.createElement(u.a,{xs:9},c.a.createElement("h3",{className:"h3-cls"},"Winnings "," ","1"==g.is_winner?null!=g.prize_data?_.a.map(g.prize_data,(function(e,a){return c.a.createElement(m.Fragment,null,"0"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},c.a.createElement("i",{className:"icon-bonus1 mr-1"}),e.amount),"1"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},b.i.getCurrencyCode(),e.amount),"2"==e.prize_type&&c.a.createElement("span",null,c.a.createElement("img",{className:"mr-1",src:f.a.REWARD_ICON,alt:""}),e.amount),"3"==e.prize_type&&c.a.createElement("span",{className:"mr-1"},e.name))})):g.won_amount>"0"&&c.a.createElement("span",{className:"mr-1"},b.i.getCurrencyCode(),g.won_amount):"")))),c.a.createElement(i.a,{className:"mb-5"},c.a.createElement(u.a,{md:12},c.a.createElement("div",{className:"table-responsive common-table"},c.a.createElement(o.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"pl-4"},"Player Name"),c.a.createElement("th",null,"Player Display Name"),c.a.createElement("th",null,"Position"),c.a.createElement("th",null,"Team Name"),c.a.createElement("th",null,"Score"))),_.a.map(g.lineup,(function(e,a){return c.a.createElement("tbody",{key:a},c.a.createElement("tr",null,c.a.createElement("td",{className:"pl-4"},e.full_name,1==e.captain?c.a.createElement("span",null,"(C)"):2==e.captain?c.a.createElement("span",null,"(VC)"):"",c.a.createElement("span",{className:"player-sty ".concat(1==g.playing_announce&&1==e.is_playing?"playing":1==g.playing_announce&&0==e.is_playing?"not-playing":"")})),c.a.createElement("td",null,e.display_name?e.display_name:"--"),c.a.createElement("td",{className:"pl-4"},e.position),c.a.createElement("td",null,e.team_abbr),c.a.createElement("td",null,e.score)))}))))))))))))}}]),t}(m.Component)}}]);
//# sourceMappingURL=175.bf3e7979.chunk.js.map