(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[188],{561:function(e,t,a){"use strict";a.d(t,"l",(function(){return n})),a.d(t,"k",(function(){return o})),a.d(t,"q",(function(){return i})),a.d(t,"p",(function(){return c})),a.d(t,"w",(function(){return s})),a.d(t,"x",(function(){return l})),a.d(t,"o",(function(){return r})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"m",(function(){return _})),a.d(t,"y",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"n",(function(){return f})),a.d(t,"z",(function(){return h})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"r",(function(){return v})),a.d(t,"b",(function(){return S})),a.d(t,"u",(function(){return y})),a.d(t,"t",(function(){return N})),a.d(t,"i",(function(){return j})),a.d(t,"s",(function(){return w})),a.d(t,"c",(function(){return P})),a.d(t,"A",(function(){return k})),a.d(t,"j",(function(){return O})),a.d(t,"C",(function(){return C})),a.d(t,"B",(function(){return x})),a.d(t,"H",(function(){return D})),a.d(t,"I",(function(){return T})),a.d(t,"G",(function(){return L})),a.d(t,"E",(function(){return R})),a.d(t,"F",(function(){return F})),a.d(t,"v",(function(){return M})),a.d(t,"D",(function(){return U}));var n="adminapi/communication_dashboard/user_segmentation/get_filter_result_test",o="adminapi/communication_dashboard/user_segmentation/get_deposit_promocodes",i="adminapi/communication_dashboard/user_segmentation/get_segementation_template_list",c="adminapi/communication_dashboard/user_segmentation/get_recent_communication_list",s="adminapi/communication_dashboard/user_segmentation/notify_by_selection",l="adminapi/communication_dashboard/user_segmentation/notify_by_selection_counts",r="adminapi/communication_dashboard/user_segmentation/get_recent_communication_detail",m="adminapi/communication_dashboard/user_segmentation/get_cd_balance",u="adminapi/communication_dashboard/user_segmentation/add_notify_entity",d="adminapi/communication_dashboard/user_segmentation/export_filter_data",_="adminapi/communication_dashboard/new_campaign/get_live_upcoming_fixtures",p="adminapi/communication_dashboard/new_campaign/render_cd_body",g="adminapi/communication_dashboard/user_segmentation/get_city_names",f="adminapi/communication_dashboard/user_segmentation/get_preference_list",h="adminapi/communication_dashboard/user_segmentation/update_preference_list",b="adminapi/communication_dashboard/user_segmentation/create_user_base_list",E="adminapi/communication_dashboard/user_segmentation/delete_user_base_list",v="adminapi/communication_dashboard/user_segmentation/get_single_user_base_list",S="adminapi/communication_dashboard/user_segmentation/create_new_category",y="adminapi/communication_dashboard/user_segmentation/get_user_count",N="adminapi/communication_dashboard/user_segmentation/get_user_base_list",j="adminapi/communication_dashboard/user_segmentation/get_custome_template",w="adminapi/communication_dashboard/user_segmentation/get_template_category",P="adminapi/communication_dashboard/user_segmentation/create_new_template",k="adminapi/communication_dashboard/user_segmentation/update_user_base_list",O="adminapi/communication_dashboard/user_segmentation/get_delayed_fixtures",C="SMS",x="VtechAdmin",D={1:{all_user:1,text:"All User"},2:{login:1,text:"Login"},3:{signup:1,text:"Signup"},4:{fixture_participation:1,text:"By Fixture Participation"}},T={1:{all_user:1},2:{login:1},3:{signup:1},4:{fixture_participation:1}},L={121:"contest_id",120:"promo_code_id",124:"season_game_uid",131:"season_game_uid",132:"season_game_uid"},R={email_fixture_model:"email",message_fixture_model:"message",notification_fixture_model:"notification"},F=[{label:"Lobby",value:1},{label:"Wallet",value:2},{label:"My Profile",value:3},{label:"My contests",value:4},{label:"Refer a Friend",value:5},{label:"Contest Listing",value:6},{label:"Add Fund",value:7}],M=[{id:"1",name:"Male"},{id:"2",name:"Female"},{id:"3",name:"Other"}],U=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}},847:function(e,t,a){"use strict";a.r(t);var n=a(59),o=a(24),i=a(11),c=a(12),s=a(15),l=a(14),r=a(0),m=a.n(r),u=a(107),d=a(155),_=a(156),p=a(497),g=a(590),f=a(504),h=a(585),b=a(610),E=a(499),v=a(154),S=a(539),y=a(543),N=a(538),j=a(503),w=a(501),P=a(502),k=a(553),O=a(554),C=a(18),x=a(5),D=a.n(x),T=a(688),L=a.n(T),R=(a(589),a(749)),F=a(8),M=a(9),U=a(69),A=a.n(U),B=a(3),I=a.n(B),q=a(522),V=a.n(q),z=a(561),Y=a(23),G=a.n(Y),K=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).get_cd_balance=function(){M.a.Rest(F.nk+z.g,{}).then((function(e){e.response_code===F.qk&&n.setState({cd_balance:e.data.cd_balance})}))},n.get_cd_type_possible_counts=function(e){var t=Object(o.a)(Object(o.a)({},n.state.userSegmentParam),e);M.a.Rest(F.nk+z.x,t).then((function(e){e.response_code===F.qk&&n.setState({balance_will_used:{email_count:e.data.email_count,notification_count:e.data.notification_count,sms_count:e.data.sms_count}})}))},n.toggleRecentCModal=function(){n.setState({communication_review_modal:!n.state.communication_review_modal}),console.log("email body:",n.state.userSegmentParam);var e=n.state.previewObj.email_body;e=(e=(e=(e=(e=(e=(e=(e=e.replace("{{year}}",(new Date).getFullYear())).replace("{{SITE_TITLE}}","Fantasy Sports")).replace("{{home}}",n.state.userSegmentParam.home)).replace("{{away}}",n.state.userSegmentParam.away)).replace("{{home_flag}}",n.state.userSegmentParam.home_flag)).replace("{{away_flag}}",n.state.userSegmentParam.away_flag)).replace("{{season_scheduled_date}}",n.state.userSegmentParam.season_scheduled_date)).replace("{{collection_name}}",n.state.userSegmentParam.collection_name);var t=n.state.previewObj.message_body;t=(t=(t=(t=t.replace("{{home}}",n.state.userSegmentParam.home)).replace("{{away}}",n.state.userSegmentParam.away)).replace("{{season_scheduled_date}}",n.state.userSegmentParam.season_scheduled_date)).replace("{{collection_name}}",n.state.userSegmentParam.collection_name);var a=n.state.previewObj.notification_message;a=(a=(a=(a=a.replace("{{home}}",n.state.userSegmentParam.home)).replace("{{away}}",n.state.userSegmentParam.away)).replace("{{season_scheduled_date}}",n.state.userSegmentParam.season_scheduled_date)).replace("{{collection_name}}",n.state.userSegmentParam.collection_name),n.setState({previewObj:Object(o.a)(Object(o.a)({},n.state.previewObj),{},{email_body:e,message_body:t,notification_message:a})})},n.getSelectedSport=function(){var e=A.a.get("sports_list").filter((function(e){return e.value===A.a.get("selected_sport")}));return console.log("sportName:",e),{sports_id:e[0].value,sports_name:e[0].label.toLowerCase()}},n.getUpcomingLiveMatchs=function(e){n.setState({isLoading:!0}),M.a.Rest(F.nk+z.m,{sports_id:n.state.selected_sport}).then((function(t){if(n.setState({isLoading:!1}),t.response_code===F.qk){var a=[];t.data.collection.map((function(e,t){return a.push({value:e.season_game_uid,label:e.collection_name+" "+G()(e.season_scheduled_date).format("YYYY-MM-DD hh:mm A"),detail:e}),""})),n.setState({matchList:a},(function(){e&&(n.setState({userSegmentParam:Object(o.a)(Object(o.a)({},n.state.userSegmentParam),{},{season_game_uid:e})},(function(){n.getFilterResultTest()})),console.log("sid:",e))}))}else t.response_code==F.ok?n.props.history.push("/login"):n.setState({posting:!1})}))},n.exportUser=function(){var e=[];D.a.map(n.state.userSegmentParam,(function(t,a){e.push(encodeURIComponent(a)+"="+encodeURIComponent(t))}));var t=e.join("&");window.open(F.nk+z.f+"?"+t,"_blank")},n.checkFromOtherSource=function(){return null===n.state.for_str},n.handleActivityValue=function(e,t,a){if(e){var i=e.target.value,c=e.target.id;"activity"===t?(n.state.userSegmentParam.all_user=null,n.state.userSegmentParam.login=null,n.state.userSegmentParam.signup=null,n.state.userSegmentParam.fixture_participation=null,n.state.userSegmentParam.last_7_days=null,n.state.userSegmentParam.custom=null,n.checkFromOtherSource()&&(n.state.userSegmentParam.season_game_uid=null)):(n.state.userSegmentParam.last_7_days=null,n.state.userSegmentParam.custom=null),n.state.userSegmentParam[c]=i,n.checkFromOtherSource()&&n.setState({templateParam:{type:1}}),n.setState({userSegmentParam:n.state.userSegmentParam,notificationData:Object(o.a)(Object(o.a)({},n.state.notificationData),{},{email:!1,message:!1,notification:!1,promo_code_id:""}),total_users:0,depositPromocodes:[]},(function(){console.log("selected_player:",this.state.userSegmentParam),a&&this.getSegmentationTemplate()}))}},n.getFilterResultTest=function(){var e=n.state.userSegmentParam;n.setState({isLoading:!0}),M.a.Rest(F.nk+z.l,e).then((function(e){n.setState({isLoading:!1}),e.response_code===F.qk?(n.setState({total_users:e.data.total_users,balance_will_used:{email_count:0,sms_count:0,notification_count:0}}),n.state.notificationData.user_ids=e.data.user_ids,n.setState({notificationData:n.state.notificationData})):e.response_code==F.ok?n.props.history.push("/login"):n.setState({posting:!1})}))},n.getDepositPromotionsPromocodes=function(){M.a.Rest(F.nk+z.k,{}).then((function(e){e.response_code===F.qk?n.setState({depositPromocodes:e.data.promocodes},(function(){n.state.promo_code_id&&n.setState({notificationData:Object(o.a)(Object(o.a)({},n.state.notificationData),{},{promo_code_id:n.state.promo_code_id}),promo_code_id:""})})):e.response_code==F.ok?n.props.history.push("/login"):n.setState({posting:!1})}))},n.handleFieldVal=function(e){var t=e.target.value,a=e.target.name;n.state.userSegmentParam[a]=t,n.setState({userSegmentParam:n.state.userSegmentParam})},n.handleFixture=function(e){console.log("select:",e),n.setState({userSegmentParam:Object(o.a)(Object(o.a)({},n.state.userSegmentParam),{},{season_game_uid:e.value,home:e.detail.home,away:e.detail.away,home_flag:e.detail.home_flag,away_flag:e.detail.away_flag,season_scheduled_date:e.detail.season_scheduled_date}),templateParam:{type:2}},(function(){n.getSegmentationTemplate()}))},n.handleChange=function(e){if(!e)return!1;n.setState({notificationData:Object(o.a)(Object(o.a)({},n.state.notificationData),{},{email:!1,message:!1,notification:!1,custom_sms:"",campaign_url:"",campaign_name:"",campaign_generated_url:"",custom_notification_subject:"",custom_notification_text:"",custom_notification_landing_page:""})},(function(){e&&e.detail&&"admin-refer-a-friend"===e.detail.template_name&&n.getRenderedTempate(e.detail),e&&e.detail&&"promotion-for-deposit"===e.detail.template_name?n.getDepositPromotionsPromocodes():n.setState({depositPromocodes:[]});var t=e.value;console.log("selectedOption:",e),n.setState({notificationData:Object(o.a)(Object(o.a)({},n.state.notificationData),{},{email_template_id:t,promo_code_id:""}),previewObj:e.detail})}))},n.getRenderedTempate=function(e){console.log("pre:",e),M.a.Rest(F.nk+z.y,e).then((function(e){e.response_code===F.qk?n.setState({previewObj:Object(o.a)(Object(o.a)({},n.state.previewObj),{},{email_body:e.data.email_body,message_body:e.data.message_body})}):e.response_code==F.ok?n.props.history.push("/login"):n.setState({posting:!1})}))},n.handlePromocodeChange=function(e){console.log("tempalte::::",n.state.previewObj);var t=e.value;console.log("selectedOption:",e),n.setState({notificationData:Object(o.a)(Object(o.a)({},n.state.notificationData),{},{promo_code_id:t})},(function(){n.getRenderedTempate(Object(o.a)(Object(o.a)({},n.state.previewObj),{},{promo_code_id:t}))}))},n.handleNotificationType=function(e){var t=e.target.value,a=e.target.id;console.log(e.target.id,e.target.value,typeof e.target.value);var o=D.a.cloneDeep(n.state.notificationData);o[a]="false"==t,n.setState({notificationData:o},(function(){console.log(n.state.notificationData),n.get_cd_type_possible_counts(o)}))},n.handleCustomSMS=function(e){var t=e.target.value;e.target.id;console.log(e.target.id,e.target.value,typeof e.target.value);var a=D.a.cloneDeep(n.state.notificationData);a.custom_sms=t,n.setState({notificationData:a},(function(){console.log(n.state.notificationData)}))},n.handleCustomCampaign=function(e){var t=e.target.value,a=e.target.id;console.log(e.target.id,e.target.value,typeof e.target.value);var o=D.a.cloneDeep(n.state.notificationData);o[a]=t,n.setState({notificationData:o},(function(){console.log(n.state.notificationData)}))},n.generate_campaign_url=function(){setTimeout((function(){var e=n.state.notificationData.campaign_url+"/?utm_campaign="+encodeURIComponent(n.state.notificationData.campaign_name)+"&utm_source="+z.C+"&utm_medium="+z.B,t=D.a.cloneDeep(n.state.notificationData);t.campaign_generated_url=e,n.setState({notificationData:t})}),500)},n.handleLandingPage=function(e){if(!e)return!1;var t=e.value;console.log("selectedOption:",e),n.setState({notificationData:Object(o.a)(Object(o.a)({},n.state.notificationData),{},{custom_notification_landing_page:t})})},n.handleCustomNotification=function(e){var t=e.target.value,a=e.target.id;console.log(e.target.id,e.target.value,typeof e.target.value);var o=D.a.cloneDeep(n.state.notificationData);o[a]=t,n.setState({notificationData:o},(function(){console.log(n.state.notificationData)}))},n.checkUrl=function(){console.log("enter"),L.a.isURL(n.state.notificationData.campaign_url)?n.setState({campaign_url_error:""}):n.setState({campaign_url_error:"Please enter valid url"})},n.state={selected_sport:A.a.get("selected_sport")?A.a.get("selected_sport"):F.pk,userSegmentParam:{all_user:null,login:null,signup:null,fixture_participation:null,custom:null,last_7_days:null,to_date:"",from_date:"",season_game_uid:null,contest_id:null,home:"IND",away:"PAK",home_flag:"https://communication-dashboard.s3.amazonaws.com/upload/flag/flag_default.jpg",away_flag:"https://communication-dashboard.s3.amazonaws.com/upload/flag/flag_default.jpg",season_scheduled_date:"2019-12-29",collection_name:""},total_users:0,templateList:[],notificationData:{email_template_id:"",promo_code_id:"",user_ids:[],email:!1,message:!1,notification:!1,custom_sms:"",campaign_url:"",campaign_name:"",campaign_generated_url:"",custom_notification_subject:"",custom_notification_text:"",custom_notification_landing_page:""},communication_review_modal:!1,previewObj:{},activeTab:"1",depositPromocodes:[],matchList:[],templateParam:{type:1},cd_email_template_id:null,for_str:null,promo_code_id:"",cd_balance:{},balance_will_used:{email_count:0,sms_count:0,notification_count:0},isLoading:!1,copySuccess:"",campaign_url_error:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=V.a.parse(this.props.location.search);console.log("parsed.param:",t);var a={},n={},i="";t.email_template_id&&(t.contest_id&&(console.log("parsed.contest_id:",t.contest_id),a.type=0,n.contest_id=t.contest_id),t.promo_code_id&&(i=t.promo_code_id),t.season_game_uid&&(this.getUpcomingLiveMatchs(t.season_game_uid),a.type=2),this.setState({cd_email_template_id:t.email_template_id,promo_code_id:i,templateParam:Object(o.a)(Object(o.a)({},this.state.templateParam),{},{cd_email_template_id:t.email_template_id,type:a.type})},(function(){e.getSegmentationTemplate()}))),t.fixture_participation&&this.setState({userSegmentParam:Object(o.a)(Object(o.a)({},this.state.userSegmentParam),{},{fixture_participation:t.fixture_participation})}),t.email&&this.setState({notificationData:Object(o.a)(Object(o.a)({},this.state.notificationData),{},{email:!0})}),t.for_str&&this.setState({for_str:t.for_str}),t.message&&this.setState({notificationData:Object(o.a)(Object(o.a)({},this.state.notificationData),{},{message:!0})}),t.notification&&this.setState({notificationData:Object(o.a)(Object(o.a)({},this.state.notificationData),{},{notification:!0})}),t.all_user&&this.setState({userSegmentParam:Object(o.a)(Object(o.a)({},this.state.userSegmentParam),{},{all_user:!0},n)},(function(){e.getFilterResultTest()})),t.login&&this.setState({userSegmentParam:Object(o.a)(Object(o.a)({},this.state.userSegmentParam),{},{login:!0},n)},(function(){e.getFilterResultTest()})),t.signup&&this.setState({userSegmentParam:Object(o.a)(Object(o.a)({},this.state.userSegmentParam),{},{signup:!0},n)},(function(){e.getFilterResultTest()})),this.get_cd_balance()}},{key:"toggle_",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"getSegmentationTemplate",value:function(){var e=this;this.setState({isLoading:!0}),M.a.Rest(F.nk+z.q,this.state.templateParam).then((function(t){if(e.setState({isLoading:!1}),t.response_code===F.qk){var a=[];t.data.result.map((function(e,t){return a.push({value:e.cd_email_template_id,label:e.display_label,detail:e}),""})),e.setState({templateList:a},(function(){e.state.cd_email_template_id&&(e.setState({notificationData:Object(o.a)(Object(o.a)({},e.state.notificationData),{},{email_template_id:e.state.cd_email_template_id})},(function(){a.length&&e.setState({previewObj:a[0].detail})})),e.state.promo_code_id&&e.getDepositPromotionsPromocodes())}))}else t.response_code==F.ok?e.props.history.push("/login"):e.setState({posting:!1})}))}},{key:"notifyBySelection",value:function(){var e=this,t=this.getSelectedSport(),a=Object(o.a)(Object(o.a)(Object(o.a)({},this.state.notificationData),this.state.userSegmentParam),t);console.log("notification params:",a),this.setState({isLoading:!0}),M.a.Rest(F.nk+z.w,a).then((function(t){e.setState({isLoading:!1}),t.response_code===F.qk?C.notify.show(t.message,"success",3e3):t.response_code==F.ok?e.props.history.push("/login"):e.setState({posting:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.userSegmentParam,o=t.total_users,i=t.templateList,c=t.notificationData,s=t.matchList,l=t.cd_balance,r=t.previewObj;return m.a.createElement("div",{className:"animated fadeIn new-campaign"},this.state.isLoading&&m.a.createElement(d.a,null,m.a.createElement("div",{className:"loader-body"},m.a.createElement("div",{className:"sk-spinner sk-spinner-pulse"}))),m.a.createElement("div",{className:"new campaign mb-4"},m.a.createElement(d.a,{Style:"flex-wrap:nowrap;align-items: center;"},m.a.createElement(_.a,{sm:6},m.a.createElement("h2",{className:"h2-cls"},"New Campaign ",this.state.for_str)),m.a.createElement(_.a,{sm:6},m.a.createElement("div",{onClick:function(){return e.props.history.goBack()},className:"pull-right back-cursor"}," ","< Back to Fixtures")))),m.a.createElement(d.a,null,m.a.createElement(_.a,{lg:"12"},m.a.createElement(p.a,{className:"card userbase"},m.a.createElement(g.a,{className:"userbasebar"},"Select Userbase"),m.a.createElement(f.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:12},m.a.createElement(h.a,null,m.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},m.a.createElement("input",{type:"radio",id:"all_user",className:"custom-control-input",value:"1",checked:!!a.all_user,onChange:function(t){return e.handleActivityValue(t,"activity",1)}}),m.a.createElement("label",{className:"custom-control-label",for:"all_user"},"All Users")),m.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},m.a.createElement("input",{type:"radio",id:"login",className:"custom-control-input",value:"1",checked:!!a.login,onChange:function(t){return e.handleActivityValue(t,"activity",1)}}),m.a.createElement("label",{className:"custom-control-label",for:"login"},"Login Activity")),m.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},m.a.createElement("input",{type:"radio",id:"signup",className:"custom-control-input",value:"1",checked:!!a.signup,onChange:function(t){return e.handleActivityValue(t,"activity",1)}}),m.a.createElement("label",{className:"custom-control-label",for:"signup"},"Signup Activity")),null===this.state.for_str&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},m.a.createElement("input",{type:"radio",id:"fixture_participation",className:"custom-control-input",value:"1",checked:!!a.fixture_participation,onChange:function(t){e.handleActivityValue(t,"activity",0),e.getUpcomingLiveMatchs()}}),m.a.createElement("label",{className:"custom-control-label",for:"fixture_participation"},"By Fixture Participation")))))),a.fixture_participation&&m.a.createElement(d.a,null,m.a.createElement(_.a,{lg:12},m.a.createElement("div",{className:"select preview promocode-select"},m.a.createElement(u.a,{class:"form-control",value:a.season_game_uid,onChange:this.handleFixture,options:s},m.a.createElement("div",{className:"Select-placeholder"},"Select Match"))))),(a.login||a.signup)&&m.a.createElement(d.a,null,m.a.createElement(_.a,{md:12},m.a.createElement(h.a,null,m.a.createElement("div",{className:"custom-control custom-radio custom-control-inline last-7-days"},m.a.createElement("input",{type:"radio",id:"last_7_days",className:"custom-control-input",value:"1",checked:!!a.last_7_days,onChange:function(t){return e.handleActivityValue(t,"duration")}}),m.a.createElement("label",{className:"custom-control-label",for:"last_7_days"},"Last 7 days")),m.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},m.a.createElement("input",{type:"radio",id:"custom",className:"custom-control-input",value:"1",checked:!!a.custom,onChange:function(t){return e.handleActivityValue(t,"duration")}}),m.a.createElement("label",{className:"custom-control-label",for:"custom"},"Custom"))))),a.custom&&(a.login||a.signup)&&m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:4},m.a.createElement(b.a,{htmlFor:"from_date"}," From Date"),m.a.createElement(E.a,{type:"date",id:"from_date",name:"from_date",placeholder:"",onChange:function(t){return e.handleFieldVal(t)},required:!0})),m.a.createElement(_.a,{md:4},m.a.createElement(b.a,{htmlFor:"to_date"},"To Date"),m.a.createElement(E.a,{type:"date",id:"to_date",name:"to_date",placeholder:"Duration From",onChange:function(t){return e.handleFieldVal(t)},required:!0})))),m.a.createElement(_.a,{lg:12},m.a.createElement(d.a,{className:"get button mB20 mT20"},m.a.createElement("div",{className:"getresultbtn"},m.a.createElement(v.a,{outline:!0,color:"danger",onClick:function(){return e.getFilterResultTest()}},"Get Results"),m.a.createElement("label",{className:"totaluser"},"Total Users : ",o)))))),o>0&&m.a.createElement(p.a,{className:"card templates"},m.a.createElement(g.a,{className:"userbasebar"},"Select Templates"),m.a.createElement(f.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{lg:12},m.a.createElement("div",{className:"select preview promocode-select"},m.a.createElement(u.a,{class:"form-control",value:c.email_template_id,onChange:this.handleChange,options:i},m.a.createElement("div",{className:"Select-placeholder"},"Promo Code for Deposit")),this.state.depositPromocodes.length>0&&m.a.createElement(u.a,{class:"form-control",value:c.promo_code_id,onChange:this.handlePromocodeChange,options:this.state.depositPromocodes},m.a.createElement("div",{className:"Select-placeholder"},"Select Promocode")),c.email_template_id&&m.a.createElement(d.a,{className:"previewrow"},m.a.createElement("label",{onClick:function(){return e.toggleRecentCModal()},className:"preview"},"Preview"))))),m.a.createElement(_.a,{lg:6}),m.a.createElement(d.a,{className:"mt-4"},m.a.createElement(_.a,{md:12,className:"emailcheckrow"},m.a.createElement(h.a,null,m.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},m.a.createElement(E.a,{disabled:"custom-sms"==r.template_name||"custom-notification"==r.template_name,type:"checkbox",id:"email",className:"custom-control-input",onChange:this.handleNotificationType,checked:c.email,value:c.email}),m.a.createElement("label",{className:"custom-control-label",for:"email"},"Email")),m.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},m.a.createElement(E.a,{disabled:"custom-notification"==r.template_name,type:"checkbox",id:"message",className:"custom-control-input",onChange:this.handleNotificationType,checked:c.message,value:c.message}),m.a.createElement("label",{className:"custom-control-label",for:"message"},"Message")),m.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},m.a.createElement(E.a,{disabled:"custom-sms"==r.template_name,type:"checkbox",id:"notification",className:"custom-control-input",onChange:this.handleNotificationType,checked:c.notification,value:c.notification}),m.a.createElement("label",{className:"custom-control-label",for:"notification"},"Notification"))))),"custom-sms"==r.template_name&&m.a.createElement("div",null,m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(b.a,{for:"exampleText"},"Enter Body (160 Characters)"),m.a.createElement("a",{className:"pull-right",href:"https://coolsymbol.com/emojis/emoji-for-copy-and-paste.html",target:"_blank"},"Emoji Keyboard"),m.a.createElement(E.a,{bsSize:"lg",type:"textarea",name:"text",id:"smsText",onChange:this.handleCustomSMS})))),m.a.createElement("h3",null,"Campaign URL Builder"),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(b.a,{for:"exampleText"},"Website URL"),m.a.createElement(E.a,{type:"text",name:"text",id:"campaign_url",onChange:this.handleCustomCampaign,onBlur:this.checkUrl}),m.a.createElement("div",null,m.a.createElement(b.a,null,this.state.campaign_url_error))))),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(b.a,{for:"exampleText"},"Campaign Name"),m.a.createElement(E.a,{type:"text",name:"campaign_name",id:"campaign_name",onChange:function(t){e.handleCustomCampaign(t),e.generate_campaign_url()}})))),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(b.a,{for:"exampleText"},"Generated Campaign URL"),m.a.createElement(E.a,{type:"text",name:"campaign_generated_url",id:"campaign_generated_url",readOnly:!0,onChange:function(t){e.handleCustomCampaign(t),e.generate_campaign_url()},value:this.state.notificationData.campaign_generated_url})),m.a.createElement(_.a,null,m.a.createElement(R.CopyToClipboard,{onCopy:this.onCopyLink,text:this.state.notificationData.campaign_generated_url,className:"social-circle icon-link"},m.a.createElement(v.a,{outline:!0,color:"danger"},"Copy")))),m.a.createElement("div",null,"*Use this URL in any promotional channels you want to be associated with this custom campaign ** campaign medium will be SMS. campaign source will be Communication dashboard"))),"custom-notification"==r.template_name&&m.a.createElement("div",null,m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(b.a,{for:"exampleText"},"Subject"),m.a.createElement(E.a,{type:"text",name:"custom_notification_subject",id:"custom_notification_subject",onChange:function(t){e.handleCustomNotification(t)}})))),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(b.a,{for:"exampleText"},"Enter Body "),m.a.createElement("a",{className:"pull-right",href:"https://coolsymbol.com/emojis/emoji-for-copy-and-paste.html",target:"_blank"},"Emoji Keyboard"),m.a.createElement(E.a,{bsSize:"lg",type:"textarea",name:"custom_notification_text",id:"custom_notification_text",onChange:this.handleCustomNotification})))),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(_.a,{md:6,className:"emailcheckrow"},m.a.createElement(u.a,{class:"form-control",value:c.custom_notification_landing_page,onChange:this.handleLandingPage,options:z.F},m.a.createElement("div",{className:"Select-placeholder"},"Select Landing Page")))))),m.a.createElement(d.a,null,m.a.createElement(_.a,null,m.a.createElement(d.a,{className:"select preview"}),m.a.createElement(d.a,{className:"popcardrow popcardrow-copy"},m.a.createElement(_.a,{md:4},m.a.createElement(p.a,{className:"popcard"},m.a.createElement("h6",{className:"popcard6"},"E-MAIL"),m.a.createElement("h2",{className:"popcard8"}," ",this.state.balance_will_used.email_count),m.a.createElement("h6",{className:"popcard7"},"Credit remaining:",l.email_balance))),m.a.createElement(_.a,{md:4},m.a.createElement(p.a,{className:"popcard"},m.a.createElement("h6",{className:"popcard6"},"SMS"),m.a.createElement("h2",{className:"popcard8"},this.state.balance_will_used.sms_count),m.a.createElement("h6",{className:"popcard7"},"Credit remaining:",l.sms_balance))),m.a.createElement(_.a,{md:4},m.a.createElement(p.a,{className:"popcard"},m.a.createElement("h6",{className:"popcard6"},"Notification"),m.a.createElement("h2",{className:"popcard8"},this.state.balance_will_used.notification_count),m.a.createElement("h6",{className:"popcard7"},"Credit remaining:",l.notification_balance)))))),m.a.createElement(d.a,{className:"align-items-left"},m.a.createElement(_.a,{lg:12},m.a.createElement(_.a,{md:12,className:"sendbtn text-center"},m.a.createElement(v.a,{className:"btn-sm",outline:!0,color:"danger",disabled:!((1==c.notification||1==c.email||1==c.message)&&c.email_template_id),onClick:function(){return e.notifyBySelection()}},"Send")))))))),m.a.createElement(S.a,Object(n.a)({isOpen:this.state.communication_review_modal,toggle:this.toggleRecentCModal,className:this.props.className},"className","modal-md"),m.a.createElement(y.a,{toggle:this.toggleRecentCModal,className:"promotion"},m.a.createElement("h5",{className:"promotion title"}," Preview")),m.a.createElement(N.a,null,m.a.createElement("div",{className:"popuppreviewtab"},m.a.createElement(j.a,{tabs:!0},m.a.createElement(w.a,null,m.a.createElement(P.a,{className:I()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle_("1")}},"Email")),m.a.createElement(w.a,null,m.a.createElement(P.a,{className:I()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle_("2")}},"SMS")),m.a.createElement(w.a,null,m.a.createElement(P.a,{className:I()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle_("3")}},"Notification"))),m.a.createElement(k.a,{activeTab:this.state.activeTab},m.a.createElement(O.a,{tabId:"1"},m.a.createElement(d.a,null,m.a.createElement(_.a,{sm:"12",className:"temptab"},m.a.createElement("div",{className:"subjecttemp"},m.a.createElement("text",{className:"subject"},"Subject - ",this.state.previewObj.subject)),m.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.previewObj.email_body}})))),m.a.createElement(O.a,{tabId:"2"},m.a.createElement(d.a,null,m.a.createElement(_.a,{sm:"12",className:"temptab"},m.a.createElement("div",null,this.state.previewObj.message_body)))),m.a.createElement(O.a,{tabId:"3"},m.a.createElement(d.a,null,m.a.createElement(_.a,{sm:"12",className:"temptab"},m.a.createElement("div",null,this.state.previewObj.message_body)))))),m.a.createElement("div",{className:"templatepreview"}))))}}]),a}(r.Component);t.default=K}}]);
//# sourceMappingURL=188.f040f5ed.chunk.js.map