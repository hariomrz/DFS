(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[156],{513:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(0),l=a.n(s),i=a(523),n=a.n(i),c=a(9);function r(e){var t=e.data,a=t.date,s=t.format;return a?l.a.createElement(n.a,{date:c.a.getUtcToLocal(a),format:s}):""}},585:function(e,t,a){"use strict";var s=a(6),l=a(7),i=a(0),n=a.n(i),c=a(1),r=a.n(c),o=a(3),u=a.n(o),m=a(4),d={children:r.a.node,row:r.a.bool,check:r.a.bool,inline:r.a.bool,disabled:r.a.bool,tag:m.q,className:r.a.string,cssModule:r.a.object},g=function(e){var t=e.className,a=e.cssModule,i=e.row,c=e.disabled,r=e.check,o=e.inline,d=e.tag,g=Object(l.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),_=Object(m.m)(u()(t,!!i&&"row",r?"form-check":"form-group",!(!r||!o)&&"form-check-inline",!(!r||!c)&&"disabled"),a);return"fieldset"===d&&(g.disabled=c),n.a.createElement(d,Object(s.a)({},g,{className:_}))};g.propTypes=d,g.defaultProps={tag:"div"},t.a=g},911:function(e,t,a){"use strict";a.r(t);var s=a(11),l=a(12),i=a(15),n=a(14),c=a(0),r=a.n(c),o=a(155),u=a(156),m=a(585),d=a(498),g=a(499),_=a(154),f=a(8),h=a(9),p=a(107),v=a(69),L=a.n(v),E=a(5),k=a.n(E),S=(a(46),a(23)),x=a.n(S),N=a(18),b=a(513),y=function(e){Object(i.a)(a,e);var t=Object(n.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).GetMiniLeagueDetail=function(){l.setState({posting:!0}),h.a.Rest(f.nk+f.ze,{sports_id:l.state.selected_sport,mini_league_uid:l.state.mini_league_uid}).then((function(e){if(e.response_code===f.qk){e=e.data;var t=l.state.contestTemplate;t.name=e.mini_league_name,t.sponsor_name=e.sponsor_name,t.sponsor_logo=e.sponsor_logo,t.sponsor_link=e.sponsor_link,t.mini_league_uid=e.mini_league_uid,t.set_sponsor=""!=e.sponsor_name?"1":"0";var a=[];k.a.map(e.season_list,(function(e,t){a.push(e)})),l.setState({posting:!1,miniLeagueDetail:e,selected_league:e.league_id,contestTemplate:t,season_game_uids:a},(function(){console.log("selected ",a),l.getLeagueSeasion()}))}else e.response_code==f.ok&&(h.a.logout(),l.props.history.push("/login"));l.setState({posting:!1})})).catch((function(e){l.setState({posting:!1})}))},l.GetAllLeagueList=function(){l.setState({posting:!0}),h.a.Rest(f.nk+f.te,{sports_id:l.state.selected_sport}).then((function(e){e.response_code===f.qk?(e=e.data,l.setState({posting:!1},(function(){l.createLeagueList(e)}))):e.response_code==f.ok&&(h.a.logout(),l.props.history.push("/login")),l.setState({posting:!1})})).catch((function(e){l.setState({posting:!1})}))},l.createLeagueList=function(e){var t=[];e.map((function(e,a){t.push({value:e.league_id,label:e.league_name})})),l.setState({leagueListM:e,leagueList:t})},l.Create=function(){if(l.getSelectedLeague().length<=0)return N.notify.show("Please select atleast one fixture.","error",3e3),!1;l.setState({posting:!0}),console.log({mini_league_uid:l.state.contestTemplate.mini_league_uid,mini_league_name:l.state.contestTemplate.name,league_id:l.state.selected_league,seasons:l.getSelectedLeague()}),h.a.Rest(f.nk+f.hj,{mini_league_uid:l.state.contestTemplate.mini_league_uid,seasons:l.getSelectedLeague()}).then((function(e){l.setState({posting:!1}),e.response_code===f.qk?(N.notify.show(e.message,"success",5e3),e=e.data,l.props.history.push({pathname:"/game_center/DFS/",search:"?fixtab=2"})):e.response_code==f.ok&&(h.a.logout(),l.props.history.push("/login"))})).catch((function(e){l.setState({posting:!1})}))},l.handleFieldSearch=function(e){if(console.log(e.target.name,e.target.value),e){var t;e.target.name,t=e.target.value,l.setState({keyword:t},(function(){this.search()}))}},l.handleLeague=function(e,t){e&&"selected_league"==t&&l.setState({selected_league:e.value,fixtureList:[],fixtureMainList:[]},(function(){this.getLeagueSeasion(),this.setState({league_start_date:this.getSeasionDate("start"),league_end_date:this.getSeasionDate("end")})}))},l.getLeagueSeasion=function(){console.log("selected uids  ",l.state.season_game_uids),l.setState({posting:!0}),h.a.Rest(f.nk+f.ue,{league_id:l.state.selected_league,team_uid:l.state.team_uid}).then((function(e){if(e.response_code===f.qk){e=e.data;var t=[],a=[];console.log("season list ",e.season_list),k.a.map(e.season_list,(function(e,a){e.is_selected=!1,k.a.map(l.state.season_game_uids,(function(t,a){e.season_game_uid==t.season_game_uid&&(e.is_selected=!0)})),0==e.is_selected&&t.push(e)})),k.a.map(l.state.season_game_uids,(function(e,t){e.is_selected=!0,a.push(e)})),console.log("allfixlist ",t),l.setState({posting:!1,fixtureList:t,fixtureMainList:t,selectedfixtureList:a},(function(){}))}else e.response_code==f.ok&&(h.a.logout(),l.props.history.push("/login"));l.setState({posting:!1})})).catch((function(e){l.setState({posting:!1})}))},l.handleFilter=function(e,t){if(e){var a=[],s=l.state.fixtureMainList;l.setState({fixtureFilterSelected:e},(function(){a=2==e.value?s.filter((function(e){return e.is_selected})):3==e.value?s.filter((function(e){return!e.is_selected})):s,this.setState({fixtureList:a})}))}},l.handleChkVal=function(e){if(e){var t=e.target.checked;l.setState({selectAll:t},(function(){this.selectAll()}))}},l.getFormatedDate=function(e){return e=h.a.getUtcToLocal(e),x()(e).format("LLLL")},l.state={contestTemplate:{name:"",league_id:[],multiple_lineup:"1",entry_fee_type:"1",max_bonus_allowed:"0",prize_type:"1",prize_pool_type:"1",master_contest_type_id:"1",group_id:"1",is_auto_recurring:!1,site_rake:0,custom_total_percentage:"100",custom_total_amount:"0",prize_value_type:"0",is_tie_breaker:!0,sponsor_name:"",sponsor_logo:"",sponsor_link:"",set_sponsor:0},mini_league_uid:l.props.match.params.mini_league_uid?l.props.match.params.mini_league_uid:"",selected_league:"",league_start_date:"",league_end_date:"",leagueList:[],leagueListM:[],selectSetPrize:!1,selectUnsetPrize:!0,fixtureList:[],selectedfixtureList:[],fixtureFilter:[{label:"All",id:1},{label:"Selected",value:2},{label:"Unselected",value:3}],fixtureFilterSelected:{label:"All",value:1},fixtureMainList:[],fixtureDetail:{},name:"",accordion:[],activeTab:1,posting:!1,keyword:"",selectAll:!1,dropdownOpen:new Array(19).fill(!1),selected_sport:L.a.get("selected_sport")?L.a.get("selected_sport"):f.pk},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.GetAllLeagueList(),this.GetMiniLeagueDetail()}},{key:"getSeasionDate",value:function(e){var t,a=this;return this.state.leagueListM.map((function(e,s){e.league_id==a.state.selected_league&&(t=e)})),"start"==e?(console.log("selecteditem.league_schedule_date",t.league_schedule_date),t.league_schedule_date):(console.log("selecteditem.league_schedule_date",t.league_last_date),t.league_last_date)}},{key:"selectAll",value:function(){var e=this;k.a.map(this.state.fixtureList,(function(t,a){t.is_selected=e.state.selectAll})),this.setState({fixtureList:this.state.fixtureList})}},{key:"search",value:function(){var e=this;if(this.state.keyword.length>1){var t=this.state.fixtureMainList.filter((function(t){var a=t.home.toLowerCase(),s=t.away.toLowerCase();return a.includes(e.state.keyword.toLowerCase())||s.includes(e.state.keyword.toLowerCase())}));this.setState({fixtureList:t})}else this.setState({fixtureList:this.state.fixtureMainList})}},{key:"render",value:function(){var e=this,t=this.state,a=t.leagueList,s=t.contestTemplate,l=t.selectAll;t.name;return r.a.createElement("div",{className:"create-ml-parent"},r.a.createElement(o.a,null,r.a.createElement(u.a,{md:12},r.a.createElement("div",{className:"screen-header"},r.a.createElement("div",{className:"sc-title"},"Edit Mini League"),r.a.createElement("div",{onClick:function(){e.props.history.goBack()},className:"sc-back-arrow"},"< Go Back")))),r.a.createElement("div",{className:"create-ml-parent white-box"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"ml-first-row"},r.a.createElement("label",null,"Select League"),r.a.createElement(p.a,{disabled:!0,className:"league-selector-create-tournament",id:"selected_league",name:"selected_league",placeholder:"Select League",value:this.state.selected_league,options:a,onChange:function(t){return e.handleLeague(t,"selected_league")}})),r.a.createElement("div",{className:"ml-first-row"},r.a.createElement("label",{className:"select-league-label"},"Mini League Name"),r.a.createElement("input",{disabled:!0,maxlength:"30",className:"tournament-name required",id:"name",name:"name",value:s.name,onChange:function(t){return e.handleFieldVal(t,"name","name")},placeholder:"Mini League Name"}))),r.a.createElement("div",{className:"fixture-view"},(this.getSelectedLeague().length,r.a.createElement("label",{className:"fixture-label"},"Selected Fixtures")),r.a.createElement("div",{className:"line"}),r.a.createElement("div",null,r.a.createElement(o.a,null,k.a.map(this.state.selectedfixtureList,(function(e,t){return console.log(e),r.a.createElement(u.a,{md:3,key:t},r.a.createElement("div",{className:"fixture-data"},r.a.createElement("img",{src:f.wi+f.Rc+e.home_flag,className:"team-image"}),r.a.createElement("div",{className:"center-view"},r.a.createElement("label",{className:"team-name"},e.home+" vs "+e.away),r.a.createElement("label",{className:"time"},r.a.createElement(b.a,{data:{date:e.season_scheduled_date,format:"D-MMM-YYYY hh:mm A"}}))),r.a.createElement("img",{src:f.wi+f.Rc+e.away_flag,className:"team-image"}),e.is_selected&&r.a.createElement("div",{className:"right-selection"},r.a.createElement("i",{className:"icon-righttick"}))))}))))),r.a.createElement("div",{className:"fixture-view"},r.a.createElement("label",{className:"fixture-label"},"Select Fixtures"),r.a.createElement("div",{className:"fixture-view-header"},r.a.createElement("div",{className:"select-all-parent"},r.a.createElement("label",{className:"select-all"},"Select All"),r.a.createElement("input",{type:"checkbox",defaultChecked:l,checked:l,onChange:function(t){return e.handleChkVal(t)}}),r.a.createElement("label",{className:"select-all"},"Yes")),r.a.createElement("div",{className:"right-item"},r.a.createElement(p.a,{className:"fixture-filter-selector",id:"selected_league",name:"selected_league",placeholder:"All",value:this.state.fixtureFilterSelected,options:this.state.fixtureFilter,onChange:function(t){return e.handleFilter(t,"fixtureFilter")}}),r.a.createElement(m.a,{className:"float-right"},r.a.createElement(d.a,{className:"search-wrapper"},r.a.createElement("i",{className:"icon-search",onClick:function(){e.search()}}),r.a.createElement(g.a,{type:"text",id:"keyword",name:"keyword",value:this.state.keyword,onChange:function(t){return e.handleFieldSearch(t)},onKeyPress:function(t){"Enter"===t.key&&e.search()},placeholder:"Search"}))))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",null,r.a.createElement(o.a,null,k.a.map(this.state.fixtureList,(function(t,a){return console.log(t),r.a.createElement(u.a,{md:3,key:a},r.a.createElement("div",{className:"fixture-data",onClick:function(){t.is_selected=!t.is_selected;var a=e.isAllSelected();e.setState({selectAll:a},(function(){e.setState({fixtureList:e.state.fixtureList},(function(){}))}))}},r.a.createElement("img",{src:f.wi+f.Rc+t.home_flag,className:"team-image"}),r.a.createElement("div",{className:"center-view"},r.a.createElement("label",{className:"team-name"},t.home+" vs "+t.away),r.a.createElement("label",{className:"time"},r.a.createElement(b.a,{data:{date:t.season_scheduled_date,format:"D-MMM-YYYY hh:mm A"}}))),r.a.createElement("img",{src:f.wi+f.Rc+t.away_flag,className:"team-image"}),t.is_selected&&r.a.createElement("div",{className:"right-selection"},r.a.createElement("i",{className:"icon-righttick"}))))})))))),r.a.createElement(o.a,null,r.a.createElement(u.a,{md:12},r.a.createElement("div",{className:"cr-trmnt-slr"},r.a.createElement(_.a,{disabled:this.state.posting,onClick:function(){e.Create()},className:"btn-secondary-outline"},"Update")))))}},{key:"getSelectedLeague",value:function(){var e=[];return k.a.map(this.state.fixtureList,(function(t,a){t.is_selected&&e.push(t.season_game_uid)})),e}},{key:"isAllSelected",value:function(){for(var e=!0,t=0;t<this.state.fixtureList.length;t++)if(!this.state.fixtureList[t].is_selected){e=!1;break}return e}}]),a}(c.Component);t.default=y}}]);
//# sourceMappingURL=156.1b1ba053.chunk.js.map