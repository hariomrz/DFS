(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[187,218],{516:function(e,a,t){"use strict";var n=t(6),r=t(7),l=t(0),o=t.n(l),i=t(1),s=t.n(i),u=t(3),c=t.n(u),m=t(4),f={className:s.a.string,cssModule:s.a.object,size:s.a.string,bordered:s.a.bool,borderless:s.a.bool,striped:s.a.bool,dark:s.a.bool,hover:s.a.bool,responsive:s.a.oneOfType([s.a.bool,s.a.string]),tag:m.q,responsiveTag:m.q,innerRef:s.a.oneOfType([s.a.func,s.a.string,s.a.object])},d=function(e){var a=e.className,t=e.cssModule,l=e.size,i=e.bordered,s=e.borderless,u=e.striped,f=e.dark,d=e.hover,p=e.responsive,_=e.tag,b=e.responsiveTag,h=e.innerRef,E=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),y=Object(m.m)(c()(a,"table",!!l&&"table-"+l,!!i&&"table-bordered",!!s&&"table-borderless",!!u&&"table-striped",!!f&&"table-dark",!!d&&"table-hover"),t),v=o.a.createElement(_,Object(n.a)({},E,{ref:h,className:y}));if(p){var g=Object(m.m)(!0===p?"table-responsive":"table-responsive-"+p,t);return o.a.createElement(b,{className:g},v)}return v};d.propTypes=f,d.defaultProps={tag:"table",responsiveTag:"div"},a.a=d},869:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return v}));var n=t(11),r=t(12),l=t(15),o=t(14),i=t(0),s=t.n(i),u=t(155),c=t(156),m=t(154),f=t(516),d=t(499),p=t(5),_=t.n(p),b=t(8),h=t(9),E=t(18),y=t(10),v=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).getReferralAmount=function(){h.a.Rest(b.nk+b.Yc,{}).then((function(e){e.response_code==b.qk?r.setState({ReferralAmount:e.data}):E.notify.show(b.Ri,"error",3e3)})).catch((function(e){E.notify.show(b.Ri,"error",3e3)}))},r.EditView=function(e){r.setState({EditView:e})},r.pointChange=function(e,a,t){var n=r.state.ReferralAmount;if(n[e][t]=a,a<0)n[e][t]="",E.notify.show(t.replace(/_/g," ")+" should be greater than equal to 0.","error",3e3);else if(n[e][t]=a,"user_bonus"==t||"user_real"==t||"user_coin"==t)for(var l in n)"0"!=e||19!=n[l].affiliate_type&&20!=n[l].affiliate_type&&21!=n[l].affiliate_type||(n[l][t]=a);r.setState({ReferralAmount:n})},r.state={ReferralAmount:[],EditView:!1,UpdateLoading:!0,ALLOW_COIN_MODULE:y.i.allowCoin()},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getReferralAmount()}},{key:"updateAmount",value:function(){var e=this,a=this.state.ReferralAmount;for(var t in a)if(a[t].real_amount<0||""==a[t].real_amount||a[t].coin_amount<0||""==a[t].coin_amount||a[t].user_real<0||""==a[t].user_real||a[t].user_coin<0||""==a[t].user_coin)return E.notify.show("Value should be greater than equal to 0.","error",3e3),!1;this.setState({UpdateLoading:!1}),h.a.Rest(b.nk+b.Ui,a).then((function(a){a.response_code===b.qk&&(E.notify.show("Points updated successfully","success",3e3),e.setState({UpdateLoading:!0}),e.EditView(!1))})).catch((function(e){E.notify.show(b.Ri,"error",3e3)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.ReferralAmount,n=a.EditView,r=a.UpdateLoading,l=a.ALLOW_COIN_MODULE;return s.a.createElement(i.Fragment,null,s.a.createElement("div",{className:"animated fadeIn referral-view-main mt-4"},s.a.createElement(u.a,null,s.a.createElement(c.a,{md:12},s.a.createElement("h1",{className:"h1-cls"},"Update Referral Amount"))),s.a.createElement(u.a,{className:"filters-box"},s.a.createElement(c.a,{md:12},s.a.createElement("div",{className:"filters-area"},s.a.createElement(m.a,{className:"btn-secondary",onClick:function(){return e.EditView(!0)}},"Edit")))),s.a.createElement(u.a,null,s.a.createElement(c.a,{md:12,className:"table-responsive common-table"},s.a.createElement(f.a,null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{rowSpan:"2",className:"width-350 left-th text-center width-350"},"Event"),s.a.createElement("th",{className:"text-center",colSpan:"3"},"Referred By"),s.a.createElement("th",{className:"text-center",colSpan:"5"},"Referred To")),s.a.createElement("tr",null,s.a.createElement("th",null,"Real"),s.a.createElement("th",null,"Bonus"),1==l&&s.a.createElement("th",null,"Coin"),s.a.createElement("th",null,"Real"),s.a.createElement("th",null,"Bonus"),1==l&&s.a.createElement("th",null,"Coin"),s.a.createElement("th",null,"Capping"),s.a.createElement("th",null,"Invest Money"))),_.a.map(t,(function(a,t){return s.a.createElement("tbody",{key:t},s.a.createElement("tr",null,s.a.createElement("td",{className:"width-350"},a.affiliate_description),s.a.createElement("td",null,n?s.a.createElement(d.a,{type:"number",disabled:0==a.is_referral,name:"real_amount",className:"form-control",value:a.real_amount,onChange:function(a){return e.pointChange(t,a.target.value,"real_amount")}}):a.real_amount),s.a.createElement("td",null,n?s.a.createElement(d.a,{type:"number",disabled:0==a.is_referral||23==a.affiliate_type||22==a.affiliate_type,name:"bonus_amount",className:"form-control",value:a.bonus_amount,onChange:function(a){return e.pointChange(t,a.target.value,"bonus_amount")}}):a.bonus_amount),1==l&&s.a.createElement("td",null,n?s.a.createElement(d.a,{type:"number",disabled:22==a.affiliate_type||23==a.affiliate_type||0==a.is_referral,name:"coin_amount",className:"form-control",value:a.coin_amount,onChange:function(a){return e.pointChange(t,a.target.value,"coin_amount")}}):a.coin_amount),s.a.createElement("td",null,n?s.a.createElement(d.a,{disabled:14==a.affiliate_type||19==a.affiliate_type||20==a.affiliate_type||23==a.affiliate_type||22==a.affiliate_type||21==a.affiliate_type,type:"number",name:"user_real",className:"form-control",value:a.user_real,onChange:function(a){return e.pointChange(t,a.target.value,"user_real")}}):a.user_real),s.a.createElement("td",null,n?s.a.createElement(d.a,{disabled:14==a.affiliate_type||19==a.affiliate_type||20==a.affiliate_type||22==a.affiliate_type||23==a.affiliate_type||21==a.affiliate_type,type:"number",name:"user_bonus",className:"form-control",value:a.user_bonus,onChange:function(a){return e.pointChange(t,a.target.value,"user_bonus")}}):a.user_bonus),1==l&&s.a.createElement("td",null,n?s.a.createElement(d.a,{disabled:14==a.affiliate_type||19==a.affiliate_type||20==a.affiliate_type||23==a.affiliate_type||22==a.affiliate_type||21==a.affiliate_type,type:"number",name:"user_coin",className:"form-control",value:a.user_coin,onChange:function(a){return e.pointChange(t,a.target.value,"user_coin")}}):a.user_coin),s.a.createElement("td",null,n?s.a.createElement(d.a,{disabled:14!=a.affiliate_type,type:"number",name:"user_coin",className:"form-control",value:a.max_earning_amount,onChange:function(a){return e.pointChange(t,a.target.value,"max_earning_amount")}}):a.max_earning_amount?a.max_earning_amount:"--"),s.a.createElement("td",null,n?s.a.createElement(d.a,{disabled:23!=a.affiliate_type,type:"number",name:"user_coin",className:"form-control",value:a.invest_money,onChange:function(a){return e.pointChange(t,a.target.value,"invest_money")}}):a.invest_money?a.invest_money:"--")))}))))),s.a.createElement(u.a,{className:"float-right mb-4"},s.a.createElement(c.a,null,s.a.createElement(m.a,{disabled:!n||!r,className:"btn-secondary mr-3",onClick:function(){return e.updateAmount()}},"Save"),s.a.createElement(m.a,{className:"btn-secondary",onClick:function(){return e.EditView(!1)}},"Cancel")))))}}]),t}(i.Component)}}]);
//# sourceMappingURL=187.aeab0d83.chunk.js.map