(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[200],{891:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n=a(59),s=a(11),l=a(12),r=a(15),o=a(14),c=a(0),i=a.n(c),u=a(539),m=a(543),d=a(538),p=a(155),h=a(156),g=a(516),E=a(499),f=a(542),_=a(154),b=a(5),y=a.n(b),S=a(8),C=a(9),k=a(18),v=a(107),P=a(507),R=a.n(P),N=a(69),O=a.n(N),w=[{value:"1",label:"Inning 1"},{value:"2",label:"Inning 2"}],T=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).getSeasonStats=function(){var e=l.state,t=e.InningChange,a=e.PERPAGE,n=e.CURRENT_PAGE,s=e.selected_sport,r=l.props.match.params,o=r.leagueid,c=r.gameid,i={items_perpage:a,current_page:n,sort_order:"DESC",sort_field:"",sports_id:s,league_id:o||"0",match_inning:t,game_unique_id:c||"0"};C.a.Rest(S.nk+S.of,i).then((function(e){e.response_code==S.qk?l.setState({Fields:e.data.fields,SeasonResult:e.data.result,SeasonData:e.data.season_data,Total:e.data.total}):k.notify.show(S.Ri,"error",3e3)})).catch((function(e){k.notify.show(S.Ri,"error",3e3)}))},l.handleTypeChange=function(e,t){null!=e&&l.setState(Object(n.a)({},t,e.value),l.getSeasonStats)},l.playPause=function(e){var t,a=l.props.match.params.gameid;t={match_status:"2"==e?"2":"1"==e?"0":"1",season_game_uid:a||"0"};var n=l.state.SeasonData;C.a.Rest(S.nk+S.ej,t).then((function(t){t.response_code==S.qk?(k.notify.show(t.message,"success",3e3),n.match_status="2"==e?"2":"1"==e?"0":"1","2"==e&&l.publishEnsureToggle(),l.setState({SeasonData:n})):k.notify.show(S.Ri,"error",3e3)})).catch((function(e){k.notify.show(S.Ri,"error",3e3)}))},l.reCalculate=function(){var e=l.state.selected_sport,t=l.props.match.params,a=t.leagueid,n=t.gameid,s={sports_id:e,league_id:a||"0",season_game_uid:n||"0"};C.a.Rest(S.nk+S.li,s).then((function(e){e.response_code==S.qk?k.notify.show("Success","success",3e3):k.notify.show(S.Ri,"error",3e3)})).catch((function(e){k.notify.show(S.Ri,"error",3e3)}))},l.publishEnsureToggle=function(){l.setState({PublishModalOpen:!l.state.PublishModalOpen})},l.editStatsToggle=function(e){l.setState({itemObj:e,EditModalOpen:!l.state.EditModalOpen})},l.editStatsModal=function(){var e=l.state.itemObj;return i.a.createElement(u.a,{isOpen:l.state.EditModalOpen,toggle:function(){return l.editStatsToggle(e)},className:"modal-lg stats-edit-modal"},i.a.createElement(m.a,null,"Player Score"),i.a.createElement(d.a,null,i.a.createElement(p.a,null,i.a.createElement(h.a,{md:12,className:"table-responsive common-table"},i.a.createElement(g.a,null,i.a.createElement("thead",null,i.a.createElement("tr",null,y.a.map(e,(function(e,t){return"player_uid"!=t&&i.a.createElement("th",{key:t},t.replace(/_/g," ").toLowerCase())})))),i.a.createElement("tbody",null,i.a.createElement("tr",null,y.a.map(e,(function(e,t){return"player_uid"!=t&&("display_name"==t||"player_name"==t||"position"==t||"team_name"==t||"scheduled_date"==t?i.a.createElement("td",{key:t},e.replace(/_/g," ").toLowerCase()):i.a.createElement("td",{key:t},i.a.createElement(E.a,{type:"number",value:e.replace(/_/g," ").toLowerCase(),name:t,onChange:function(e){return l.handleInputChange(e)}})))})))))))),i.a.createElement(f.a,null,i.a.createElement(_.a,{disabled:l.state.updatePosting,color:"secondary",onClick:l.updatePlayerMatchScore},"Update")," ",i.a.createElement(_.a,{color:"primary",onClick:function(){return l.editStatsToggle(e)}},"Cancel")))},l.handleInputChange=function(e){var t=e.target.name,a=e.target.value,n=l.state.itemObj;n[t]=a,l.setState({itemObj:n})},l.updatePlayerMatchScore=function(){var e=l.props.match.params,t=e.leagueid,a=e.gameid,n=l.state,s=n.InningChange,r=n.itemObj,o=n.selected_sport;for(var c in r){if(""==r[c])return k.notify.show(c.replace(/_/g," ").toLowerCase()+" field can not be empty.","error",3e3),!1;l.setState({updatePosting:!1,itemObj:r})}var i={sports_id:o,season_game_uid:a||"0",league_id:t||"0",match_inning:s,player_data:r};C.a.Rest(S.nk+S.pj,i).then((function(e){e.response_code==S.qk?(k.notify.show(e.message,"success",3e3),l.editStatsToggle(r)):k.notify.show(S.Ri,"error",3e3)})).catch((function(e){k.notify.show(S.Ri,"error",3e3)}))},l.state={PERPAGE:S.Vf,CURRENT_PAGE:"1",InningChange:"1",Fields:[],SeasonData:[],PublishModalOpen:!1,EditModalOpen:!1,itemObj:{},updatePosting:!1,SeasonResult:[],selected_sport:O.a.get("selected_sport")?O.a.get("selected_sport"):S.pk,BackTab:l.props.match.params.tab?l.props.match.params.tab:1},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getSeasonStats()}},{key:"handlePageChange",value:function(e){var t=this;this.setState({CURRENT_PAGE:e},(function(){t.getSeasonStats()}))}},{key:"publishEnsureModal",value:function(){var e=this;return i.a.createElement(u.a,{isOpen:this.state.PublishModalOpen,toggle:this.publishEnsureToggle},i.a.createElement(m.a,null,"Publish Stats"),i.a.createElement(d.a,{className:"font-16"},"Please recalculate point before publish it. Are you sure want to publish match ?"),i.a.createElement(f.a,null,i.a.createElement(_.a,{color:"secondary",onClick:function(){return e.playPause("2")}},"Yes")," ",i.a.createElement(_.a,{color:"primary",onClick:this.publishEnsureToggle},"No")))}},{key:"render",value:function(){var e=this,t=this.state,a=t.BackTab,n=t.SeasonResult,s=t.SeasonData,l=t.Fields,r=t.InningChange,o=t.CURRENT_PAGE,u=t.PERPAGE,m=t.Total;return i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"season-stats"},this.editStatsModal(),i.a.createElement(p.a,null,i.a.createElement(h.a,{md:12,className:"top-heading"},i.a.createElement("h1",{className:"h1-cls"},"Season Stats"),i.a.createElement("label",{className:"back-btn",onClick:function(){return e.props.history.push("/game_center/DFS?tab="+a)}}," ","< ","Back to Fixtures"))),i.a.createElement(p.a,{className:"xfilter-userlist mb-4"},i.a.createElement(h.a,{md:2},i.a.createElement("div",null,i.a.createElement("label",{className:"filter-label"},"Select Innings"),i.a.createElement(v.a,{isSearchable:!0,class:"form-control",options:w,menuIsOpen:!0,value:r,onChange:function(t){return e.handleTypeChange(t,"InningChange")}}))),i.a.createElement(h.a,{md:10},i.a.createElement("ul",{className:"stats-list"},i.a.createElement("li",{className:"stats-items"},"0"==s.match_status&&1==s.match_started&&i.a.createElement(_.a,{onClick:function(){return e.playPause(s.match_status)}},"Pause"),"1"==s.match_status&&1==s.match_started&&i.a.createElement(_.a,{onClick:function(){return e.playPause(s.match_status)}},"Play")),"1"==s.match_status&&1==s.match_started&&i.a.createElement(c.Fragment,null,i.a.createElement("li",{className:"stats-items"},i.a.createElement(_.a,{onClick:this.reCalculate},"Recalculate")),i.a.createElement("li",{className:"stats-items"},this.publishEnsureModal(),i.a.createElement(_.a,{onClick:this.publishEnsureToggle},"Publish")))))),i.a.createElement(p.a,null,i.a.createElement(h.a,{md:12,className:"table-responsive common-table"},i.a.createElement("div",{className:"tableFixHead"},i.a.createElement(g.a,null,i.a.createElement("thead",null,i.a.createElement("tr",null,y.a.map(l,(function(e,t){return t>0&&i.a.createElement("th",{key:t},e.replace(/_/g," ").toLowerCase())})))),m>0?y.a.map(n,(function(t,a){return i.a.createElement("tbody",{key:a},i.a.createElement("tr",null,y.a.map(l,(function(a,n){return n>0&&i.a.createElement("td",{key:n},t[a],i.a.createElement("div",{className:"edit-stats-btn"},"player_name"==a&&"1"==s.match_status&&1==s.match_started&&i.a.createElement(_.a,{onClick:function(){return e.editStatsToggle(t)},className:"stats-btn xfloat-right"},"Edit")))}))))})):i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"26"},i.a.createElement("div",{className:"no-records"},"No Records Found.")))))))),m>u&&i.a.createElement("div",{className:"custom-pagination lobby-paging"},i.a.createElement(R.a,{activePage:o,itemsCountPerPage:u,totalItemsCount:m,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))))}}]),a}(c.Component)}}]);
//# sourceMappingURL=200.ed016dc7.chunk.js.map