(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[61],{508:function(e,t,a){"use strict";var n=a(6),s=a(7),o=a(81),i=a(0),r=a.n(i),c=a(1),l=a.n(c),m=a(3),d=a.n(m),u=a(519),p=a(4),h=Object(o.a)({},u.Transition.propTypes,{children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]),tag:p.q,baseClass:l.a.string,baseClassActive:l.a.string,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])}),g=Object(o.a)({},u.Transition.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:p.e.Fade,appear:!0,enter:!0,exit:!0,in:!0});function f(e){var t=e.tag,a=e.baseClass,o=e.baseClassActive,i=e.className,c=e.cssModule,l=e.children,m=e.innerRef,h=Object(s.a)(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),g=Object(p.o)(h,p.c),f=Object(p.n)(h,p.c);return r.a.createElement(u.Transition,g,(function(e){var s="entered"===e,u=Object(p.m)(d()(i,a,s&&o),c);return r.a.createElement(t,Object(n.a)({className:u},f,{ref:m}),l)}))}f.propTypes=h,f.defaultProps=g,t.a=f},518:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),s=a.n(n).a.createContext({})},538:function(e,t,a){"use strict";var n=a(6),s=a(7),o=a(0),i=a.n(o),r=a(1),c=a.n(r),l=a(3),m=a.n(l),d=a(4),u={tag:d.q,className:c.a.string,cssModule:c.a.object},p=function(e){var t=e.className,a=e.cssModule,o=e.tag,r=Object(s.a)(e,["className","cssModule","tag"]),c=Object(d.m)(m()(t,"modal-body"),a);return i.a.createElement(o,Object(n.a)({},r,{className:c}))};p.propTypes=u,p.defaultProps={tag:"div"},t.a=p},539:function(e,t,a){"use strict";var n=a(81),s=a(6),o=a(16),i=a(22),r=a(0),c=a.n(r),l=a(1),m=a.n(l),d=a(3),u=a.n(d),p=a(32),h=a.n(p),g=a(4),f={children:m.a.node.isRequired,node:m.a.any},b=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},a.render=function(){return g.f?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),h.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(c.a.Component);b.propTypes=f;var E=b,v=a(508);function C(){}var N=m.a.shape(v.a.propTypes),k={isOpen:m.a.bool,autoFocus:m.a.bool,centered:m.a.bool,scrollable:m.a.bool,size:m.a.string,toggle:m.a.func,keyboard:m.a.bool,role:m.a.string,labelledBy:m.a.string,backdrop:m.a.oneOfType([m.a.bool,m.a.oneOf(["static"])]),onEnter:m.a.func,onExit:m.a.func,onOpened:m.a.func,onClosed:m.a.func,children:m.a.node,className:m.a.string,wrapClassName:m.a.string,modalClassName:m.a.string,backdropClassName:m.a.string,contentClassName:m.a.string,external:m.a.node,fade:m.a.bool,cssModule:m.a.object,zIndex:m.a.oneOfType([m.a.number,m.a.string]),backdropTransition:N,modalTransition:N,innerRef:m.a.oneOfType([m.a.object,m.a.string,m.a.func]),unmountOnClose:m.a.bool,returnFocusAfterClose:m.a.bool,container:g.r},y=Object.keys(k),O={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:C,onClosed:C,modalTransition:{timeout:g.e.Modal},backdropTransition:{mountOnEnter:!0,timeout:g.e.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body"},_=function(e){function t(t){var a;return(a=e.call(this,t)||this)._element=null,a._originalBodyPadding=null,a.getFocusableChildren=a.getFocusableChildren.bind(Object(o.a)(a)),a.handleBackdropClick=a.handleBackdropClick.bind(Object(o.a)(a)),a.handleBackdropMouseDown=a.handleBackdropMouseDown.bind(Object(o.a)(a)),a.handleEscape=a.handleEscape.bind(Object(o.a)(a)),a.handleStaticBackdropAnimation=a.handleStaticBackdropAnimation.bind(Object(o.a)(a)),a.handleTab=a.handleTab.bind(Object(o.a)(a)),a.onOpened=a.onOpened.bind(Object(o.a)(a)),a.onClosed=a.onClosed.bind(Object(o.a)(a)),a.manageFocusAfterClose=a.manageFocusAfterClose.bind(Object(o.a)(a)),a.clearBackdropAnimationTimeout=a.clearBackdropAnimationTimeout.bind(Object(o.a)(a)),a.state={isOpen:!1,showStaticBackdropAnimation:!1},a}Object(i.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.props,t=e.isOpen,a=e.autoFocus,n=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),a&&this.setFocus()),n&&n(),this._isMounted=!0},a.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},a.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),this._isMounted=!1},a.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||C)(e,t)},a.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||C)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},a.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},a.getFocusableChildren=function(){return this._element.querySelectorAll(g.h.join(", "))},a.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(a){e=t[0]}return e},a.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},a.handleTab=function(e){if(9===e.which){var t=this.getFocusableChildren(),a=t.length;if(0!==a){for(var n=this.getFocusedChild(),s=0,o=0;o<a;o+=1)if(t[o]===n){s=o;break}e.shiftKey&&0===s?(e.preventDefault(),t[a-1].focus()):e.shiftKey||s!==a-1||(e.preventDefault(),t[0].focus())}}},a.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},a.handleEscape=function(e){this.props.isOpen&&e.keyCode===g.l.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},a.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)},a.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=Object(g.j)(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=Object(g.i)(),Object(g.g)(),0===t.openCount&&(document.body.className=u()(document.body.className,Object(g.m)("modal-open",this.props.cssModule))),t.openCount+=1},a.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},a.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},a.close=function(){if(t.openCount<=1){var e=Object(g.m)("modal-open",this.props.cssModule),a=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(a," ").trim()}this.manageFocusAfterClose(),t.openCount=Math.max(0,t.openCount-1),Object(g.p)(this._originalBodyPadding)},a.renderModalDialog=function(){var e,t=this,a=Object(g.n)(this.props,y);return c.a.createElement("div",Object(s.a)({},a,{className:Object(g.m)(u()("modal-dialog",this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e["modal-dialog-centered"]=this.props.centered,e["modal-dialog-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),c.a.createElement("div",{className:Object(g.m)(u()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},a.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var a=this.props,o=a.wrapClassName,i=a.modalClassName,r=a.backdropClassName,l=a.cssModule,m=a.isOpen,d=a.backdrop,p=a.role,h=a.labelledBy,f=a.external,b=a.innerRef,C={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":h,role:p,tabIndex:"-1"},N=this.props.fade,k=Object(n.a)({},v.a.defaultProps,{},this.props.modalTransition,{baseClass:N?this.props.modalTransition.baseClass:"",timeout:N?this.props.modalTransition.timeout:0}),y=Object(n.a)({},v.a.defaultProps,{},this.props.backdropTransition,{baseClass:N?this.props.backdropTransition.baseClass:"",timeout:N?this.props.backdropTransition.timeout:0}),O=d&&(N?c.a.createElement(v.a,Object(s.a)({},y,{in:m&&!!d,cssModule:l,className:Object(g.m)(u()("modal-backdrop",r),l)})):c.a.createElement("div",{className:Object(g.m)(u()("modal-backdrop","show",r),l)}));return c.a.createElement(E,{node:this._element},c.a.createElement("div",{className:Object(g.m)(o)},c.a.createElement(v.a,Object(s.a)({},C,k,{in:m,onEntered:this.onOpened,onExited:this.onClosed,cssModule:l,className:Object(g.m)(u()("modal",i,this.state.showStaticBackdropAnimation&&"modal-static"),l),innerRef:b}),f,this.renderModalDialog()),O))}return null},a.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},t}(c.a.Component);_.propTypes=k,_.defaultProps=O,_.openCount=0;t.a=_},542:function(e,t,a){"use strict";var n=a(6),s=a(7),o=a(0),i=a.n(o),r=a(1),c=a.n(r),l=a(3),m=a.n(l),d=a(4),u={tag:d.q,className:c.a.string,cssModule:c.a.object},p=function(e){var t=e.className,a=e.cssModule,o=e.tag,r=Object(s.a)(e,["className","cssModule","tag"]),c=Object(d.m)(m()(t,"modal-footer"),a);return i.a.createElement(o,Object(n.a)({},r,{className:c}))};p.propTypes=u,p.defaultProps={tag:"div"},t.a=p},543:function(e,t,a){"use strict";var n=a(6),s=a(7),o=a(0),i=a.n(o),r=a(1),c=a.n(r),l=a(3),m=a.n(l),d=a(4),u={tag:d.q,wrapTag:d.q,toggle:c.a.func,className:c.a.string,cssModule:c.a.object,children:c.a.node,closeAriaLabel:c.a.string,charCode:c.a.oneOfType([c.a.string,c.a.number]),close:c.a.object},p=function(e){var t,a=e.className,o=e.cssModule,r=e.children,c=e.toggle,l=e.tag,u=e.wrapTag,p=e.closeAriaLabel,h=e.charCode,g=e.close,f=Object(s.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),b=Object(d.m)(m()(a,"modal-header"),o);if(!g&&c){var E="number"===typeof h?String.fromCharCode(h):h;t=i.a.createElement("button",{type:"button",onClick:c,className:Object(d.m)("close",o),"aria-label":p},i.a.createElement("span",{"aria-hidden":"true"},E))}return i.a.createElement(u,Object(n.a)({},f,{className:b}),i.a.createElement(l,{className:Object(d.m)("modal-title",o)},r),g||t)};p.propTypes=u,p.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},t.a=p},545:function(e,t,a){"use strict";var n=a(11),s=a(12),o=a(15),i=a(14),r=a(0),c=a.n(r),l=a(539),m=a(543),d=a(538),u=a(542),p=a(154),h=a(46),g=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.Message,n=t.ActionPopupOpen,s=t.Screen,o=t.posting;return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{isOpen:n,className:"modal-sm action-request",toggle:function(){return e.props.modalCallback()}},c.a.createElement(m.a,null,c.a.createElement("img",{src:h.a.ERROR_ICON,alt:""})),c.a.createElement(d.a,null,c.a.createElement("span",{className:"info-text"},a)),c.a.createElement(u.a,{className:"request-footer"},c.a.createElement(p.a,{className:"btn-secondary-outline ripple no-btn",onClick:this.props.modalCallback},"No"),c.a.createElement(p.a,{disabled:o,className:"btn-secondary-outline ripple",onClick:function(){return"Report"==s?e.props.modalReportActionCallback():"Approve"==s?e.props.modalUpdatePendingCallback():e.props.modalActioCallback()}},"Yes"))))}}]),a}(r.Component);t.a=g},553:function(e,t,a){"use strict";var n=a(6),s=a(22),o=a(0),i=a.n(o),r=a(1),c=a.n(r),l=a(3),m=a.n(l),d=a(518),u=a(4),p={tag:u.q,activeTab:c.a.any,className:c.a.string,cssModule:c.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(s.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,s=e.tag,o=Object(u.n)(this.props,Object.keys(p)),r=Object(u.m)(m()("tab-content",t),a);return i.a.createElement(d.a.Provider,{value:{activeTabId:this.state.activeTab}},i.a.createElement(s,Object(n.a)({},o,{className:r})))},t}(o.Component);t.a=h,h.propTypes=p,h.defaultProps={tag:"div"}},554:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(6),s=a(7),o=a(0),i=a.n(o),r=a(1),c=a.n(r),l=a(3),m=a.n(l),d=a(518),u=a(4),p={tag:u.q,className:c.a.string,cssModule:c.a.object,tabId:c.a.any};function h(e){var t=e.className,a=e.cssModule,o=e.tabId,r=e.tag,c=Object(s.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(u.m)(m()("tab-pane",t,{active:o===e}),a)};return i.a.createElement(d.a.Consumer,null,(function(e){var t=e.activeTabId;return i.a.createElement(r,Object(n.a)({},c,{className:l(t)}))}))}h.propTypes=p,h.defaultProps={tag:"div"}},885:function(e,t,a){"use strict";a.r(t);var n=a(59),s=a(11),o=a(12),i=a(15),r=a(14),c=a(0),l=a.n(c),m=a(155),d=a(503),u=a(501),p=a(502),h=a(553),g=a(554),f=a(156),b=a(499),E=a(498),v=a(506),C=a(239),N=a(154),k=a(46),y=a(5),O=a.n(y),_=a(9),P=a(8),T=a(18),A=a(23),j=a.n(A),S=a(507),w=a.n(S),R=a(107),M=a(157),F=a(545),D=a(671),q=a.n(D),I=a(536),x=a.n(I),B=(a(521),a(10)),Q=[{value:"2",label:"Fake"},{value:"3",label:"Not relevant"}],L=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).filterReport=function(e){o.setState({FromDate:"",filterType:e,CURRENT_PAGE:1,PEN_CURRENT_PAGE:1},(function(){"1"!=o.state.filterType&&"0"!=o.state.filterType||o.getFeedbackQuestionsByStatus(),"2"!=o.state.filterType&&"3"!=o.state.filterType||o.getFeedbacksByStatus()}))},o.exportReport=function(){var e="";e+="&Sessionkey="+_.a.getToken(),window.open(P.nk+"adminapi/user/export_users?"+e,"_blank")},o.handleInputChange=function(e){var t=e.target.name,a=e.target.value;o.setState(Object(n.a)({},t,a),(function(){return o.validateForm(t,a)}))},o.validateForm=function(e,t){var a=o.state.Question,n=o.state.Coins;switch(e){case"Question":a=t.length>0&&t.length<=80,o.setState({QuestionMSg:a});break;case"Coins":n=!!(t.length>0&&t.length<=4&&t.match(/^(|[0-9][0-9]{0,4})$/)),o.setState({CoinsMSg:n})}o.setState({formValid:a&&n})},o.resetChanges=function(){o.setState({formValid:!1,Question:"",Coins:"",CoinsMSg:!0,QuestionMSg:!0})},o.editQuestion=function(e){o.setState({feedbackQuestionId:e.feedback_question_id.$oid,Question:e.question,Coins:e.coins})},o.addFeedbackQuestion=function(){o.setState({formValid:!1});var e=o.state,t=e.Question,a=e.Coins,n=e.feedbackQuestionId,s={question:t,coins:a},i=P.d;n&&(s.feedback_question_id=n,i=P.Xi),_.a.Rest(P.nk+i,s).then((function(e){e.response_code==P.qk&&(o.getFeedbackQuestionsByStatus(),T.notify.show(e.message,"success",5e3),o.setState({formValid:!0,Question:"",Coins:"",CoinsMSg:!0,QuestionMSg:!0}))})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))},o.toggleActionPopup=function(e,t,a){var n=a?"Inactive":"Active";o.setState({ScreenView:"Promotions",ActionMsgStatus:a,Message:"Are you sure you want to "+n+" this question?",indexVal:t,RewardID:e,ActionPopupOpen:!o.state.ActionPopupOpen})},o.handleTypeChange=function(e,t,a){o.toggleApprovePopup(t,a,e.value)},o.toggleApprovePopup=function(e,t,a){var n=0==a?"approve":"reject";o.setState({ScreenView:"Approve",Message:"Are you sure you want to "+n+" ?",ActionMsgStatus:a,indexVal:t,feedbackquestionAnswerId:e,ActionPopupOpen:!o.state.ActionPopupOpen})},o.modalUpdatePendingCallback=function(){var e=o.state,t=e.indexVal,a=e.CommentList,n=e.ActionMsgStatus,s={status:0==n?1:n,feedback_question_answer_id:e.feedbackquestionAnswerId};_.a.Rest(P.nk+P.Zi,s).then((function(e){e.response_code==P.qk?(T.notify.show(e.message,"success",5e3),O.a.remove(a,(function(e,a){return a==t})),o.setState({CommentList:a,ActionPopupOpen:!o.state.ActionPopupOpen})):T.notify.show(P.Ri,"error",5e3)})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))},o.modalActioCallback=function(){o.setState({YesPosting:!0});var e=o.state,t=e.indexVal,a=e.QuestionList,n={status:e.ActionMsgStatus?0:1,feedback_question_id:e.RewardID};_.a.Rest(P.nk+P.Yi,n).then((function(e){e.response_code==P.qk?(T.notify.show(e.message,"success",5e3),O.a.remove(a,(function(e,a){return a==t})),o.setState({QuestionList:a,ActionPopupOpen:!o.state.ActionPopupOpen})):T.notify.show(P.Ri,"error",5e3),o.setState({YesPosting:!1})})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))},o.getFeedbacksByStatus=function(){o.setState({PendingListPosting:!0});var e=o.state,t=e.FromDate,a=e.PEN_PERPAGE,n=e.PEN_CURRENT_PAGE,s={status:2==e.filterType?0:1,items_perpage:a,current_page:n,from_date:t?j()(t.toString()).format("DD-MM-YYYY"):""};_.a.Rest(P.nk+P.de,s).then((function(e){e.response_code==P.qk&&o.setState({CommentList:e.data.comments,CommentTotal:e.data.total,CommentPosting:!1})})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))},o.rateFeedback=function(e,t,a){var n=o.state.CommentList;n[a].rating=e;var s={feedback_question_answer_id:t,rating:e};_.a.Rest(P.nk+P.ki,s).then((function(t){t.response_code==P.qk&&(o.setState({rating:e,CommentList:n}),T.notify.show(t.message,"success",5e3))})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))},o.updateFeedbackStatus=function(e,t){var a={feedback_question_answer_id:e,status:t};_.a.Rest(P.nk+P.ki,a).then((function(e){e.response_code==P.qk&&T.notify.show(e.global_error,"success",5e3)})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))},o.handleDateFilter=function(e,t){o.setState(Object(n.a)({},t,e),(function(){o.state.FromDate&&(0==o.state.filterType?o.getFeedbackQuestionsByStatus():o.getFeedbacksByStatus())}))},o.state={PERPAGE:P.Vf,CURRENT_PAGE:1,PEN_PERPAGE:P.Vf,PEN_CURRENT_PAGE:1,activeTab:"3",filterType:O.a.isUndefined(o.props.match.params.pending)?"1":"2",formValid:!1,Question:"",Coins:"",CoinsMSg:!0,QuestionMSg:!0,QuestionList:[],CommentList:[],QuestionListPosting:!1,ScreenView:"",feedbackQuestionId:"",rating:0,CommentTotal:0},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){"2"==this.state.filterType?this.getFeedbacksByStatus():this.getFeedbackQuestionsByStatus()}},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"getFeedbackQuestionsByStatus",value:function(){var e=this;this.setState({QuestionListPosting:!0});var t=this.state,a=t.FromDate,n={status:t.filterType,items_perpage:t.PERPAGE,current_page:t.CURRENT_PAGE,from_date:a?j()(a.toString()).format("DD-MM-YYYY"):""};_.a.Rest(P.nk+P.ee,n).then((function(t){t.response_code==P.qk&&e.setState({QuestionList:t.data.questions,Total:t.data.total,QuestionListPosting:!1})})).catch((function(e){T.notify.show(P.Ri,"error",5e3)}))}},{key:"handlePageChange",value:function(e){this.setState({CURRENT_PAGE:e},this.getFeedbackQuestionsByStatus)}},{key:"handlePendingPageChange",value:function(e){this.setState({PEN_CURRENT_PAGE:e},this.getFeedbacksByStatus)}},{key:"render",value:function(){var e=this,t=this.state,a=t.FeedbackReject,n=t.Message,s=t.PEN_CURRENT_PAGE,o=t.PEN_PERPAGE,i=t.CommentTotal,r=t.CommentPosting,y=t.CommentList,_=t.ScreenView,T=t.CURRENT_PAGE,A=t.PERPAGE,S=t.QuestionListPosting,D=t.Total,I=t.QuestionList,L=t.ActionPopupOpen,G=t.activeTab,U=t.filterType,V=t.Question,Y=t.Coins,z=t.formValid,$=t.CoinsMSg,W=t.QuestionMSg,K={Posting:t.YesPosting,Message:n,Screen:_,modalCallback:this.toggleActionPopup,ActionPopupOpen:L,modalActioCallback:this.modalActioCallback,modalUpdatePendingCallback:this.modalUpdatePendingCallback};return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,K),l.a.createElement(m.a,null,l.a.createElement("h2",{className:"h2-cls mt-4"},"Promotions")),l.a.createElement(m.a,{className:"user-navigation redeem-screen"},l.a.createElement("div",{className:"w-100"},l.a.createElement(d.a,{tabs:!0},l.a.createElement(u.a,{className:"3"===G?"active":"",onClick:function(){e.toggle("3")}},l.a.createElement(p.a,null,"Feedback"))),l.a.createElement(h.a,{activeTab:G},l.a.createElement(g.a,{tabId:"1",className:"animated fadeIn"},"1"),l.a.createElement(g.a,{tabId:"2",className:"animated fadeIn"},"2"),l.a.createElement(g.a,{tabId:"3",className:"animated fadeIn"},l.a.createElement("div",{className:"promotion-feedback"},l.a.createElement(m.a,null,l.a.createElement(f.a,{md:12},l.a.createElement("ul",{className:"reports-filter-list mb-0"},l.a.createElement("li",{className:"reports-filter-item"},l.a.createElement("div",{className:"filter-status ".concat(1==U?"active":""),onClick:function(){return 1==U?"":e.filterReport(1)}},"Active")),l.a.createElement("li",{className:"reports-filter-item"},l.a.createElement("div",{className:"filter-status ".concat(0==U?"active":""),onClick:function(){return 0==U?"":e.filterReport(0)}},"Inactive")),l.a.createElement("li",{className:"reports-filter-item"},l.a.createElement("div",{className:"filter-status ".concat(2==U?"active":""),onClick:function(){return 2==U?"":e.filterReport(2)}},"Pending For Approval")),l.a.createElement("li",{className:"reports-filter-item"},l.a.createElement("div",{className:"filter-status ".concat(3==U?"active":""),onClick:function(){return 3==U?"":e.filterReport(3)}},"Approved feedback"))))),1==U&&l.a.createElement("div",{className:"active-items animated fadeIn"},l.a.createElement("div",{className:"card-box-wrapper card-wrapper"},l.a.createElement(m.a,null,l.a.createElement(f.a,{md:7},l.a.createElement("div",{className:"mb-20"},l.a.createElement("label",{htmlFor:"Question"},"Question"),l.a.createElement(b.a,{maxLength:80,className:"question-input",type:"textarea",name:"Question",value:V,onChange:this.handleInputChange}),!W&&l.a.createElement("span",{className:"color-red"},"Please enter valid question.")),l.a.createElement("div",{className:"redeem-box clearfix"},l.a.createElement("label",{htmlFor:"Redeem"},"Earn Coins"),l.a.createElement("div",{className:"redeem float-left"},l.a.createElement(E.a,null,l.a.createElement(v.a,{addonType:"prepend"},l.a.createElement(C.a,null,l.a.createElement("img",{src:k.a.REWARD_ICON,alt:""}))),l.a.createElement(b.a,{placeholder:"Enter Coins",maxLength:4,name:"Coins",value:Y,onChange:this.handleInputChange})),!$&&l.a.createElement("span",{className:"color-red"},"Please enter valid number only.")),l.a.createElement("div",{className:"publish-box float-right"},l.a.createElement("div",{onClick:this.resetChanges,className:"refresh icon-reset"}),l.a.createElement(N.a,{disabled:!z,className:"btn-secondary-outline publish-btn",onClick:this.addFeedbackQuestion},"Publish")))),l.a.createElement(f.a,{md:5},l.a.createElement("div",{className:"img-preview-box"},l.a.createElement(c.Fragment,null,O.a.isEmpty(V)&&O.a.isEmpty(Y)?l.a.createElement("span",{className:"preview-text"},"Your Preview will",l.a.createElement("br",null)," appear here"):l.a.createElement("div",{className:"question-item-wrapper"},l.a.createElement("div",{className:"question"},V),l.a.createElement("div",{className:"winning-coins"},l.a.createElement("span",null,"GET"," ",l.a.createElement("img",{src:k.a.REWARD_ICON,alt:""})," ",B.i.getNumberWithCommas(Y))),l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(f.a,{md:6},l.a.createElement("div",{className:"action-btn"},l.a.createElement("i",{className:"icon-inactive"}),l.a.createElement("span",null,"Inactive"))),l.a.createElement(f.a,{md:6},l.a.createElement("div",{className:"action-btn"},l.a.createElement("i",{className:"icon-edit"}),l.a.createElement("span",null,"Edit"))))))))))),l.a.createElement(m.a,null,D>0?O.a.map(I,(function(t,a){return l.a.createElement(f.a,{md:4,key:a},l.a.createElement("div",{className:"question-item-wrapper"},l.a.createElement("div",{onClick:function(){return e.props.history.push("/coins/question-details/"+t.feedback_question_id.$oid)},className:"question"},t.question),0!=t.coins&&l.a.createElement("div",{className:"winning-coins"},l.a.createElement("span",null,"GET"," ",l.a.createElement("img",{src:k.a.REWARD_ICON,alt:""})," ",B.i.getNumberWithCommas(t.coins))),l.a.createElement("div",{className:"xp-2 action-box"},l.a.createElement(m.a,null,l.a.createElement(f.a,{md:6,className:"action-border"},l.a.createElement("div",{className:"action-btn"},l.a.createElement("span",{onClick:function(){return e.toggleActionPopup(t.feedback_question_id.$oid,a,t.status)}},l.a.createElement("i",{className:"icon-inactive"}),"Inactive"))),l.a.createElement(f.a,{md:6},l.a.createElement("div",{className:"action-btn"},l.a.createElement("span",{onClick:function(){return e.editQuestion(t)}},l.a.createElement("i",{className:"icon-edit"}),"Edit")))))))})):l.a.createElement(f.a,{md:12},0!=D||S?l.a.createElement(M.a,null):l.a.createElement("div",{className:"no-records mt-4"},"No Question Added."))),D>A&&l.a.createElement("div",{className:"custom-pagination"},l.a.createElement(w.a,{activePage:T,itemsCountPerPage:A,totalItemsCount:D,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))),1!=U&&0!=U&&l.a.createElement("div",{className:"mt-3"},l.a.createElement("label",{className:"filter-label"},"Select Date"),l.a.createElement(x.a,{className:"filter-date",showYearDropdown:"true",selected:this.state.FromDate,onChange:function(t){return e.handleDateFilter(t,"FromDate")},placeholderText:"Date",dateFormat:"dd/MM/yyyy"})),"0"==U&&l.a.createElement("div",{className:"inactive-items animated fadeIn"},l.a.createElement(m.a,null,D>0?O.a.map(I,(function(t,a){return l.a.createElement(f.a,{md:4,key:a},l.a.createElement("div",{className:"question-item-wrapper"},l.a.createElement("div",{onClick:function(){return e.props.history.push("/coins/question-details/"+t.feedback_question_id.$oid)},className:"question"},t.question),0!=t.coins&&l.a.createElement("div",{className:"winning-coins"},l.a.createElement("span",null,"GET"," ",l.a.createElement("img",{src:k.a.REWARD_ICON,alt:""})," ",B.i.getNumberWithCommas(t.coins))),l.a.createElement("div",{className:"p-2"},l.a.createElement(m.a,null,l.a.createElement(f.a,{md:12},l.a.createElement("div",{onClick:function(){return e.toggleActionPopup(t.feedback_question_id.$oid,a,t.status)},className:"action-btn"},l.a.createElement("i",{className:"icon-inactive"}),l.a.createElement("span",null,"Active")))))))})):l.a.createElement(f.a,{md:12},0!=D||S?l.a.createElement(M.a,null):l.a.createElement("div",{className:"no-records mt-4"},P.Cg))),D>A&&l.a.createElement("div",{className:"custom-pagination"},l.a.createElement(w.a,{activePage:T,itemsCountPerPage:A,totalItemsCount:D,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))),"2"==U&&l.a.createElement("div",{className:"pending-items animated fadeIn"},i>0?O.a.map(y,(function(t,n){var s=new Date(1e3*t.added_date);return l.a.createElement("div",{className:"pending-wrapper",key:n},l.a.createElement(m.a,null,l.a.createElement(f.a,{md:12},l.a.createElement("div",null,l.a.createElement("div",{className:"pending-date"},j()(s.toString()).format("DD MMM"),"                                "),l.a.createElement("div",{className:"s-question"},t.question_detail[0].question),l.a.createElement("div",{className:"stars"},l.a.createElement(q.a,{svgIconViewBox:"0 0 20 20",svgIconPath:"M9.5 14.25l-5.584 2.936 1.066-6.218L.465 6.564l6.243-.907L9.5 0l2.792 5.657 6.243.907-4.517 4.404 1.066 6.218",className:"star-ratings",starHoverColor:"#F8436E",starRatedColor:"#F8436E",starEmptyColor:"#DFDFDF",changeRating:function(a){return e.rateFeedback(a,t.feedback_question_answer_id.$oid,n)},starDimension:"24px",numberOfStars:5,name:"rating",rating:t.rating,starSpacing:"0"})),l.a.createElement("div",{className:"suggestions"},l.a.createElement("div",{className:"username"},t.username),l.a.createElement("div",{className:"answer"},t.answer))))),l.a.createElement(m.a,{className:"b-bottom mt-3"},l.a.createElement(f.a,{md:12},l.a.createElement("div",{className:"reject-option"},l.a.createElement(R.a,{searchable:!1,clearable:!1,class:"form-control",options:Q,placeholder:"Reject",value:a,onChange:function(a){return e.handleTypeChange(a,t.feedback_question_answer_id.$oid,n)}})),l.a.createElement(N.a,{onClick:function(){return e.toggleApprovePopup(t.feedback_question_answer_id.$oid,n,t.status)},className:"btn-secondary-outline"},"Approve"))))})):l.a.createElement(f.a,{md:12},0!=i||r?l.a.createElement(M.a,null):l.a.createElement("div",{className:"no-records mt-4"},P.Cg)),i>o&&l.a.createElement("div",{className:"custom-pagination"},l.a.createElement(w.a,{activePage:s,itemsCountPerPage:o,totalItemsCount:i,pageRangeDisplayed:5,onChange:function(t){return e.handlePendingPageChange(t)}}))),"3"==U&&l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"pending-items animated fadeIn"},i>0?O.a.map(y,(function(e,t){var a=new Date(1e3*e.added_date);return l.a.createElement("div",{key:t,className:"pending-wrapper"},l.a.createElement(m.a,{className:"b-bottom"},l.a.createElement(f.a,{md:12},l.a.createElement("div",null,l.a.createElement("div",{className:"pending-date"},j()(a.toString()).format("DD MMM")),l.a.createElement("div",{className:"s-question"},e.question_detail[0].question),l.a.createElement("div",{className:"stars"},l.a.createElement(q.a,{svgIconViewBox:"0 0 20 20",svgIconPath:"M9.5 14.25l-5.584 2.936 1.066-6.218L.465 6.564l6.243-.907L9.5 0l2.792 5.657 6.243.907-4.517 4.404 1.066 6.218",className:"star-ratings",starRatedColor:"#F8436E",starEmptyColor:"#DFDFDF",starDimension:"24px",numberOfStars:5,name:"rating",rating:e.rating,starSpacing:"0"})),l.a.createElement("div",{className:"suggestions"},l.a.createElement("div",{className:"username"},e.username),l.a.createElement("div",{className:"answer"},e.answer))))))})):l.a.createElement(f.a,{md:12},0!=i||r?l.a.createElement(M.a,null):l.a.createElement("div",{className:"no-records mt-4"},P.Cg)),i>0&&l.a.createElement("div",{className:"custom-pagination"},l.a.createElement(w.a,{activePage:s,itemsCountPerPage:o,totalItemsCount:i,pageRangeDisplayed:5,onChange:function(t){return e.handlePendingPageChange(t)}}))))))))))}}]),a}(c.Component);t.default=L}}]);
//# sourceMappingURL=61.8b4a82c1.chunk.js.map