(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[176],{612:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(550),l=a(11),s=a(12),r=a(15),i=a(14),o=a(0),c=a.n(o),m=a(599),u=a(155),d=a(156),h=a(562),p=a.n(h),g=a(563),f=a.n(g),_=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"onDepositRadioBtnClick",value:function(e){this.setState({Dashboard:[].concat(Object(n.a)(this.state.Dashboard),[{filtertype:e}])})}},{key:"onSiteRakeRadioBtnClick",value:function(e){var t=this;this.setState({filtertype:e},(function(){t.getTimelines()}))}},{key:"onSiteFreePaidBtnClick",value:function(e){var t=this;this.setState({filtertype:e},(function(){t.getTimelines()}))}},{key:"onSiteFreePaidBtnClick",value:function(e){var t=this;this.setState({filtertype:e},(function(){t.getTimelines()}))}},{key:"render",value:function(){var e=this.props.HighGraphConfigOption;return c.a.createElement("div",null,c.a.createElement(f.a,{highcharts:p.a,options:e}),c.a.createElement(u.a,{className:"sh"},e.LineData&&e.LineData.map((function(e,t){return c.a.createElement(d.a,{sm:6,className:"legend-col",key:t},c.a.createElement("div",{className:"legend-counts"},c.a.createElement("div",{className:""},e.title),c.a.createElement("div",{className:"amount valuecolor"},c.a.createElement(m.a,{value:e.value,displayType:"text",thousandSeparator:!0,prefix:""}))))}))))}}]),a}(o.Component)},853:function(e,t,a){"use strict";a.r(t);var n=a(11),l=a(12),s=a(82),r=a(15),i=a(14),o=a(0),c=a.n(o),m=a(154),u=a(155),d=a(156),h=a(516),p=a(5),g=a.n(p),f=a(536),_=a.n(f),E=(a(521),a(107)),v=a(507),b=a.n(v),y=a(23),D=a.n(y),N=a(522),S=a.n(N),F=a(157),k=a(8),C=a(9),L=a(612),w=a(69),Y=a.n(w),U=a(10),M=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var l;Object(n.a)(this,a),(l=t.call(this,e)).getSystemUserLeagueList=function(){l.setState({posting:!0});var e=l.state.leageListFilter;e.from_date=D()(e.from_date).format("YYYY-MM-DD"),e.to_date=D()(e.to_date).format("YYYY-MM-DD");var t=e;C.a.Rest(k.nk+k.xf,t).then((function(e){if(e.response_code===k.qk){var t=e.data.result,a=[{value:"",label:"All"}];t.map((function(e,t){a.push({value:e.league_id,label:e.league_display_name})})),l.setState({options:a})}l.setState({posting:!1})}))},l.getUserList=function(){l.setState({posting:!0});var e=l.state.filter;e.from_date=D()(e.from_date).format("YYYY-MM-DD"),e.to_date=D()(e.to_date).format("YYYY-MM-DD");var t=e;C.a.Rest(k.nk+k.yf,t).then((function(e){if(e.response_code===k.qk){var t=e.data.result,a=e.data.total;null!=e&&null!=e.data&&null!=t&&l.renderGraph(t),l.setState({posting:!1,userslist:t},(function(){l.setState({totalBalance:e.data.balance})})),a>0&&l.setState({total:a})}l.setState({posting:!1})}))},l.renderGraph=function(e){var t=[],a=[];e.map((function(e,n){var l=e.collection_name+" <br /> "+D()(e.season_scheduled_date).format("DD MMM YYYY");t.push(l),Number.parseInt(e.net_profit)>=0?a.push({y:Number.parseInt(e.net_profit),color:"#5dbe7d"}):a.push({y:Number.parseInt(e.net_profit),color:"#d07f7f"})})),l.setState({HighGraphProgressConfigOption:{chart:{backgroundColor:"#FFFFFF",type:"column",height:350},navigator:{enabled:!0},title:{text:""},xAxis:{labels:{style:{fontWeight:"bold"}},title:{text:""},categories:t},yAxis:{lineWidth:1,title:{text:""}},tooltip:{backgroundColor:"#FFFFFF",borderColor:"tranparent",borderRadius:4,borderWidth:0,textAlign:"center"},plotOptions:{series:{pointWidth:20,stacking:"normal",borderRadius:3,showInLegend:!1}},credits:{enabled:!1},series:[{name:"",type:"column",data:a}]}})},l.clearFilter=function(){var e=l.state.filter,t=l.state.leageListFilter;e.from_date=new Date(Date.now()-1296e6),e.to_date=new Date,t.from_date=new Date(Date.now()-1296e6),t.to_date=new Date,e.league_id="",l.setState({StartDate:"",EndDate:"",UserStatus:"",filter:e,leageListFilter:t},(function(){l.getUserList(),l.getSystemUserLeagueList()}))};var r={sports_id:Y.a.get("selected_sport")?Y.a.get("selected_sport"):k.pk,league_id:"",from_date:U.i.getFirstDateOfMonth(),to_date:new Date,current_page:1,items_perpage:10},i={sports_id:Y.a.get("selected_sport")?Y.a.get("selected_sport"):k.pk,from_date:U.i.getFirstDateOfMonth(),to_date:new Date};return l.state={filter:r,options:[],leageListFilter:i,posting:!1,StartDate:"",EndDate:"",UserStatus:1,userslist:[],userFullName:"",totalBalance:"",total:0},l.handleChange=l.handleChange.bind(Object(s.a)(l)),l.handleChangeEnd=l.handleChangeEnd.bind(Object(s.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.filter,t=this.props.location.search,a=S.a.parse(t);1==a.pending&&(e.pending_pan_approval=a.pending,this.setState({filter:e})),this.getUserList(),this.getSystemUserLeagueList()}},{key:"handlePageChange",value:function(e){var t=this.state.filter;t.current_page=e,this.setState({filter:t},(function(){this.getUserList()}))}},{key:"handleSelect",value:function(e){if(null!=e){var t=this.state.filter;t.league_id=e.value,t.current_page=1,this.setState({filter:t,UserStatus:e},(function(){this.getUserList()}))}}},{key:"handleChange",value:function(e){var t=this.state.filter,a=this.state.leageListFilter;t.from_date=e,a.from_date=e,t.current_page=1,this.setState({filter:t},(function(){this.getUserList(),this.getSystemUserLeagueList()}))}},{key:"handleChangeEnd",value:function(e){var t=this.state.filter,a=this.state.leageListFilter;t.to_date=e,a.to_date=e,t.current_page=1,this.setState({filter:t},(function(){this.getUserList(),this.getSystemUserLeagueList()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.filter,n=t.UserStatus,l=t.userslist,s=t.total,r=t.posting;return c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"bot-user-reports"},c.a.createElement("div",{className:"manage-user-heading clearfix"},c.a.createElement("h2",{className:"h2-cls"},"System User Reports"),c.a.createElement("div",{className:"search-user"},c.a.createElement(m.a,{className:"add-bots btn-secondary-outline",onClick:function(){e.props.history.push({pathname:"/system-users/userslist/"})}},"Add system user"))),c.a.createElement(u.a,{className:"filter-userlist"},c.a.createElement(d.a,{md:9},c.a.createElement("div",{className:"member-box float-left"},c.a.createElement("div",{className:"float-left"},c.a.createElement("label",{className:"filter-label"},"Start Date"),c.a.createElement(_.a,{maxDate:new Date(a.to_date),className:"filter-date",showYearDropdown:"true",selected:new Date(a.from_date),onChange:this.handleChange,placeholderText:"From",dateFormat:"dd/MM/yyyy"})),c.a.createElement("div",{className:"float-left"},c.a.createElement("label",{className:"filter-label"},"End Date"),c.a.createElement(_.a,{minDate:new Date(a.from_date),maxDate:new Date,className:"filter-date",showYearDropdown:"true",selected:new Date(a.to_date),onChange:this.handleChangeEnd,placeholderText:"To",dateFormat:"dd/MM/yyyy"})))),c.a.createElement(d.a,{md:3},c.a.createElement(m.a,{className:"add-bots btn-secondary-outline float-right mt-4",onClick:this.clearFilter},"Clear Filter"))),c.a.createElement("div",null,this.state.HighGraphProgressConfigOption&&c.a.createElement("div",{className:"graph-container-user-report"},c.a.createElement("div",null,c.a.createElement("span",{className:"balance"},"Balance"),c.a.createElement("div",{className:"league-dropdown"},c.a.createElement(E.a,{searchable:!1,clearable:!1,options:this.state.options,value:n,onChange:function(t){return e.handleSelect(t)}}))),c.a.createElement("div",{className:Number.parseFloat(this.state.totalBalance)>=0?" positive-balance":" negative-balance"},this.state.totalBalance),c.a.createElement(L.a,Object.assign({},this.props,{HighGraphConfigOption:this.state.HighGraphProgressConfigOption})," "))),c.a.createElement("div",{style:{margin:"10px",fontWeight:"bold"}},"Joined system user"),c.a.createElement(u.a,{className:"user-list"},c.a.createElement(d.a,{className:"md-12 table-responsive"},c.a.createElement(h.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"left-th pl-4 align-left"},"Fixture"),c.a.createElement("th",{className:"align-left"},"Date & Time"),c.a.createElement("th",null,"Total Users"),c.a.createElement("th",null,"System Users"),c.a.createElement("th",null,"Real Users"),c.a.createElement("th",null,"Bonus loss"),c.a.createElement("th",null,"Real amount collected"),c.a.createElement("th",null,"Real User Winnings"),c.a.createElement("th",null,"Site Rake Remaining"),c.a.createElement("th",null,"Net profit/Loss"),c.a.createElement("th",{className:"right-th"},"System user winnings"))),l.length>0?g.a.map(l,(function(e,t){return c.a.createElement("tbody",{key:t},c.a.createElement("tr",null,c.a.createElement("td",{className:"left-th align-left"},e.collection_name?e.collection_name:"--"),c.a.createElement("td",{className:"align-left"},c.a.createElement("div",null,c.a.createElement("span",{className:"mr-2"},D()(new Date(C.a.getUtcToLocal(e.season_scheduled_date))).format("DD MMM YYYY, h:mm A")))),c.a.createElement("td",null,e.total_user_joined?e.total_user_joined:"--"),c.a.createElement("td",null,e.total_system_user?e.total_system_user:"--"),c.a.createElement("td",null,parseInt(e.total_user_joined)-parseInt(e.total_system_user)),c.a.createElement("td",null,e.bonus_loss?e.bonus_loss:"--"),c.a.createElement("td",null,e.real_amount?e.real_amount:"--"),c.a.createElement("td",null,e.realuser_winnings?e.realuser_winnings:"--"),c.a.createElement("td",null,e.site_rake),c.a.createElement("td",null,c.a.createElement("div",{className:Number.parseFloat(e.net_profit)>=0?" positive-value-color":" negative-value-color"},Number.parseFloat(e.net_profit)>=0&&"+"," ",e.net_profit)),c.a.createElement("td",{className:"right-th"},e.systemuser_winnings)))})):c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"11"},0!=l.length||r?c.a.createElement(F.a,null):c.a.createElement("div",{className:"no-records"},"No Record Found."))))),0!=l.length&&c.a.createElement("div",{className:"custom-pagination lobby-paging"},c.a.createElement(b.a,{activePage:a.current_page,itemsCountPerPage:a.items_perpage,totalItemsCount:s,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))))))}}]),a}(o.Component);t.default=M}}]);
//# sourceMappingURL=176.a5960e0f.chunk.js.map