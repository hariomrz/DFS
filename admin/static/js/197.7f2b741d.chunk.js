(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[197],{886:function(e,a,t){"use strict";t.r(a);var s=t(11),n=t(12),l=t(15),i=t(14),r=t(0),m=t.n(r),c=t(155),o=t(156),u=t(9),d=t(8),E=t(18),v=(t(107),t(5)),p=t.n(v),g=t(23),b=t.n(g),h=t(671),N=t.n(h),f=t(507),C=t.n(f),_=t(157),D=t(158),P=[{value:"0",label:"All"},{value:"5",label:"5 Star"},{value:"4",label:"4 Star"},{value:"3",label:"3 Star"},{value:"2",label:"2 Star"},{value:"1",label:"1 Star"}],R=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handleTypeChange=function(e){n.setState({Filter:e},n.getQuestionDetails)},n.state={PERPAGE:d.Vf,CURRENT_PAGE:1,QuestionDetails:[],CommentsDetails:[],QuestionHistoryItem:[],QuestionStatus:1,CommentListPosting:!1},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.getQuestionDetails()}},{key:"getQuestionDetails",value:function(){var e=this;this.setState({CommentListPosting:!0});var a=this.state,t=a.PERPAGE,s=a.CURRENT_PAGE,n=a.Filter,l={feedback_question_id:this.props.match.params.qid,items_perpage:t,current_page:s,sort_rating:p.a.isEmpty(n)?0:n.value};u.a.Rest(d.nk+d.fe,l).then((function(a){a.response_code==d.qk&&e.setState({CommentListPosting:!1,QuestionDetails:a.data.question,totalCoinsDistributed:a.data.total_coins_distributed,CommentsDetails:a.data.comments,Total:a.data.total,NextOffset:a.data.next_offset})})).catch((function(e){E.notify.show(d.Ri,"error",5e3)}))}},{key:"handlePageChange",value:function(e){this.setState({CURRENT_PAGE:e},this.getQuestionDetails)}},{key:"render",value:function(){var e=this,a=this.state,t=a.Filter,s=a.CommentListPosting,n=a.CommentsDetails,l=a.QuestionDetails,i=a.Total,r=a.CURRENT_PAGE,u=a.PERPAGE,E=a.totalCoinsDistributed,v={is_disabled:!1,is_searchable:!1,is_clearable:!1,menu_is_open:!1,class_name:"form-control",sel_options:P,place_holder:"Most Rated",selected_value:t,modalCallback:this.handleTypeChange};return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"qu-details-box animated fadeIn"},m.a.createElement("div",{onClick:function(){return e.props.history.push("/coins/promotions/")},className:"go-back"},"<"," Back"),m.a.createElement(c.a,null,m.a.createElement(o.a,{md:12},m.a.createElement("div",{className:"question-wrapper"},m.a.createElement("figure",{className:"question-img"},m.a.createElement("i",{className:"icon-question"})),m.a.createElement("div",{className:"question-info"},m.a.createElement("div",{className:"ques"},l.question),m.a.createElement("ul",{className:"ques-avail-list"},m.a.createElement("li",{className:"ques-avail-item"},m.a.createElement("label",{htmlFor:"Redeemedby"},"Total Feedbacks"),m.a.createElement("div",{className:"numbers"},i||0)),m.a.createElement("li",{className:"ques-avail-item"},m.a.createElement("label",{htmlFor:"Redeemedby"},"Coins Redeem per user"),m.a.createElement("div",{className:"numbers"},l.coins?l.coins:0)),m.a.createElement("li",{className:"ques-avail-item"},m.a.createElement("label",{htmlFor:"Redeemedby"},"Total Coins Distributed"),m.a.createElement("div",{className:"numbers"},E||0)))),m.a.createElement("div",{className:"reward-status ".concat(l.status?"":"inactive")},l.status?"Active":"Inactive")))),m.a.createElement("div",{className:"sort-question"},m.a.createElement(c.a,null,m.a.createElement(o.a,{md:2},m.a.createElement(D.a,{SelectProps:v})),m.a.createElement(o.a,{md:10},m.a.createElement("div",{className:"help-text"},"Only approved feedbacks are shown.")))),m.a.createElement(c.a,null,m.a.createElement(o.a,{md:12},m.a.createElement("div",{className:"pending-items"},i>0?p.a.map(n,(function(e,a){return m.a.createElement("div",{key:a,className:"pending-wrapper"},m.a.createElement(c.a,{className:"b-bottom"},m.a.createElement(o.a,{md:12},m.a.createElement("div",null,m.a.createElement("div",{className:"top-box"},m.a.createElement("div",{className:"pending-date"},b()(e.added_date).format("DD MMM")),m.a.createElement("div",{className:"username float-left"},e.username?e.username:"--"),m.a.createElement("div",{className:"stars"},m.a.createElement(N.a,{svgIconViewBox:"0 0 20 20",svgIconPath:"M9.5 14.25l-5.584 2.936 1.066-6.218L.465 6.564l6.243-.907L9.5 0l2.792 5.657 6.243.907-4.517 4.404 1.066 6.218",className:"star-ratings",starRatedColor:"#F8436E",starEmptyColor:"#DFDFDF",starDimension:"24px",numberOfStars:5,name:"rating",rating:e.rating,starSpacing:"0"}))),m.a.createElement("div",{className:"suggestions"},m.a.createElement("div",{className:"answer"},e.answer))))))})):m.a.createElement(o.a,{md:12},0!=i||s?m.a.createElement(_.a,null):m.a.createElement("div",{className:"no-records mt-4"},d.Cg)),i>d.Vf&&m.a.createElement("div",{className:"custom-pagination"},m.a.createElement(C.a,{activePage:r,itemsCountPerPage:u,totalItemsCount:i,pageRangeDisplayed:5,onChange:function(a){return e.handlePageChange(a)}})))))))}}]),t}(r.Component);a.default=R}}]);
//# sourceMappingURL=197.7f2b741d.chunk.js.map