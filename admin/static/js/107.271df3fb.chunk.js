(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[107,218],{507:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=l?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(a,n,r):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(a(0)),n=o(a(1)),r=o(a(509)),s=o(a(510)),i=o(a(3));function o(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function p(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var E=function(e){function t(){return u(this,t),p(this,f(t).apply(this,arguments))}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),a=t,(n=[{key:"isFirstPageVisible",value:function(e){var t=this.props,a=t.hideDisabled;return t.hideNavigation,!(t.hideFirstLastPages||a&&!e)}},{key:"isPrevPageVisible",value:function(e){var t=this.props,a=t.hideDisabled;return!(t.hideNavigation||a&&!e)}},{key:"isNextPageVisible",value:function(e){var t=this.props,a=t.hideDisabled;return!(t.hideNavigation||a&&!e)}},{key:"isLastPageVisible",value:function(e){var t=this.props,a=t.hideDisabled;return t.hideNavigation,!(t.hideFirstLastPages||a&&!e)}},{key:"buildPages",value:function(){for(var e=[],t=this.props,a=t.itemsCountPerPage,n=t.pageRangeDisplayed,o=t.activePage,c=t.prevPageText,d=t.nextPageText,u=t.firstPageText,m=t.lastPageText,p=t.totalItemsCount,f=t.onChange,h=t.activeClass,g=t.itemClass,E=t.itemClassFirst,b=t.itemClassPrev,_=t.itemClassNext,v=t.itemClassLast,w=t.activeLinkClass,y=t.disabledClass,N=(t.hideDisabled,t.hideNavigation,t.linkClass),C=t.linkClassFirst,T=t.linkClassPrev,D=t.linkClassNext,P=t.linkClassLast,S=(t.hideFirstLastPages,t.getPageUrl),R=new r.default(a,n).build(p,o),k=R.first_page;k<=R.last_page;k++)e.push(l.default.createElement(s.default,{isActive:k===o,key:k,href:S(k),pageNumber:k,pageText:k+"",onClick:f,itemClass:g,linkClass:N,activeClass:h,activeLinkClass:w,ariaLabel:"Go to page number ".concat(k)}));return this.isPrevPageVisible(R.has_previous_page)&&e.unshift(l.default.createElement(s.default,{key:"prev"+R.previous_page,href:S(R.previous_page),pageNumber:R.previous_page,onClick:f,pageText:c,isDisabled:!R.has_previous_page,itemClass:(0,i.default)(g,b),linkClass:(0,i.default)(N,T),disabledClass:y,ariaLabel:"Go to previous page"})),this.isFirstPageVisible(R.has_previous_page)&&e.unshift(l.default.createElement(s.default,{key:"first",href:S(1),pageNumber:1,onClick:f,pageText:u,isDisabled:!R.has_previous_page,itemClass:(0,i.default)(g,E),linkClass:(0,i.default)(N,C),disabledClass:y,ariaLabel:"Go to first page"})),this.isNextPageVisible(R.has_next_page)&&e.push(l.default.createElement(s.default,{key:"next"+R.next_page,href:S(R.next_page),pageNumber:R.next_page,onClick:f,pageText:d,isDisabled:!R.has_next_page,itemClass:(0,i.default)(g,_),linkClass:(0,i.default)(N,D),disabledClass:y,ariaLabel:"Go to next page"})),this.isLastPageVisible(R.has_next_page)&&e.push(l.default.createElement(s.default,{key:"last",href:S(R.total_pages),pageNumber:R.total_pages,onClick:f,pageText:m,isDisabled:R.current_page===R.total_pages,itemClass:(0,i.default)(g,v),linkClass:(0,i.default)(N,P),disabledClass:y,ariaLabel:"Go to last page"})),e}},{key:"render",value:function(){var e=this.buildPages();return l.default.createElement("ul",{className:this.props.innerClass},e)}}])&&m(a.prototype,n),o&&m(a,o),t}(l.default.Component);t.default=E,g(E,"propTypes",{totalItemsCount:n.default.number.isRequired,onChange:n.default.func.isRequired,activePage:n.default.number,itemsCountPerPage:n.default.number,pageRangeDisplayed:n.default.number,prevPageText:n.default.oneOfType([n.default.string,n.default.element]),nextPageText:n.default.oneOfType([n.default.string,n.default.element]),lastPageText:n.default.oneOfType([n.default.string,n.default.element]),firstPageText:n.default.oneOfType([n.default.string,n.default.element]),disabledClass:n.default.string,hideDisabled:n.default.bool,hideNavigation:n.default.bool,innerClass:n.default.string,itemClass:n.default.string,itemClassFirst:n.default.string,itemClassPrev:n.default.string,itemClassNext:n.default.string,itemClassLast:n.default.string,linkClass:n.default.string,activeClass:n.default.string,activeLinkClass:n.default.string,linkClassFirst:n.default.string,linkClassPrev:n.default.string,linkClassNext:n.default.string,linkClassLast:n.default.string,hideFirstLastPages:n.default.bool,getPageUrl:n.default.func}),g(E,"defaultProps",{itemsCountPerPage:10,pageRangeDisplayed:5,activePage:1,prevPageText:"\u27e8",firstPageText:"\xab",nextPageText:"\u27e9",lastPageText:"\xbb",innerClass:"pagination",itemClass:void 0,linkClass:void 0,activeLinkClass:void 0,hideFirstLastPages:!1,getPageUrl:function(e){return"#"}})},509:function(e,t){function a(e,t){if(!(this instanceof a))return new a(e,t);this.per_page=e||25,this.length=t||10}e.exports=a,a.prototype.build=function(e,t){var a=Math.ceil(e/this.per_page);e=parseInt(e,10),(t=parseInt(t,10)||1)<1&&(t=1),t>a&&(t=a);var l=Math.max(1,t-Math.floor(this.length/2)),n=Math.min(a,t+Math.floor(this.length/2));n-l+1<this.length&&(t<a/2?n=Math.min(a,n+(this.length-(n-l))):l=Math.max(1,l-(this.length-(n-l)))),n-l+1>this.length&&(t>a/2?l++:n--);var r=this.per_page*(t-1);r<0&&(r=0);var s=this.per_page*t-1;return s<0&&(s=0),s>Math.max(e-1,0)&&(s=Math.max(e-1,0)),{total_pages:a,pages:Math.min(n-l+1,a),current_page:t,first_page:l,last_page:n,previous_page:t-1,next_page:t+1,has_previous_page:t>1,has_next_page:t<a,total_results:e,results:Math.min(s-r+1,e),first_result:r,last_result:s}}},510:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=l?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(a,n,r):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(a(0)),n=s(a(1)),r=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function u(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=function(e){function t(){return c(this,t),u(this,m(t).apply(this,arguments))}var a,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),a=t,(n=[{key:"handleClick",value:function(e){var t=this.props,a=t.isDisabled,l=t.pageNumber;e.preventDefault(),a||this.props.onClick(l)}},{key:"render",value:function(){var e,t=this.props,a=t.pageText,n=(t.pageNumber,t.activeClass),s=t.itemClass,i=t.linkClass,o=t.activeLinkClass,c=t.disabledClass,d=t.isActive,u=t.isDisabled,m=t.href,p=t.ariaLabel,h=(0,r.default)(s,(f(e={},n,d),f(e,c,u),e)),g=(0,r.default)(i,f({},o,d));return l.default.createElement("li",{className:h,onClick:this.handleClick.bind(this)},l.default.createElement("a",{className:g,href:m,"aria-label":p},a))}}])&&d(a.prototype,n),s&&d(a,s),t}(l.Component);t.default=h,f(h,"propTypes",{pageText:n.default.oneOfType([n.default.string,n.default.element]),pageNumber:n.default.number.isRequired,onClick:n.default.func.isRequired,isActive:n.default.bool.isRequired,isDisabled:n.default.bool,activeClass:n.default.string,activeLinkClass:n.default.string,itemClass:n.default.string,linkClass:n.default.string,disabledClass:n.default.string,href:n.default.string}),f(h,"defaultProps",{activeClass:"active",disabledClass:"disabled",itemClass:void 0,linkClass:void 0,activeLinkCLass:void 0,isActive:!1,isDisabled:!1,href:"#"})},516:function(e,t,a){"use strict";var l=a(6),n=a(7),r=a(0),s=a.n(r),i=a(1),o=a.n(i),c=a(3),d=a.n(c),u=a(4),m={className:o.a.string,cssModule:o.a.object,size:o.a.string,bordered:o.a.bool,borderless:o.a.bool,striped:o.a.bool,dark:o.a.bool,hover:o.a.bool,responsive:o.a.oneOfType([o.a.bool,o.a.string]),tag:u.q,responsiveTag:u.q,innerRef:o.a.oneOfType([o.a.func,o.a.string,o.a.object])},p=function(e){var t=e.className,a=e.cssModule,r=e.size,i=e.bordered,o=e.borderless,c=e.striped,m=e.dark,p=e.hover,f=e.responsive,h=e.tag,g=e.responsiveTag,E=e.innerRef,b=Object(n.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),_=Object(u.m)(d()(t,"table",!!r&&"table-"+r,!!i&&"table-bordered",!!o&&"table-borderless",!!c&&"table-striped",!!m&&"table-dark",!!p&&"table-hover"),a),v=s.a.createElement(h,Object(l.a)({},b,{ref:E,className:_}));if(f){var w=Object(u.m)(!0===f?"table-responsive":"table-responsive-"+f,a);return s.a.createElement(g,{className:w},v)}return v};p.propTypes=m,p.defaultProps={tag:"table",responsiveTag:"div"},t.a=p},544:function(e,t,a){"use strict";var l=a(11),n=a(12),r=a(15),s=a(14),i=a(0),o=a.n(i),c=a(536),d=a.n(c),u=(a(521),a(10)),m=(a(8),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.DateProps,a=t.disabled_date,l=t.min_date,n=t.max_date,r=t.class_name,s=t.year_dropdown,i=t.month_dropdown,c=t.sel_date,m=t.date_key,p=t.place_holder,f=t.show_time_select,h=t.time_format,g=t.time_intervals,E=t.time_caption,b=t.date_format,_=t.popup_placement;return o.a.createElement(d.a,{disabled:a,minDate:Object(u.e)(l)?null:new Date(l),maxDate:Object(u.e)(n)?null:new Date(n),className:r,showYearDropdown:s,showMonthDropdown:i,selected:Object(u.e)(c)?null:new Date(c),onChange:function(t){return e.props.DateProps.handleCallbackFn(t,m)},placeholderText:p,showTimeSelect:f,timeFormat:h,timeIntervals:g,timeCaption:E,dateFormat:b,popperPlacement:_||"bottom-start"})}}]),a}(i.Component));t.a=m},872:function(e,t,a){"use strict";a.r(t);var l=a(24),n=a(550),r=a(59),s=a(11),i=a(12),o=a(82),c=a(15),d=a(14),u=a(0),m=a.n(u),p=a(539),f=a(538),h=a(155),g=a(156),E=a(516),b=a(499),_=a(154),v=a(492),w=a(500),y=a(493),N=a(495),C=a(543),T=a(542),D=a(107),P=a(5),S=a.n(P),R=a(507),k=a.n(R),O=a(9),A=a(18),M=a(8),j=a(157),W=(a(521),a(23)),x=a.n(W),U=a(523),F=a.n(U),q=a(46),L=a(10),I=a(670),G=a(544),Y=[{value:"0",label:"Added Date"},{value:"1",label:"Modified Date"}],V=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).getWithdrawlFilterData=function(){O.a.Rest(M.nk+M.Rf,{action:"",selectall:!1,withdraw_transaction_id:[],description:""}).then((function(e){if(e.response_code==M.qk){var t=[],a=[],n=[],r=[];t.push({value:"",label:"All Type"});for(var s=0,i=Object.keys(e.data.withdrawal_type);s<i.length;s++){var o=i[s],c={value:"",label:""};c.value=e.data.withdrawal_type[o],c.label=o,t.push(c)}for(var d=0,u=Object.keys(e.data.withdrawal_method);d<u.length;d++){var m=u[d],p={value:"",label:""};p.value=e.data.withdrawal_method[m],p.label=m,a.push(p)}for(var f=0,h=Object.keys(e.data.manual_status);f<h.length;f++){var g=h[f],E={value:"",label:""};E.value=e.data.manual_status[g],E.label=g,n.push(E)}for(var b=0,_=Object.keys(e.data.status);b<_.length;b++){var v=_[b],w={value:"",label:""};w.value=e.data.status[v],w.label=v,r.push(w)}l.state.AllowAutoWithdrawal||l.setState({WithdrawalStatus:n}),l.setState({WithdrawalType:t,WithdrawalMethodOpt:a,WdlManualStatus:n,WdlAutoStatus:r})}else A.notify.show(M.Ri,"error",3e3)})).catch((function(e){A.notify.show(M.Ri,"error",3e3)}))},l.getWithdrawlRequest=function(){l.setState({posting:!0});var e=l.state,t=e.PERPAGE,a=e.CURRENT_PAGE,n=e.WdTypeChange,r=e.WdStatusChange,s=e.WdDurationChange,i=e.Keyword,o=e.FromDate,c=e.ToDate,d=e.SelectedDateType,u=e.WithdrawalMethod,m={items_perpage:t,total_items:0,keyword:i,type:n,status:r,current_page:a,sort_order:"DESC",sort_field:"PWT.created_date",csv:!1,from_date:o?L.i.getFormatedDateTime(o,"YYYY-MM-DD"):"",to_date:c?L.i.getFormatedDateTime(c,"YYYY-MM-DD"):"",activity_duration:s,filter_date_type:d,withdraw_method:u};O.a.Rest(M.nk+M.rd,m).then((function(e){e.response_code==M.qk?l.setState({posting:!1,WithdrawalReqData:e.data.result,Total:e.data.total,Summary:e.data.summary?e.data.summary:[],AutoWithdrawal:e.data.auto_withdrawal,TotalUsers:S.a.isEmpty(e.data.result)?0:e.data.result.length},(function(){var e=[];if(S.a.map(l.state.WithdrawalReqData,(function(t){0!=t.status&&1!=t.status||-1!=e.indexOf(t.order_id)||e.push(t.order_id)})),l.setState({newIdArr:e}),!S.a.isEmpty(e)){var t=e.every((function(e){return l.state.selectedUsers.includes(e)}));l.setState({SelectAllUsers:t})}})):A.notify.show(M.Ri,"error",3e3)})).catch((function(e){A.notify.show(M.Ri,"error",3e3)}))},l.searchByKey=function(e){l.setState({Keyword:e.target.value,CURRENT_PAGE:1},l.SearchKeyReq)},l.handleTypeChange=function(e,t){var a;null!=e&&l.setState((a={},Object(r.a)(a,t,e.value),Object(r.a)(a,"CURRENT_PAGE",1),a),(function(){if("WithdrawalMethod"===t){var e=[];"0"==l.state.WithdrawalMethod&&(e=l.state.WdlManualStatus),"1"==l.state.WithdrawalMethod&&(e=l.state.WdlAutoStatus),l.setState({WdStatusChange:"",WithdrawalStatus:e},(function(){l.getWithdrawlRequest()}))}"WdStatusChange"===t&&l.getWithdrawlRequest()}))},l.clearFilter=function(){l.state.AllowAutoWithdrawal&&l.setState({WithdrawalMethod:"",WithdrawalStatus:[]}),l.setState({WdTypeChange:"",WdStatusChange:"",WdDurationChange:"",SelectedDateType:"0",Keyword:"",FromDate:new Date(Date.now()-24*(L.i.getTodayDate()-1)*60*60*1e3),ToDate:new Date},l.getWithdrawlRequest)},l.ApproveToggle=function(e,t,a){var n=[];S.a.isUndefined(t)||n.push(t),l.setState({itemIndex:e,itemStatus:a,order_id:n}),l.setState({ApproveModalOpen:!l.state.ApproveModalOpen})},l.approveAllToggle=function(e){l.setState({itemStatus:e,allBtnFlag:e,order_id:l.state.selectedUsers}),l.setState({ApproveModalOpen:!l.state.ApproveModalOpen})},l.rejectAllToggle=function(e){l.setState({itemStatus:e,allBtnFlag:e,order_id:l.state.selectedUsers}),l.setState({RejectModalOpen:!l.state.RejectModalOpen})},l.RejectToggle=function(e,t,a){var n=[];S.a.isUndefined(t)||n.push(t),l.setState({itemIndex:e,itemStatus:a,order_id:n}),l.setState((function(e){return{RejectModalOpen:!e.RejectModalOpen}}))},l.selectOneUser=function(e){var t=S.a.cloneDeep(l.state.selectedUsers);if(-1==t.indexOf(e.order_id)){t.push(e.order_id);var a=l.state.newIdArr.every((function(e){return t.includes(e)}));l.setState({SelectAllUsers:a})}else{var n=t.indexOf(e.order_id);t.splice(n,1),l.setState({SelectAllUsers:!1})}l.setState({selectedUsers:t},(function(){l.state.TotalUsers==l.state.selectedUsers.length&&l.setState({SelectAllUsers:!0})}))},l.selectAllUsers=function(){if(1==l.state.SelectAllUsers){var e=l.state.selectedUsers.filter((function(e){return!l.state.newIdArr.includes(e)}));return l.setState({selectedUsers:e,SelectAllUsers:!1}),!1}var t=l.state.WithdrawalReqData,a=S.a.cloneDeep(l.state.selectedUsers);S.a.map(t,(function(e){0!=e.status&&1!=e.status||-1!=a.indexOf(e.order_id)||(a.push(e.order_id),l.setState({SelectAllUsers:!0}))})),l.setState({selectedUsers:a})},l.updateWdStatus=function(){var e=l.state,t=e.order_id,a=e.itemStatus,n=e.RejectReason,r=e.WithdrawalReqData,s=e.allBtnFlag,i=!0;S.a.map(r,(function(e,a){-1!=t.indexOf(e.order_id)&&1===s&&"1"===e.status&&(i=!1,l.approveAllToggle(s),A.notify.show("Selected withdrawal request are already approved","error",5e3))}));var o={action:"",selectall:!1,withdraw_transaction_id:[],description:"",order_id:t,status:a,index:0,reason:n};i&&(l.setState({ActionPosting:!0}),O.a.Rest(M.nk+M.Dj,o).then((function(e){e.response_code===M.qk&&(2==a?l.RejectToggle():l.ApproveToggle(),A.notify.show(e.message,"success",3e3),l.setState({selectedUsers:[],order_id:[],ActionPosting:!1,SelectAllUsers:!1,RejectReason:""},(function(){return l.getWithdrawlRequest()})))})).catch((function(e){A.notify.show(M.Ri,"error",5e3)})))},l.handleChangeValue=function(e){l.setState(Object(r.a)({},e.target.name,e.target.value))},l.handleDate=function(e,t){var a;l.setState((a={},Object(r.a)(a,t,e),Object(r.a)(a,"CURRENT_PAGE",1),a),(function(){(l.state.FromDate||l.state.ToDate)&&l.getWithdrawlRequest()}))},l.applyFilter=function(){l.setState({CURRENT_PAGE:1,selectedUsers:[],SelectAllUsers:!1},(function(){l.getWithdrawlRequest()}))},l.exportUser=function(){var e="",t=l.state,a=t.FromDate,n=t.ToDate;e="keyword="+t.Keyword+"&status="+t.WdStatusChange+"&csv=true&from_date="+(a?x()(a).format("YYYY-MM-DD"):"")+"&to_date="+(n?x()(n).format("YYYY-MM-DD"):""),e+="&Sessionkey="+O.a.getToken(),window.open(M.nk+"adminapi/finance/get_all_withdrawal_request?"+e,"_blank")},l.wdlModalToggle=function(e){console.log("withdrawal_data===",e),l.setState((function(t){return{userTransaction:[],userWdlData:e,wdlModalOpen:!t.wdlModalOpen,MODL_CURRENT_PAGE:1}}),(function(){l.state.wdlModalOpen&&l.getTransaction()}))},l.renderWdlModal=function(){var e=l.state,t=e.userTransaction,a=e.posting,n=e.userWdlData,r=e.hasMore,s=e.depositSoFar,i=e.withdrawalSoFar,o="",c="",d="",u=S.a.isUndefined(n.custom_data)||S.a.isNull(n.custom_data)?"":n.custom_data;if(!S.a.isEmpty(u)&&"string"===typeof u){var b=JSON.parse(u);o=b.bank_name,c=b.ac_number,d=b.ifsc_code}return m.a.createElement("div",null,m.a.createElement(p.a,{className:"modal-lg withdrawl-modal",isOpen:l.state.wdlModalOpen,toggle:function(){return l.wdlModalToggle(n)}},m.a.createElement(f.a,null,m.a.createElement(h.a,null,m.a.createElement(g.a,{md:12},m.a.createElement("div",{className:"wdl-uname"},n.full_name))),m.a.createElement(h.a,null,m.a.createElement(g.a,{md:12},m.a.createElement("div",{className:"wdl-contact-dt"},m.a.createElement("span",{className:"wdl-contact"},m.a.createElement("i",{className:"icon-email_verified"}),n.email),m.a.createElement("span",{className:"wdl-contact"},m.a.createElement("i",{className:"icon-phone"}),L.i.formatPhoneNumber(n.phone_no))))),m.a.createElement(h.a,null,m.a.createElement(g.a,{md:3,className:"pr-0"},m.a.createElement("div",{className:"wdl-details"},"Winning Balance - \u20b9 ",S.a.isEmpty(n.winning_balance)?"0.00":n.winning_balance)),m.a.createElement(g.a,{md:3,className:"pr-0"},m.a.createElement("div",{className:"wdl-details"},"Withdrawal Request - \u20b9 ",m.a.createElement("span",{className:"wdl-fw"},S.a.isEmpty(n.winning_amount)?"0.00":n.winning_amount))),m.a.createElement(g.a,{md:3,className:"pr-0"},m.a.createElement("div",{className:"wdl-details"},"Deposit so far - \u20b9 ",s)),m.a.createElement(g.a,{md:3},m.a.createElement("div",{className:"wdl-details"},"Withdrawal so far - \u20b9 ",i))),m.a.createElement(h.a,{className:"mt-3 mb-3"},m.a.createElement(g.a,{md:3,className:"pr-0"},m.a.createElement("div",{className:"wdl-bank-details"},"Pan",m.a.createElement("br",null),n.pan_no)),m.a.createElement(g.a,{md:3,className:"pr-0"},m.a.createElement("div",{className:"wdl-bank-details"},"Bank Name",m.a.createElement("br",null),o)),m.a.createElement(g.a,{md:3,className:"pr-0"},m.a.createElement("div",{className:"wdl-bank-details"},"Account No",m.a.createElement("br",null),c)),m.a.createElement(g.a,{md:3},m.a.createElement("div",{className:"wdl-bank-details"},"IFSC",m.a.createElement("br",null),d)))),m.a.createElement(h.a,null,m.a.createElement(g.a,{md:12,className:"table-responsive common-table"},m.a.createElement("div",{id:"scrollableDiv"},m.a.createElement(I.a,{dataLength:t.length,next:l.fetchMoreData.bind(),hasMore:r,loader:a&&m.a.createElement(j.a,{hide:!0}),scrollableTarget:"scrollableDiv"},m.a.createElement(E.a,{className:"table-wrapper"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Date"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Winning"),m.a.createElement("th",null,"Deposit"),m.a.createElement("th",null,"Withdrawal"))),t.length>0?S.a.map(t,(function(e,t){return m.a.createElement("tbody",{key:t},m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement(F.a,{date:O.a.getUtcToLocal(e.date_added),format:"D MMMM YY"})),m.a.createElement("td",null,e.trans_desc),m.a.createElement("td",null,("3"===e.source||"0"===e.source)&&e.winning_amount>0?"\u20b9"+e.winning_amount:""),m.a.createElement("td",null,("7"===e.source||"0"===e.source)&&e.real_amount>0?"\u20b9"+e.real_amount:""),m.a.createElement("td",null,"8"===e.source?"\u20b9"+e.winning_amount:"")))})):m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"22"},0!=t.length||a?m.a.createElement(j.a,null):m.a.createElement("div",{className:"no-records"},"No Record Found.")))))))))))},l.fetchMoreData=function(){var e=l.state.MODL_CURRENT_PAGE+1;console.log("MODL_CURRENT_PAGE======",e),l.setState({MODL_CURRENT_PAGE:e},l.getTransaction)},l.state={Total:0,PERPAGE:20,MDL_PERPAGE:10,CURRENT_PAGE:1,MODL_CURRENT_PAGE:1,WdTypeChange:"",WdStatusChange:"",WdDurationChange:"",Keyword:"",WithdrawalStatus:[],WithdrawalType:[],WithdrawalReqData:[],Summary:[],AutoWithdrawal:null,ApproveModalOpen:!1,RejectModalOpen:!1,RejectReason:"",posting:!1,SelectedDateType:"0",SelectAllUsers:!1,selectedUsers:[],TotalUsers:0,wdlModalOpen:!1,userWdlData:[],userTransaction:[],ActionPosting:!1,hasMore:!1,newIdArr:[],depositSoFar:"0.00",withdrawalSoFar:"0.00",FromDate:new Date(Date.now()-24*(L.i.getTodayDate()-1)*60*60*1e3),ToDate:new Date,AllowAutoWithdrawal:!Object(L.f)(L.i.getMasterData().allow_auto_withdrawal)&&"1"==L.i.getMasterData().allow_auto_withdrawal,WithdrawalMethod:"0",WithdrawalMethodOpt:[]},l.SearchKeyReq=S.a.debounce(l.SearchKeyReq.bind(Object(o.a)(l)),500),l}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getWithdrawlFilterData(),this.state.AllowAutoWithdrawal?this.setState({WithdrawalMethod:""},(function(){e.getWithdrawlRequest()})):this.getWithdrawlRequest()}},{key:"handlePageChange",value:function(e){var t=this;e!==this.state.CURRENT_PAGE&&this.setState({CURRENT_PAGE:e,SelectAllUsers:!1},(function(){t.getWithdrawlRequest()}))}},{key:"SearchKeyReq",value:function(){this.getWithdrawlRequest()}},{key:"getTransaction",value:function(){var e=this,t=this.state,a=t.userWdlData,l=(t.filter,t.MDL_PERPAGE),r=t.MODL_CURRENT_PAGE;console.log("362 MODL_CURRENT_PAGE===",r),this.setState({posting:!0});var s={items_perpage:l,total_items:0,current_page:r,sort_order:"DESC",sort_field:"created_date",user_id:a.user_id,status:1,rfwr:1,from_withdraw_popup:"1"};O.a.Rest(M.nk+M.Pf,s).then((function(t){if(t.response_code===M.qk){var a=t.data.result;r>1?e.setState({userTransaction:[].concat(Object(n.a)(e.state.userTransaction),Object(n.a)(a))}):e.setState({userTransaction:a}),e.setState({depositSoFar:S.a.isUndefined(t.data.total_deposit)?"0.00":t.data.total_deposit,withdrawalSoFar:S.a.isUndefined(t.data.total_withdrawal)?"0.00":t.data.total_withdrawal,hasMore:a.length==l,posting:!1})}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.posting,n=t.CURRENT_PAGE,r=t.PERPAGE,s=t.Total,i=t.Keyword,o=t.ActionPosting,c=t.WithdrawalStatus,d=t.WithdrawalReqData,P=t.WdStatusChange,R=t.RejectReason,A=t.SelectedDateType,M=t.FromDate,W=t.ToDate,x=t.Summary,U=t.SelectAllUsers,F=t.selectedUsers,L=t.AllowAutoWithdrawal,I=t.WithdrawalMethod,V=t.WithdrawalMethodOpt,K={disabled_date:!1,show_time_select:!1,time_format:!1,time_intervals:!1,time_caption:!1,date_format:"dd/MM/yyyy",handleCallbackFn:this.handleDate,class_name:"form-control mr-3",year_dropdown:!0,month_dropdown:!0},B=Object(l.a)(Object(l.a)({},K),{},{min_date:!1,max_date:new Date(W),sel_date:new Date(M),date_key:"FromDate",place_holder:"From Date"}),J=Object(l.a)(Object(l.a)({},K),{},{min_date:new Date(M),max_date:new Date,sel_date:new Date(W),date_key:"ToDate",place_holder:"To Date"});return m.a.createElement(u.Fragment,null,this.renderWdlModal(),m.a.createElement("div",{className:"animated fadeIn withdrawl-list"},m.a.createElement(h.a,null,m.a.createElement(g.a,{md:12},m.a.createElement("h1",{className:"h1-cls"},"Withdrawal"))),m.a.createElement(h.a,{className:"mt-30"},m.a.createElement(g.a,{md:12},m.a.createElement("h3",{className:"h3-cls"},"Filters"))),m.a.createElement(h.a,{className:"mt-2"},m.a.createElement(g.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"User"),m.a.createElement(b.a,{placeholder:"Email, Name or Username",name:"Username",value:i,onChange:this.searchByKey}))),L&&m.a.createElement(g.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"Withdrawal Type"),m.a.createElement(D.a,{isSearchable:!0,class:"form-control",options:V,placeholder:"Withdrawal Type",menuIsOpen:!0,value:I,onChange:function(t){return e.handleTypeChange(t,"WithdrawalMethod")}}))),m.a.createElement(g.a,{md:2},m.a.createElement("div",{className:"wdl-sts-dd"},m.a.createElement("label",{className:"filter-label"},"Withdrawal Status"),m.a.createElement(D.a,{isSearchable:!0,class:"form-control",options:c,placeholder:"Withdrawal Status",menuIsOpen:!0,value:P,onChange:function(t){return e.handleTypeChange(t,"WdStatusChange")}}))),m.a.createElement(g.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"Apply Filter on"),m.a.createElement(D.a,{isSearchable:!0,class:"form-control",options:Y,placeholder:"Date Type",menuIsOpen:!0,value:A,onChange:function(t){return e.handleTypeChange(t,"SelectedDateType")}}))),m.a.createElement(g.a,{md:2},m.a.createElement("label",{className:"filter-label"},"From Date"),m.a.createElement(G.a,{DateProps:B})),m.a.createElement(g.a,{md:2},m.a.createElement("label",{className:"filter-label"},"To Date"),m.a.createElement(G.a,{DateProps:J})),m.a.createElement(g.a,{md:2},m.a.createElement("div",{className:"mt-4 float-left text-center"},m.a.createElement(_.a,{className:"btn-secondary",onClick:function(){return e.applyFilter()}},"Apply"),m.a.createElement("br",null),m.a.createElement("a",{className:"wdl-reset-filter",onClick:function(){return e.clearFilter()}}," ",m.a.createElement("i",{className:"icon-reset"})," Reset Filter")),m.a.createElement("div",{className:"export-sty"},m.a.createElement("i",{title:"Export Withdrawal",className:"export-list icon-export",onClick:function(t){return e.exportUser()}})))),L&&m.a.createElement(h.a,{className:"mb-30 mt-30"},m.a.createElement(g.a,{md:3},m.a.createElement("div",{className:"white-box"},m.a.createElement("label",{className:"filter-label"},"Withdrawal request received"),m.a.createElement("span",{className:"am-value"},x.total_withdrawal_request_amount?x.total_withdrawal_request_amount:"0"))),m.a.createElement(g.a,{md:3},m.a.createElement("div",{className:"white-box"},m.a.createElement("label",{className:"filter-label"},"Approved ",L?"+ Instant Approved":""),m.a.createElement("span",{className:"am-value"},x.total_withdrawal_approved_amount?x.total_withdrawal_approved_amount:"0"))),m.a.createElement(g.a,{md:3},m.a.createElement("div",{className:"white-box"},m.a.createElement("label",{className:"filter-label"},"Rejected ",L?"+ Instant Rejected":""),m.a.createElement("span",{className:"am-value"},x.total_withdrawal_rejected_amount?x.total_withdrawal_rejected_amount:"0"))),m.a.createElement(g.a,{md:3},m.a.createElement("div",{className:"white-box"},m.a.createElement("label",{className:"filter-label"},"Pending ",L?"+ Instant Pending":""),m.a.createElement("span",{className:"am-value"},x.total_withdrawal_pending_amount?x.total_withdrawal_pending_amount:"0")))),m.a.createElement(h.a,{className:"mb-3"},m.a.createElement(g.a,{md:3},m.a.createElement("h3",{className:"h3-cls"},"Withdrawal Request")),m.a.createElement(g.a,{md:9,className:"p-0"},m.a.createElement("ul",{className:"wdl-legends-list"},L&&m.a.createElement(u.Fragment,null,m.a.createElement("li",null,m.a.createElement("img",{src:q.a.INSTANT_PENDING,alt:"",srcset:""}),"Instant Pending"),m.a.createElement("li",null,m.a.createElement("img",{src:q.a.INSTANT_APPROVAL,alt:"",srcset:""}),"Instant Approval"),m.a.createElement("li",null,m.a.createElement("img",{src:q.a.INSTANT_REJECT,alt:"",srcset:""}),"Instant Reject")),m.a.createElement("li",null,m.a.createElement("img",{src:q.a.PENDING,alt:"",srcset:""}),"Pending"),m.a.createElement("li",null,m.a.createElement("img",{src:q.a.APPROVAL,alt:"",srcset:""}),"Approve"),m.a.createElement("li",null,m.a.createElement("img",{src:q.a.REJECT,alt:"",srcset:""}),"Reject")))),m.a.createElement(h.a,null,m.a.createElement(g.a,{md:12,className:"table-responsive common-table"},m.a.createElement(E.a,null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:"checkbox-td mth"},m.a.createElement(b.a,{type:"checkbox",name:"SelectAllUsers",checked:U,onClick:function(){return e.selectAllUsers()}})),m.a.createElement("th",null,"Username"),m.a.createElement("th",null,"Full Name"),m.a.createElement("th",null,"Withdrawal Amount"),m.a.createElement("th",null,"Added Date"),m.a.createElement("th",null,"Modified on"),m.a.createElement("th",null,"Gateway Transaction ID"),m.a.createElement("th",null,"Bank Name"),m.a.createElement("th",null,"Account No"),m.a.createElement("th",null,"IFSC"),m.a.createElement("th",null,"Status"),m.a.createElement("th",{className:"right-th"},"Action"))),d.length>0?S.a.map(d,(function(t,a){var l=(new Date).setHours((new Date).getHours()-25),n=(new Date(t.order_date_added),"--"),r="--",s="--",i="",c=!0,d=S.a.isUndefined(t.custom_data)||S.a.isNull(t.custom_data)?"":t.custom_data;if(!S.a.isEmpty(d)&&"string"===typeof d){var u=JSON.parse(d);n=u.bank_name,r=u.ac_number,s=u.ifsc_code,i=u.is_auto_withdrawal}return(S.a.isNull(t.custom_data)||"0"==i)&&(t.status=t.order_status,n=t.bank_name,r=t.ac_number,s=t.ifsc_code,c=!1),m.a.createElement("tbody",{key:a},m.a.createElement("tr",null,m.a.createElement("td",{className:"checkbox-td mtd"},0==t.status||1==t.status?m.a.createElement(b.a,{type:"checkbox",name:"SelectAllUsers",checked:-1!=F.indexOf(t.order_id),onClick:function(){return e.selectOneUser(t,a)}}):m.a.createElement(b.a,{disabled:!0,type:"checkbox",name:"SelectAllUsers"})),m.a.createElement("td",{className:"text-click",onClick:function(){return e.props.history.push("/profile/"+t.user_unique_id+"?wdty="+I)}},t.user_name),m.a.createElement("td",null,m.a.createElement("span",{className:" ".concat(c?"text-click":""),onClick:function(){return c?e.wdlModalToggle(t):null}},t.full_name)),m.a.createElement("td",null,t.winning_amount),m.a.createElement("td",null,O.a.getUtcToLocalFormat(t.order_date_added,"D-MMM-YYYY hh:mm A")),m.a.createElement("td",null,O.a.getUtcToLocalFormat(t.order_modified_date,"D-MMM-YYYY hh:mm A")),m.a.createElement("td",null,S.a.isNull(t.txn_id)?"--":t.txn_id),m.a.createElement("td",null,n),m.a.createElement("td",null,r),m.a.createElement("td",null,s),m.a.createElement("td",null,0==t.status&&m.a.createElement("img",{src:q.a.PENDING,title:"Pending",alt:"",srcset:""}),1==t.status&&m.a.createElement("img",{src:q.a.APPROVAL,title:"Approve",alt:"",srcset:""}),2==t.status&&m.a.createElement("img",{src:q.a.REJECT,title:"Reject",alt:"",srcset:""}),3==t.status&&m.a.createElement("img",{src:q.a.INSTANT_PENDING,title:"Instant Pending",alt:"",srcset:""}),4==t.status&&m.a.createElement("img",{src:q.a.INSTANT_REJECT,title:"Instant Reject",alt:"",srcset:""}),5==t.status&&m.a.createElement("img",{src:q.a.INSTANT_APPROVAL,title:"Instant Approval",alt:"",srcset:""})),m.a.createElement("td",{className:"wdl-action-sty"},0==t.status&&m.a.createElement(v.a,null,m.a.createElement(w.a,{disabled:o,tag:"span",className:"icon-action"}),0===F.length&&m.a.createElement(y.a,null,m.a.createElement(N.a,{onClick:function(){return e.ApproveToggle(a,t.order_id,1)}},"Approve"),L&&"1"==i&&m.a.createElement(N.a,{onClick:function(){return e.ApproveToggle(a,t.order_id,3)}},"Instant Approve"),m.a.createElement(N.a,{onClick:function(){return e.RejectToggle(a,t.order_id,2)}},"Reject"))),1==t.status&&m.a.createElement(v.a,null,m.a.createElement(w.a,{disabled:o,tag:"span",className:"icon-action"}),0===F.length&&m.a.createElement(y.a,null,m.a.createElement(N.a,{onClick:function(){return e.RejectToggle(a,t.order_id,2)}},"Reject"))),3==t.status&&l>l&&m.a.createElement(v.a,null,m.a.createElement(w.a,{disabled:o,tag:"span",className:"icon-action"}),0===F.length&&m.a.createElement(y.a,null,m.a.createElement(N.a,{onClick:function(){return e.RejectToggle(a,t.order_id,2)}},"Reject"))),(2==t.status||4==t.status||5==t.status)&&"--")))})):m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"22"},0!=d.length||a?m.a.createElement(j.a,null):m.a.createElement("div",{className:"no-records"},"No Record Found.")))))),m.a.createElement("div",null,m.a.createElement(p.a,{className:"approve-modal",isOpen:this.state.ApproveModalOpen,toggle:this.ApproveToggle},m.a.createElement(C.a,null,"Manage Withdrawal Request"),m.a.createElement(f.a,{className:"info-text"},"Do you really want to approve this withdrawal request ?"),m.a.createElement(T.a,null,m.a.createElement(_.a,{disabled:this.state.DeleteActionPosting,color:"secondary",onClick:function(){return e.updateWdStatus()}},"Yes")," ",m.a.createElement(_.a,{color:"primary",onClick:this.ApproveToggle},"No")))),m.a.createElement("div",null,m.a.createElement(p.a,{className:"reject-modal",isOpen:this.state.RejectModalOpen,toggle:this.RejectToggle},m.a.createElement(C.a,null,"Manage Withdrawal Request"),m.a.createElement(f.a,null,m.a.createElement("div",{className:"info-text"},"Do you really want to reject this withdrawal request ?"),m.a.createElement("label",{className:"mt-2"},"Reason"),m.a.createElement(b.a,{type:"textarea",className:"reject-textarea",name:"RejectReason",value:R,onChange:this.handleChangeValue})),m.a.createElement(T.a,null,m.a.createElement(_.a,{disabled:this.state.DeleteActionPosting,color:"secondary",onClick:function(){return e.updateWdStatus()}},"Yes")," ",m.a.createElement(_.a,{color:"primary",onClick:this.RejectToggle},"No"))))),m.a.createElement(h.a,{className:"wdl-footer"},m.a.createElement(g.a,{md:9},m.a.createElement("div",{className:"wdl-action-btns"},m.a.createElement(_.a,{disabled:0===F.length,onClick:function(){return e.approveAllToggle(1)}},"Approve Selected"),L&&m.a.createElement(_.a,{disabled:0===F.length,onClick:function(){return e.approveAllToggle(3)}},"Instant Approve Selected"),m.a.createElement(_.a,{disabled:0===F.length,onClick:function(){return e.rejectAllToggle(2)}},"Reject Selected"))),m.a.createElement(g.a,{md:3,className:"pr-0"},s>r&&m.a.createElement("div",{className:"custom-pagination xlobby-paging"},m.a.createElement(k.a,{activePage:n,itemsCountPerPage:r,totalItemsCount:s,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))))))}}]),a}(u.Component);t.default=V}}]);
//# sourceMappingURL=107.271df3fb.chunk.js.map