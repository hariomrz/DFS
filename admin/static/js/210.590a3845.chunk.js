(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[210],{927:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(59),l=a(11),s=a(12),c=a(82),r=a(15),o=a(14),i=a(0),m=a.n(i),u=a(155),p=a(156),d=a(516),E=a(5),g=a.n(E),h=a(8),_=a(9),f=a(18),v=a(107),b=(a(521),a(507)),C=a.n(b),S=a(157),R=(a(523),a(69)),N=a.n(R),y=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var s,r;return Object(l.a)(this,a),(r=t.call(this,e)).GetContestFilterData=function(){r.setState({posting:!0});var e={sports_id:r.state.selected_sport};_.a.Rest(h.nk+h.Ld,e).then((function(e){if(e.response_code===h.qk){e=e.data;var t=[{value:"",label:"All"}];e.group_list&&e.group_list.map((function(e,a){t.push({value:e.group_id,label:e.group_name})}));var a=[];e.league_list&&e.league_list.map((function(e,t){a.push({value:e.league_id,label:e.league_name})})),r.setState({groupList:t,LeagueList:a})}r.setState({posting:!1})}))},r.getContest=function(){var e=r.state,t=e.selected_sport,a=e.SelectedCollection,n=e.SelectedGroup;if(g.a.isEmpty(a))return f.notify.show("Pleae select league and match first","error",3e3),!1;var l={group_id:n.value,sports_id:t,collection_master_id:a.value};_.a.Rest(h.nk+h.Eg,l).then((function(e){if(e.response_code===h.qk){e=e.data;var t=[];e.result&&e.result.map((function(e,a){t.push({value:e.contest_id,label:e.contest_name})})),r.setState({contestList:t})}}))},r.getTotalCounts=function(){var e=r.state,t={sports_id:e.selected_sport,contest_id:e.SelectedContest.value};_.a.Rest(h.nk+h.Fg,t).then((function(e){e.response_code===h.qk&&(e=e.data,r.setState({RealTeams:e.real_teams,SystemTeams:e.system_teams,TotalUsers:e.users}))}))},r.getAllCollections=function(){var e=r.state,t=(e.collectionType,e.selected_sport),a={league_id:e.SelectedLeague.value,sports_id:t};_.a.Rest(h.nk+h.Dg,a).then((function(e){if(e.response_code==h.qk){var t=[];g.a.map(e.data,(function(e){t.push({value:e.collection_master_id,label:e.collection_name})})),r.setState({CollectionList:t})}else f.notify.show(h.Ri,"error",3e3)})).catch((function(e){f.notify.show(h.Ri,"error",3e3)}))},r.exportReport=function(){var e=r.state.SelectedContest;if(g.a.isEmpty(e))f.notify.show("Please select contest.","error",3e3);else{var t=e.value;console.log("Ex_url :",h.wi+"lineup/"+t+".pdf"),window.open(h.wi+"lineup/"+t+".pdf","_blank")}},r.getReportUser=function(){r.setState({posting:!0});var e=r.state,t=e.PERPAGE,a=e.CURRENT_PAGE,n=e.SelectedContest,l={items_perpage:t,total_items:0,current_page:a,contest_id:n.value,game_id:n.value};_.a.Rest(h.nk+h.ke,l).then((function(e){e.response_code==h.qk?r.setState({posting:!1,UserReportList:e.data.result,TotalUser:e.data.total},(function(){g.a.isEmpty(r.state.UserReportList)||r.loadTeam(r.state.UserReportList[0].lineup_master_contest_id)})):f.notify.show(h.Ri,"error",3e3)})).catch((function(e){f.notify.show(h.Ri,"error",3e3)}))},r.loadTeam=function(e){r.setState({teamPosting:!0,activeUser:e,TeamList:[]});var t={lineup_master_contest_id:e,league_id:r.state.SelectedLeague.value};_.a.Rest(h.nk+h.ve,t).then((function(e){e.response_code==h.qk?r.setState({teamPosting:!1,TeamList:e.data.lineup}):f.notify.show(h.Ri,"error",3e3)})).catch((function(e){f.notify.show(h.Ri,"error",3e3)}))},r.handleLeagueChange=function(e,t){var a;null!=e&&r.setState((a={},Object(n.a)(a,t,e),Object(n.a)(a,"CURRENT_PAGE",1),Object(n.a)(a,"SelectedCollection",""),Object(n.a)(a,"SelectedContest",""),Object(n.a)(a,"UserReportList",[]),Object(n.a)(a,"TeamList",[]),a),r.getAllCollections)},r.handleCollectionChange=function(e,t){var a;null!=e&&r.setState((a={},Object(n.a)(a,t,e),Object(n.a)(a,"CURRENT_PAGE",1),Object(n.a)(a,"SelectedContest",""),Object(n.a)(a,"UserReportList",[]),Object(n.a)(a,"TeamList",[]),a),r.getContest)},r.handleCategoryChange=function(e,t){var a;null!=e&&r.setState((a={},Object(n.a)(a,t,e),Object(n.a)(a,"CURRENT_PAGE",1),Object(n.a)(a,"UserReportList",[]),Object(n.a)(a,"TeamList",[]),a),r.getContest)},r.handleContestChange=function(e,t){var a;null!=e&&r.setState((a={},Object(n.a)(a,t,e),Object(n.a)(a,"CURRENT_PAGE",1),Object(n.a)(a,"UserReportList",[]),Object(n.a)(a,"TeamList",[]),a),(function(){r.getReportUser(),r.getTotalCounts()}))},r.searchByUser=function(e){r.setState({Keyword:e.target.value},r.SearchCodeReq)},r.state=(s={TotalUser:0,PERPAGE:10,CURRENT_PAGE:1,startDate:"",endDate:"",FromDate:new Date(Date.now()-6048e5),ToDate:new Date,UserReportList:[],Keyword:"",sortField:"first_name",isDescOrder:!0,SelectedLeague:"",LeagueList:[],TotalDeposit:"",AllSportsList:[],SelectedLSports:"",contestName:""},Object(n.a)(s,"contestName",""),Object(n.a)(s,"CollectionList",[]),Object(n.a)(s,"SelectedCollection",""),Object(n.a)(s,"SelectedGroup",""),Object(n.a)(s,"collectionType",1),Object(n.a)(s,"posting",!1),Object(n.a)(s,"teamPosting",!1),Object(n.a)(s,"TeamList",[]),Object(n.a)(s,"contestList",[]),Object(n.a)(s,"selected_sport",N.a.get("selected_sport")?N.a.get("selected_sport"):h.pk),Object(n.a)(s,"RealTeams",0),Object(n.a)(s,"SystemTeams",0),Object(n.a)(s,"TotalUsers",0),Object(n.a)(s,"activeUser",null),Object(n.a)(s,"SelectedGroup",{value:"",label:"All"}),s),r.SearchCodeReq=g.a.debounce(r.SearchCodeReq.bind(Object(c.a)(r)),500),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.GetContestFilterData()}},{key:"handlePageChange",value:function(e){var t=this;this.state.CURRENT_PAGE!=e&&this.setState({CURRENT_PAGE:e},(function(){t.getReportUser()}))}},{key:"SearchCodeReq",value:function(){this.state.Keyword.length>2&&this.getReportUser()}},{key:"render",value:function(){var e=this,t=this.state,a=t.posting,n=t.UserReportList,l=t.CURRENT_PAGE,s=t.PERPAGE,c=t.TotalUser,r=(t.Keyword,t.isDescOrder,t.SelectedLeague),o=t.LeagueList,E=t.CollectionList,_=t.SelectedCollection,f=t.groupList,b=t.SelectedGroup,R=t.TeamList,N=t.teamPosting,y=t.contestList,O=t.SelectedContest,L=t.RealTeams,T=t.SystemTeams,j=t.TotalUsers,U=t.activeUser;return m.a.createElement(i.Fragment,null,m.a.createElement("div",{className:"animated fadeIn participants-rp"},m.a.createElement(u.a,null,m.a.createElement(p.a,{md:12},m.a.createElement("h1",{className:"h1-cls"},"Participant Report"))),m.a.createElement("div",{className:"user-deposit-amount"},m.a.createElement(u.a,{className:"mt-4"},m.a.createElement(p.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"Select League"),m.a.createElement(v.a,{isSearchable:!0,class:"form-control",options:o,menuIsOpen:!0,value:r,onChange:function(t){return e.handleLeagueChange(t,"SelectedLeague")}}))),m.a.createElement(p.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"Select Match"),m.a.createElement(v.a,{isSearchable:!0,class:"form-control",options:E,menuIsOpen:!0,value:_,onChange:function(t){return e.handleCollectionChange(t,"SelectedCollection")}}))),m.a.createElement(p.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"Select Category"),m.a.createElement(v.a,{isSearchable:!0,class:"form-control",id:"group_id",name:"group_id",options:f,menuIsOpen:!0,value:b,onChange:function(t){return e.handleCategoryChange(t,"SelectedGroup")}}))),m.a.createElement(p.a,{md:2},m.a.createElement("div",null,m.a.createElement("label",{className:"filter-label"},"Contest Name"),m.a.createElement(v.a,{isSearchable:!0,class:"form-control",id:"contest_id",name:"contest_id",options:y,menuIsOpen:!0,value:O,onChange:function(t){return e.handleContestChange(t,"SelectedContest")}})))),m.a.createElement(u.a,{className:"prp-head-wrap"},m.a.createElement(p.a,{md:9},m.a.createElement("div",{className:"prp-head-info"},m.a.createElement("div",{className:"prp-title"},"Number of User"),m.a.createElement("div",{className:"prp-count"},j)),m.a.createElement("div",{className:"prp-head-info"},m.a.createElement("div",{className:"prp-title"},"User Teams"),m.a.createElement("div",{className:"prp-count"},L)),m.a.createElement("div",{className:"prp-head-info"},m.a.createElement("div",{className:"prp-title"},"System Teams"),m.a.createElement("div",{className:"prp-count"},T))),m.a.createElement(p.a,{md:3,className:"mt-4"},m.a.createElement("i",{className:"export-list icon-export",onClick:function(t){return e.exportReport()}}))),m.a.createElement(u.a,null,m.a.createElement(p.a,{md:12},m.a.createElement("div",{className:"prp-header"},"Participant Details"))),m.a.createElement(u.a,null,m.a.createElement(p.a,{md:7,className:"table-responsive common-table"},m.a.createElement(d.a,null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:"pointer"},"Rank"),m.a.createElement("th",{className:"pointer"},"User Name"),m.a.createElement("th",{className:"pointer"},"Pts"))),n.length>0?g.a.map(n,(function(t,a){return m.a.createElement("tbody",{key:a},m.a.createElement("tr",{className:"cursor-pointer ".concat(U==t.lineup_master_contest_id?"activeUser":""),onClick:function(){return e.loadTeam(t.lineup_master_contest_id)}},m.a.createElement("td",null,t.game_rank),m.a.createElement("td",{className:"contest-d-main"},t.user_name,"1"===t.is_systemuser&&m.a.createElement("span",{className:"cont-su-flag"},"S")),m.a.createElement("td",null,t.total_score)))})):m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"22"},a?m.a.createElement(S.a,null):m.a.createElement("div",{className:"no-records"},h.Cg,m.a.createElement("br",null),m.a.createElement("i",null,h.Bh)))))),c>s&&m.a.createElement("div",{className:"custom-pagination lobby-paging"},m.a.createElement(C.a,{activePage:l,itemsCountPerPage:s,totalItemsCount:c,pageRangeDisplayed:5,onChange:function(t){return e.handlePageChange(t)}}))),m.a.createElement(p.a,{md:5,className:"table-responsive common-table"},m.a.createElement(d.a,null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:"pointer"},"Player Name"),m.a.createElement("th",null),m.a.createElement("th",{className:"pointer"},"Pts"))),R.length>0?g.a.map(R,(function(e,t){return m.a.createElement("tbody",{key:t},m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",null,e.full_name,m.a.createElement("span",{className:"ply-status ".concat(1==e.is_playing?"playing":0==e.is_playing?"not-playing":"")})),m.a.createElement("div",{className:"prp-ply-detail"},m.a.createElement("span",null,e.position),m.a.createElement("span",{className:"prp-sepr"}),m.a.createElement("span",null,e.team_abbr))),m.a.createElement("td",null,0==e.captain&&"",1==e.captain&&m.a.createElement("div",{className:"prp-c-vc"},"C"),2==e.captain&&m.a.createElement("div",{className:"prp-c-vc"},"V")),m.a.createElement("td",null,e.score)))})):m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"22"},0!=R.length||N?m.a.createElement(S.a,null):m.a.createElement("div",{className:"no-records"},h.Cg))))))))))}}]),a}(i.Component)}}]);
//# sourceMappingURL=210.590a3845.chunk.js.map