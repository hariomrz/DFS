{"version":3,"sources":["components/CustomComponent.jsx","../node_modules/reactstrap/es/Table.js","../node_modules/create-react-class/index.js","views/Coins/BuyCoinUserReport.jsx"],"names":["MomentDateComponent","data","date","format","WSManager","getUtcToLocal","propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","require","factory","Error","ReactNoopUpdateQueue","Component","updater","module","exports","isValidElement","BuyCoinUserReport","createReactClass","getInitialState","package_id","this","match","params","coin_package_id","CURRENT_PAGE","PERPAGE","NC","UserList","Posting","sortField","isDescOrder","componentDidMount","getBCUserList","setState","state","keyword","Rest","then","Response","response_code","result","Total","total","catch","error","notify","show","handlePageChange","current_page","sortByColumn","sortfiled","Order","handleSearch","_","isNull","target","value","SearchCodeReq","exportUser","query_string","getToken","window","open","render","md","onClick","history","push","name","id","placeholder","onChange","e","title","map","item","idx","key","user_name","package_name","redeem_time","date_added","colSpan","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed"],"mappings":"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","file":"static/js/139.739cbff5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport WSManager from '../helper/WSManager';\r\nexport function MomentDateComponent({ data }) {\r\n    let date = data.date;\r\n    let format = data.format;\r\n    return (date ? <Moment date={WSManager.getUtcToLocal(date)} format={format} /> : '')\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\nif (typeof React === 'undefined') {\n  throw Error(\n    'create-react-class could not find the React object. If you are using script tags, ' +\n      'make sure that React is being loaded before create-react-class.'\n  );\n}\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n","import React, { Fragment } from \"react\";\r\nimport { Row, Col, Table, Input } from 'reactstrap';\r\nimport _ from 'lodash';\r\nimport Loader from '../../components/Loader';\r\nimport * as NC from '../../helper/NetworkingConstants';\r\nimport Pagination from \"react-js-pagination\";\r\nimport { notify } from 'react-notify-toast';\r\nimport WSManager from '../../helper/WSManager';\r\nimport { MomentDateComponent } from \"../../components/CustomComponent\";\r\nvar createReactClass = require('create-react-class');\r\nvar BuyCoinUserReport = createReactClass({\r\n    getInitialState: function () {\r\n        return {\r\n            package_id: (this.props.match.params.coin_package_id) ? this.props.match.params.coin_package_id : '',\r\n            CURRENT_PAGE: 1,\r\n            PERPAGE: NC.ITEMS_PERPAGE,\r\n            UserList: [],\r\n            Posting: false,\r\n            sortField: 'U.user_name',\r\n            isDescOrder: 'true',\r\n        }\r\n    },\r\n\r\n    componentDidMount: function () {\r\n        this.getBCUserList()\r\n    },\r\n\r\n    getBCUserList: function () {\r\n        this.setState({ Posting: true })\r\n        let { PERPAGE, CURRENT_PAGE, package_id, keyword, sortField, isDescOrder } = this.state\r\n        let params =\r\n        {\r\n            \"current_page\": CURRENT_PAGE,\r\n            \"items_perpage\": PERPAGE,\r\n            \"package_id\": package_id,\r\n            \"keyword\": keyword,\r\n            \"sort_field\": sortField,\r\n            \"sort_order\": isDescOrder ? 'DESC' : 'ASC',\r\n        }\r\n\r\n        WSManager.Rest(NC.baseURL + NC.PACKAGE_REDEEM_LIST, params).then(Response => {\r\n            if (Response.response_code == NC.successCode) {\r\n                this.setState({\r\n                    Posting: false,\r\n                    UserList: Response.data.result,\r\n                    Total: Response.data.total,\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            notify.show(NC.SYSTEM_ERROR, 'error', 5000)\r\n        })\r\n    },\r\n\r\n    handlePageChange(current_page) {\r\n        if (this.state.CURRENT_PAGE !== current_page) {\r\n            this.setState({\r\n                CURRENT_PAGE: current_page\r\n            }, () => {\r\n                this.getBCUserList()\r\n            });\r\n        }\r\n    },\r\n\r\n    sortByColumn(sortfiled, isDescOrder) {\r\n        let Order = isDescOrder ? false : true\r\n        this.setState({\r\n            sortField: sortfiled,\r\n            isDescOrder: Order,\r\n            CURRENT_PAGE: 1,\r\n\r\n        }, this.getBCUserList)\r\n    },\r\n\r\n    handleSearch(keyword) {\r\n        if (!_.isNull(keyword)) {\r\n            this.setState({ CURRENT_PAGE: 1, keyword: keyword.target.value }, () => {\r\n                this.SearchCodeReq()\r\n            })\r\n        }\r\n    },\r\n\r\n    SearchCodeReq() {\r\n        this.getBCUserList()\r\n    },\r\n\r\n    exportUser() {\r\n        var query_string = '';//pairs.join('&');        \r\n        query_string = 'package_id=' + this.state.package_id;\r\n\r\n        let sessionKey = WSManager.getToken();\r\n        query_string += \"&Sessionkey\" + \"=\" + sessionKey;\r\n\r\n        window.open(NC.baseURL + 'adminapi/index.php/coins_package/download_package_redeem?' + query_string, '_blank');\r\n    },\r\n\r\n    render() {\r\n        let { UserList, Total, Posting, CURRENT_PAGE, PERPAGE, sortField, isDescOrder } = this.state\r\n        return (\r\n            <Fragment>\r\n                <Row>\r\n                    <Col md={12} className=\"bc-header\">\r\n                        <h2 className=\"h2-cls mt-4 mb-30\">Buy coins user report</h2>\r\n                        <label className=\"goback\" onClick={() => this.props.history.push('/coins/buy-coins?report=1')}> {'<'} Back to Report</label>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <div className=\"search-input mb-20 float-left\">\r\n                            <Input\r\n                                name=\"search-user\"\r\n                                id=\"search-user\"\r\n                                className=\"search-input\"\r\n                                placeholder=\"Search by user name\"\r\n                                onChange={e => this.handleSearch(e)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"cursor-pointer float-right\">\r\n                            <i title=\"Export users\" className=\"export-list icon-export\" onClick={e => this.exportUser()}></i>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <div className=\"table-responsive common-table\">\r\n                            <div className=\"tbl-min-hgt\">\r\n                                <Table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className=\"cursor-pointer\" onClick={() => this.sortByColumn('U.user_name', isDescOrder)}>\r\n                                                User name\r\n                                                <div className={`d-inline-block ${(sortField === 'U.user_name' && isDescOrder) ? '' : 'rotate-icon'}`}>\r\n                                                    <i className=\"icon-Shape\"></i>\r\n                                                </div>\r\n                                            </th>\r\n                                            <th>Title name</th>\r\n                                            <th className=\"cursor-pointer\" onClick={() => this.sortByColumn('redeem_time', isDescOrder)}>\r\n                                                Total Purchase\r\n                                                <div className={`d-inline-block ${(sortField === 'redeem_time' && isDescOrder) ? '' : 'rotate-icon'}`}>\r\n                                                    <i className=\"icon-Shape\"></i>\r\n                                                </div>\r\n                                            </th>\r\n                                            <th className=\"cursor-pointer\" onClick={() => this.sortByColumn('OD.date_added', isDescOrder)}>\r\n                                                Recent Purchase Date and Time\r\n                                                <div className={`d-inline-block ${(sortField === 'OD.date_added' && isDescOrder) ? '' : 'rotate-icon'}`}>\r\n                                                    <i className=\"icon-Shape\"></i>\r\n                                                </div>\r\n                                            </th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {\r\n                                        Total > 0 ?\r\n                                            _.map(UserList, (item, idx) => {\r\n                                                return (\r\n                                                    <tbody key={idx}>\r\n                                                        <tr>\r\n                                                            <td>{item.user_name}</td>\r\n                                                            <td className=\"xtext-ellipsis\">{item.package_name}</td>\r\n                                                            <td className=\"pl-5\">{item.redeem_time}</td>\r\n                                                            <td>\r\n                                                                <MomentDateComponent data={{ date: item.date_added, format: \"D-MMM-YYYY hh:mm A \" }} />\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                )\r\n                                            })\r\n                                            :\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td colSpan=\"8\">\r\n                                                        {(Total == 0 && !Posting) ?\r\n                                                            <div className=\"no-records\">\r\n                                                                {NC.NO_RECORDS}</div>\r\n                                                            :\r\n                                                            <Loader />\r\n                                                        }\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                    }\r\n                                </Table>\r\n                            </div>\r\n                        </div>\r\n                        {Total > PERPAGE && (\r\n                            <div className=\"custom-pagination lobby-paging\">\r\n                                <Pagination\r\n                                    activePage={CURRENT_PAGE}\r\n                                    itemsCountPerPage={PERPAGE}\r\n                                    totalItemsCount={Total}\r\n                                    pageRangeDisplayed={5}\r\n                                    onChange={e => this.handlePageChange(e)}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                    </Col>\r\n                </Row>\r\n            </Fragment>\r\n        )\r\n    }\r\n})\r\n\r\nexport default BuyCoinUserReport\r\n"],"sourceRoot":""}