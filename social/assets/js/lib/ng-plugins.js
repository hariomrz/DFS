
/*------angular-route.js---------*/
!function(e,r,t){"use strict";function n(){function e(e,t){return r.extend(Object.create(e),t)}function t(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,r,t,n){var o="?"===n?n:null,i="*"===n?n:null;return a.push({name:t,optional:!!o}),r=r||"",""+(o?"":r)+"(?:"+(o?r:"")+(i&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}var n={};this.when=function(e,a){var o=r.copy(a);if(r.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),r.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=r.extend(o,e&&t(e,o)),e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[i]=r.extend({redirectTo:e},t(i,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(t,a,o,i,c,l,s){function h(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var o=1,i=a.length;i>o;++o){var c=t[o-1],u=a[o];c&&u&&(n[c.name]=u)}return n}function $(e){var n=w.current;v=f(),m=v&&n&&v.$$route===n.$$route&&r.equals(v.pathParams,n.pathParams)&&!v.reloadOnSearch&&!g,m||!n&&!v||t.$broadcast("$routeChangeStart",v,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=w.current,n=v;m?(e.params=n.params,r.copy(e.params,o),t.$broadcast("$routeUpdate",e)):(n||e)&&(g=!1,w.current=n,n&&n.redirectTo&&(r.isString(n.redirectTo)?a.path(d(n.redirectTo,n.params)).search(n.params).replace():a.url(n.redirectTo(n.pathParams,a.path(),a.search())).replace()),i.when(n).then(function(){if(n){var e,t,a=r.extend({},n.resolve);return r.forEach(a,function(e,t){a[t]=r.isString(e)?c.get(e):c.invoke(e,null,null,t)}),r.isDefined(e=n.template)?r.isFunction(e)&&(e=e(n.params)):r.isDefined(t=n.templateUrl)&&(r.isFunction(t)&&(t=t(n.params)),t=s.getTrustedResourceUrl(t),r.isDefined(t)&&(n.loadedTemplateUrl=t,e=l(t))),r.isDefined(e)&&(a.$template=e),i.all(a)}}).then(function(a){n==w.current&&(n&&(n.locals=a,r.copy(n.params,o)),t.$broadcast("$routeChangeSuccess",n,e))},function(r){n==w.current&&t.$broadcast("$routeChangeError",n,e,r)}))}function f(){var t,o;return r.forEach(n,function(n,i){!o&&(t=h(a.path(),n))&&(o=e(n,{params:r.extend({},a.search(),t),pathParams:t}),o.$$route=n)}),o||n[null]&&e(n[null],{params:{},pathParams:{}})}function d(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),o=a[1];n.push(t[o]),n.push(a[2]||""),delete t[o]}}),n.join("")}var v,m,g=!1,w={routes:n,reload:function(){g=!0,t.$evalAsync(function(){$(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw u("norout","Tried updating route when with no current route");e=r.extend({},this.current.params,e),a.path(d(this.current.$$route.originalPath,e)),a.search(e)}};return t.$on("$locationChangeStart",$),t.$on("$locationChangeSuccess",p),w}]}function a(){this.$get=function(){return{}}}function o(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,i,c,u){function l(){p&&(n.cancel(p),p=null),h&&(h.$destroy(),h=null),$&&(p=n.leave($),p.then(function(){p=null}),$=null)}function s(){var i=e.current&&e.current.locals,c=i&&i.$template;if(r.isDefined(c)){var s=a.$new(),p=e.current,v=u(s,function(e){n.enter(e,null,$||o).then(function(){!r.isDefined(f)||f&&!a.$eval(f)||t()}),l()});$=v,h=p.scope=s,h.$emit("$viewContentLoaded"),h.$eval(d)}else l()}var h,$,p,f=i.autoscroll,d=i.onload||"";a.$on("$routeChangeSuccess",s),s()}}}function i(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var o=t.current,i=o.locals;a.html(i.$template);var c=e(a.contents());if(o.controller){i.$scope=n;var u=r(o.controller,i);o.controllerAs&&(n[o.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}c(n)}}}var c=r.module("ngRoute",["ng"]).provider("$route",n),u=r.$$minErr("ngRoute");c.provider("$routeParams",a),c.directive("ngView",o),c.directive("ngView",i),o.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular);

/*------Angucomplete-alt.js-----------*/

/*"use strict";!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){e.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(e,t,r,n,l,i,o){function s(t,i,o,s){function C(e){de=null,t.hideResults(e),document.body.removeEventListener("click",C)}function y(e){return e.which?e.which:e.keyCode}function R(e){"function"==typeof t.selectedObject?t.selectedObject(e):t.selectedObject=e,j(e?!0:!1)}function I(e){return function(r){return t[e]?t[e](r):r}}function D(e){R({originalObject:e}),t.clearSelected&&(t.searchStr=null),P()}function F(e){switch(e.ModuleID){case 1:t.titleField="GroupName";break;case 3:t.titleField="FirstName,LastName";break;case 18:t.titleField="Title";break;case 14:t.titleField="Title"}return t.titleField.split(",").map(function(t){return $(e,t)}).join(" ")}function $(e,t){var r,n;if(t){r=t.split("."),n=e;for(var l=0;l<r.length;l++)n=n[r[l]]}else n=e;return n}function O(e,r){var l,i,o;return o=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),e?(e.match&&e.replace||(e=e.toString()),i=e.match(o),l=i?e.replace(o,'<span class="'+t.matchClass+'">'+i[0]+"</span>"):e,n.trustAsHtml(l)):void 0}function j(e){t.notEmpty=e,se=t.searchStr,t.fieldRequired&&s&&s.$setValidity(oe,e)}function U(e){var r=y(e);if(r!==d&&r!==c)if(r===u||r===p)e.preventDefault();else if(r===a)e.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=le&&(W(),t.searching=!0,Y(t.searchStr));else if(r===g)P(),t.$apply(function(){ne.val(t.searchStr)});else{if(0===le&&!t.searchStr)return;t.searchStr&&""!==t.searchStr?t.searchStr.length>=le&&(W(),ie&&l.cancel(ie),t.searching=!0,ie=l(function(){Y(t.searchStr)},t.pause)):t.showDropdown=!1,se&&se!==t.searchStr&&!t.clearSelected&&t.$apply(function(){R()})}}function k(e){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(e&&e.preventDefault(),D(t.searchStr))}function q(e){var t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function M(){return ce.getBoundingClientRect().top+parseInt(getComputedStyle(ce).maxHeight,10)}function H(){return i[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function N(){return H().getBoundingClientRect().top-(ce.getBoundingClientRect().top+parseInt(getComputedStyle(ce).paddingTop,10))}function T(e){ce.scrollTop=ce.scrollTop+e}function _(){var e=t.results[t.currentIndex];t.matchClass?ne.val(F(e.originalObject)):ne.val(e.title)}function E(e){var r=y(e),n=null,l=null;r===p&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(e.preventDefault(),t.selectResult(t.results[t.currentIndex])):(k(e),P()),t.$apply()):r===a&&t.results?(e.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,_()}),ue&&(n=H(),M()<n.getBoundingClientRect().bottom&&T(q(n))))):r===u&&t.results?(e.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--,_()}),ue&&(l=N(),0>l&&T(l-1))):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,ne.val(t.searchStr)})):r===h&&(t.results&&t.results.length>0&&t.showDropdown?-1===t.currentIndex&&t.overrideSuggestions?k():(-1===t.currentIndex&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&k())}function L(e){return function(r,n,l,i){n||l||i||(r=r.data),t.searching=!1,J($(Z(r),t.remoteUrlDataField),e)}}function A(e,r,n,l){r||n||l||(r=e.status),0!==r&&(t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(e,r,n,l):console&&console.error&&console.error("http error"))}function B(){ae&&ae.resolve()}function V(n){var l={},i=t.remoteUrl;t.remoteUrlRequestFormatter&&(l={params:t.remoteUrlRequestFormatter(n)},i=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(l.withCredentials=!0),B(),ae=e.defer(),l.timeout=ae.promise,l.SearchKeyword=n,r.post(i,l).success(L(n)).error(A)}function G(r){B(),ae=e.defer(),t.remoteApiHandler(r,ae.promise).then(L(r))["catch"](A)}function P(){t.showDropdown=!1,t.results=[],ce&&(ce.scrollTop=0)}function W(){t.showDropdown=te,t.currentIndex=-1,t.results=[]}function z(e){var r,n,l,i,o=t.searchFields.split(","),s=[];for(r=0;r<t.localData.length;r++){for(n=!1,l=0;l<o.length;l++)i=$(t.localData[r],o[l])||"",n=n||i.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0;n&&(s[s.length]=t.localData[r])}t.searching=!1,J(s,e)}function K(e,r,n){if(n)for(var l in r)if(r[l].toLowerCase()===n.toLowerCase())return void t.selectResult(e)}function Y(e){!e||e.length<le||(t.localData?t.$apply(function(){z(e)}):t.remoteApiHandler?G(e):V(e))}function J(e,r){var n,l,i,o,s,a;if(e&&e.length>0){t.results=[];var c=1;for(n=0;n<e.length;n++)t.titleField&&""!==t.titleField&&(o=s=F(e[n])),l="",t.descriptionField&&(l=a=$(e[n],t.descriptionField)),i="",t.imageField&&(i=$(e[n],t.imageField),i=image_server_path+"upload/profile/220x220/"+i),t.matchClass&&(s=O(o,r),a=O(l,r)),t.results[t.results.length]={title:s,description:a,image:i,originalObject:e[n],viewMore:0},t.autoMatch&&K(t.results[t.results.length-1],{title:o,desc:l||""},t.searchStr),c++;c>=5&&(t.results[t.results.length]={title:"View More",description:"",image:"",originalObject:"",viewMore:1})}else t.results=[];0!==t.results.length||re?t.showDropdown=!0:t.showDropdown=!1}function Q(){t.localData?J(t.localData,""):t.remoteApiHandler?G(""):V("")}var X,Z,ee,te,re,ne=i.find("input"),le=f,ie=null,oe=S,se=null,ae=null,ce=i[0].querySelector(".angucomplete-dropdown"),ue=!1,de=null;i.on("mousedown",function(e){e.target.id?(de=e.target.id,de===t.id+"_dropdown"&&document.body.addEventListener("click",C)):de=e.target.className}),t.currentIndex=null,t.searching=!1,ee=t.$watch("initialValue",function(e,r){e&&(ee(),"object"==typeof e?(t.searchStr=F(e),R({originalObject:e})):"string"==typeof e&&e.length>0?t.searchStr=e:console&&console.error&&console.error("Tried to set initial value of angucomplete to",e,"which is an invalid value"),j(!0))}),t.$on("angucomplete-alt:clearInput",function(e,r){r&&r!==t.id||(t.searchStr=null,R(),j(!1),P())}),t.onFocusHandler=function(){t.focusIn&&t.focusIn(),0!==le||t.searchStr&&0!==t.searchStr.length||(t.showDropdown=!0,Q())},t.hideResults=function(e){de&&(de===t.id+"_dropdown"||de.indexOf("angucomplete")>=0)?de=null:(X=l(function(){P(),t.$apply(function(){t.searchStr&&t.searchStr.length>0&&ne.val(t.searchStr)})},w),B(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&-1===t.currentIndex&&k())},t.resetHideResults=function(){X&&l.cancel(X)},t.hoverRow=function(e){t.currentIndex=e},t.selectResult=function(e){if(1==e.viewMore)return!1;var r="";switch(e.originalObject.ModuleID){case 1:r=base_url+"group/group_wall/"+e.originalObject.GroupGUID;break;case 3:r=base_url+e.originalObject.ProfileLink;break;case 18:r=base_url+"page/"+e.originalObject.PageURL;break;case 14:r=base_url+"events/"+e.originalObject.EventGUID+"/wall"}window.top.location=r,t.matchClass&&(e.title=F(e.originalObject),e.description=$(e.originalObject,t.descriptionField)),t.clearSelected?t.searchStr=null:t.searchStr=e.title,R(e),P()},t.inputChangeHandler=function(e){return e.length<le?P():0===e.length&&0===le&&(t.searching=!1,Q()),t.inputChanged&&(e=t.inputChanged(e)),e},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(oe=t.fieldRequiredClass),t.minlength&&""!==t.minlength&&(le=parseInt(t.minlength,10)),t.pause||(t.pause=v),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&s&&j(t.initialValue?!0:!1),t.inputType=o.type?o.type:"text",t.textSearching=o.textSearching?o.textSearching:b,t.textNoResults=o.textNoResults?o.textNoResults:x,te="false"===t.textSearching?!1:!0,re="false"===t.textNoResults?!1:!0,t.maxlength=o.maxlength?o.maxlength:m,ne.on("keydown",E),ne.on("keyup",U),Z=I("remoteUrlResponseFormatter"),t.$on("$destroy",function(){j(!0)}),l(function(){var e=getComputedStyle(ce);ue=e.maxHeight&&"auto"===e.overflowY})}var a=40,c=39,u=38,d=37,g=27,p=13,h=9,f=3,m=524288,v=500,w=200,S="autocomplete-required",b="Searching...",x="No results found",C="/angucomplete-alt/index.html";return i.put(C,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input ng-cloak class="form-control" id="{{id}}_value" name="{{inputName}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex,\'panel-footer\':result.viewMore==1}">      <div ng-if="imageField && result.viewMore==0" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass && result.viewMore==0" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass && result.viewMore==0">{{ result.title }}</div>      <div ng-if="result.viewMore==0 && matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="result.viewMore==0 && !matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>      <a href="javascript:void(0);" onclick="redirectToSearch(\'#search-input input\');" ng-if="result.viewMore==1" ng-bind="result.title"></a>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"=",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",inputName:"@"},templateUrl:function(e,t){return t.templateUrl||C},compile:function(e,t){var r=o.startSymbol(),n=o.endSymbol();if("{{"!==r||"}}"!==n){var l=e.html().replace(/\{\{/g,r).replace(/\}\}/g,n);e.html(l)}return s}}}])});
*/

/*
 AngularJS v1.3.3-build.3554+sha.fa0d8c4
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(p,g,q){'use strict';function F(a){var d=[];t(d,g.noop).chars(a);return d.join("")}function k(a){var d={};a=a.split(",");var c;for(c=0;c<a.length;c++)d[a[c]]=!0;return d}function G(a,d){function c(a,b,c,h){b=g.lowercase(b);if(u[b])for(;f.last()&&v[f.last()];)e("",f.last());w[b]&&f.last()==b&&e("",b);(h=x[b]||!!h)||f.push(b);var n={};c.replace(H,function(a,b,d,c,e){n[b]=s(d||c||e||"")});d.start&&d.start(b,n,h)}function e(a,b){var c=0,e;if(b=g.lowercase(b))for(c=f.length-1;0<=c&&f[c]!=b;c--);
if(0<=c){for(e=f.length-1;e>=c;e--)d.end&&d.end(f[e]);f.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,m,f=[],n=a,h;for(f.last=function(){return f[f.length-1]};a;){h="";m=!0;if(f.last()&&y[f.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(a,b){b=b.replace(I,"$1").replace(J,"$1");d.chars&&d.chars(s(b));return""}),e("",f.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",b)===b&&(d.comment&&d.comment(a.substring(4,
b)),a=a.substring(b+3),m=!1);else if(z.test(a)){if(b=a.match(z))a=a.replace(b[0],""),m=!1}else if(K.test(a)){if(b=a.match(A))a=a.substring(b[0].length),b[0].replace(A,e),m=!1}else L.test(a)&&((b=a.match(B))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(B,c)),m=!1):(h+="<",a=a.substring(1)));m&&(b=a.indexOf("<"),h+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),d.chars&&d.chars(s(h)))}if(a==n)throw M("badparse",a);n=a}e()}function s(a){if(!a)return"";var d=N.exec(a);a=d[1];var c=d[3];if(d=d[2])r.innerHTML=
d.replace(/</g,"&lt;"),d="textContent"in r?r.textContent:r.innerText;return a+d+c}function C(a){return a.replace(/&/g,"&amp;").replace(O,function(a){var c=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(c-55296)+(a-56320)+65536)+";"}).replace(P,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(a,d){var c=!1,e=g.bind(a,a.push);return{start:function(a,m,f){a=g.lowercase(a);!c&&y[a]&&(c=a);c||!0!==D[a]||(e("<"),e(a),g.forEach(m,function(c,f){var l=
g.lowercase(f),m="img"===a&&"src"===l||"background"===l;!0!==Q[l]||!0===E[l]&&!d(c,m)||(e(" "),e(f),e('="'),e(C(c)),e('"'))}),e(f?"/>":">"))},end:function(a){a=g.lowercase(a);c||!0!==D[a]||(e("</"),e(a),e(">"));a==c&&(c=!1)},chars:function(a){c||e(C(a))}}}var M=g.$$minErr("$sanitize"),B=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,A=/^<\/\s*([\w:-]+)[^>]*>/,H=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,L=/^</,
K=/^<\//,I=/\x3c!--(.*?)--\x3e/g,z=/<!DOCTYPE([^>]*?)>/i,J=/<!\[CDATA\[(.*?)]]\x3e/g,O=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P=/([^\#-~| |!])/g,x=k("area,br,col,hr,img,wbr");p=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");q=k("rp,rt");var w=g.extend({},q,p),u=g.extend({},p,k("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),v=g.extend({},q,k("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
p=k("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var y=k("script,style"),D=g.extend({},x,u,v,w,p),E=k("background,cite,href,longdesc,src,usemap,xlink:href");p=k("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width,entityguid,entitytype");
q=k("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");
var Q=g.extend({},E,q,p),r=document.createElement("pre"),N=/^(\s*)([\s\S]*?)(\s*)$/;g.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(d){var c=[];G(d,t(c,function(c,b){return!/^unsafe/.test(a(c,b))}));return c.join("")}}]});g.module("ngSanitize").filter("linky",["$sanitize",function(a){var d=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,c=/^mailto:/;return function(e,b){function m(a){a&&l.push(F(a))}function f(a,
c){l.push("<a ");g.isDefined(b)&&(l.push('target="'),l.push(b),l.push('" '));l.push('href="');l.push(a);l.push('">');m(c);l.push("</a>")}if(!e)return e;for(var n,h=e,l=[],k,p;n=h.match(d);)k=n[0],n[2]==n[3]&&(k="mailto:"+k),p=n.index,m(h.substr(0,p)),f(k,n[0].replace(c,"")),h=h.substring(p+n[0].length);m(h);return a(l.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

/*------------bindonce.js-----*/

!function(){"use strict";var e=angular.module("pasvaz.bindonce",[]);e.directive("bindonce",function(){var e=function(e){if(e&&0!==e.length){var t=angular.lowercase(""+e);e=!("f"===t||"0"===t||"false"===t||"no"===t||"n"===t||"[]"===t)}else e=!1;return e},t=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(t)&&(t=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var r={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(r,a,i,n){var c=function(t,r,a){var i="show"===r?"":"none",n="hide"===r?"":"none";t.css("display",e(a)?i:n)},o=function(e,t){if(angular.isObject(t)&&!angular.isArray(t)){var r=[];angular.forEach(t,function(e,t){e&&r.push(t)}),t=r}t&&e.addClass(angular.isArray(t)?t.join(" "):t)},s=function(e,t){e.transclude(t,function(t){var r=e.element.parent(),a=e.element&&e.element[e.element.length-1],i=r&&r[0]||a&&a.parentNode,n=a&&a.nextSibling||null;angular.forEach(t,function(e){i.insertBefore(e,n)})})},l={watcherRemover:void 0,binders:[],group:i.boName,element:a,ran:!1,addBinder:function(e){this.binders.push(e),this.ran&&this.runBinders()},setupWatcher:function(e){var t=this;this.watcherRemover=r.$watch(e,function(e){void 0!==e&&(t.removeWatcher(),t.checkBindonce(e))},!0)},checkBindonce:function(e){var t=this,r=e.$promise?e.$promise.then:e.then;"function"==typeof r?r(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){void 0!==this.watcherRemover&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var r=this.binders.shift();if(!this.group||this.group==r.group){var a=r.scope.$eval(r.interpolate?n(r.value):r.value);switch(r.attr){case"boIf":e(a)&&s(r,r.scope.$new());break;case"boSwitch":var i,l=r.controller[0];(i=l.cases["!"+a]||l.cases["?"])&&(r.scope.$eval(r.attrs.change),angular.forEach(i,function(e){s(e,r.scope.$new())}));break;case"boSwitchWhen":var u=r.controller[0];u.cases["!"+r.attrs.boSwitchWhen]=u.cases["!"+r.attrs.boSwitchWhen]||[],u.cases["!"+r.attrs.boSwitchWhen].push({transclude:r.transclude,element:r.element});break;case"boSwitchDefault":var u=r.controller[0];u.cases["?"]=u.cases["?"]||[],u.cases["?"].push({transclude:r.transclude,element:r.element});break;case"hide":case"show":c(r.element,r.attr,a);break;case"class":o(r.element,a);break;case"text":r.element.text(a);break;case"html":r.element.html(a);break;case"style":r.element.css(a);break;case"disabled":r.element.prop("disabled",a);break;case"src":r.element.attr(r.attr,a),t&&r.element.prop("src",a);break;case"attr":angular.forEach(r.attrs,function(e,t){var a,i;t.match(/^boAttr./)&&r.attrs[t]&&(a=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.scope.$eval(r.attrs[t]),r.element.attr(a,i))});break;case"href":case"alt":case"title":case"id":case"value":r.element.attr(r.attr,a)}}}this.ran=!0}};angular.extend(this,l)}],link:function(e,t,r,a){var i=r.bindonce&&e.$eval(r.bindonce);void 0!==i?a.checkBindonce(i):(a.setupWatcher(r.bindonce),t.bind("$destroy",a.removeWatcher))}};return r}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(t){var r=200;return e.directive(t.directiveName,function(){var e={priority:t.priority||r,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(e,r,a){return function(e,r,i,n){var c=n[0],o=i.boParent;if(o&&c.group!==o){var s=c.element.parent();c=void 0;for(var l;9!==s[0].nodeType&&s.length;){if((l=s.data("$bindonceController"))&&l.group===o){c=l;break}s=s.parent()}if(!c)throw new Error("No bindonce controller: "+o)}c.addBinder({element:r,attr:t.attribute||t.directiveName,attrs:i,value:i[t.directiveName],interpolate:t.interpolate,group:o,transclude:a,controller:n.slice(1),scope:e})}}};return e})})}();

/*==============ng-tags-input.min.js============*/

!function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},t=9007199254740991,n=["text","email","url"],i=angular.module("ngTagsInput",[]);i.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(i,a,r,o,s){function u(e,t,n,i){var a,r,o,u={};return a=function(t){return s.safeToString(t[e.displayProperty])},r=function(t,n){t[e.displayProperty]=n},o=function(t){var i=a(t);return i&&i.length>=e.minLength&&i.length<=e.maxLength&&e.allowedTagsPattern.test(i)&&!s.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty)&&n({$tag:t})},u.items=[],u.addText=function(e){var t={};return r(t,e),u.add(t)},u.add=function(n){var i=a(n);return e.replaceSpacesWithDashes&&(i=s.replaceSpacesWithDashes(i)),r(n,i),o(n)?(u.items.push(n),t.trigger("tag-added",{$tag:n})):i&&t.trigger("invalid-tag",{$tag:n}),n},u.remove=function(e){var n=u.items[e];return i({$tag:n})?(u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:n}),n):void 0},u.select=function(e){0>e?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.clearSelection(),u}function l(e){return-1!==n.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,i){e.events=s.simplePubSub(),o.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",l],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,2],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),e.tagList=new u(e.options,e.events,s.handleUndefinedResult(e.onTagAdding,!0),s.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){var t=i.find("input");return{addTag:function(t){return e.tagList.add(t)},focusInput:function(){t[0].focus()},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},on:function(t,n){return e.events.on(t,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,o,u){var l,c=[e.enter,e.comma,e.space,e.backspace,e["delete"],e.left,e.right],g=t.tagList,d=t.events,p=t.options,f=n.find("input"),m=["minTags","maxTags","allowLeftoverText"];l=function(){u.$setValidity("maxTags",g.items.length<=p.maxTags),u.$setValidity("minTags",g.items.length>=p.minTags),u.$setValidity("leftoverText",t.hasFocus||p.allowLeftoverText?!0:!t.newTag.text())},u.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){return angular.isDefined(e)?(t.text=e,void d.trigger("input-change",e)):t.text||""},invalid:null},t.track=function(e){return e[p.keyProperty||p.displayProperty]},t.$watch("tags",function(e){e?(g.items=s.makeObjectArray(e,p.displayProperty),t.tags=g.items):g.items=[]}),t.$watch("tags.length",function(){l(),u.$validate()}),o.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){d.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,d.trigger("input-focus"))},blur:function(){i(function(){var e=a.prop("activeElement"),i=e===f[0],r=n[0].contains(e);(i||!r)&&(t.hasFocus=!1,d.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):r.clipboardData.getData("Text")},d.trigger("input-paste",e)}},host:{click:function(){t.disabled||f[0].focus()}},tag:{click:function(e){d.trigger("tag-clicked",{$tag:e})}}},d.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=g.items,u.$setDirty()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==m.indexOf(e.name)&&l()}).on("input-change",function(){g.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),u.$setValidity("leftoverText",!0)}).on("input-blur",function(){p.addOnBlur&&!p.addFromAutocompleteOnly&&g.addText(t.newTag.text()),n.triggerHandler("blur"),l()}).on("input-keydown",function(n){var i,a,r,o,u=n.keyCode,l={};if(!s.isModifierOn(n)&&-1!==c.indexOf(u)){if(l[e.enter]=p.addOnEnter,l[e.comma]=p.addOnComma,l[e.space]=p.addOnSpace,i=!p.addFromAutocompleteOnly&&l[u],a=(u===e.backspace||u===e["delete"])&&g.selected,o=u===e.backspace&&0===t.newTag.text().length&&p.enableEditingLastTag,r=(u===e.backspace||u===e.left||u===e.right)&&0===t.newTag.text().length&&!p.enableEditingLastTag,i)g.addText(t.newTag.text());else if(o){var d;g.selectPrior(),d=g.removeSelected(),d&&t.newTag.text(d[p.displayProperty])}else a?g.removeSelected():r&&(u===e.left||u===e.backspace?g.selectPrior():u===e.right&&g.selectNext());(i||r||a||o)&&n.preventDefault()}}).on("input-paste",function(e){if(p.addOnPaste){var t=e.getTextData(),n=t.split(p.pasteSplitPattern);n.length>1&&(n.forEach(function(e){g.addText(e)}),e.preventDefault())}})}}}]),i.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(t,n,i,a){var r=a.registerTagItem(),o=r.getOptions();t.$$template=o.template,t.$$removeTagSymbol=o.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[o.displayProperty])},t.$removeTag=function(){r.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),i.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,i,a,r,o){function s(e,t,n){var i,r,s,u={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},i=function(e,n){return e.filter(function(e){return!o.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=o.replaceSpacesWithDashes(e),n=o.replaceSpacesWithDashes(n)),o.defaultComparer(e,n)})})},u.reset=function(){r=null,u.items=[],u.visible=!1,u.index=-1,u.selected=null,u.query=null},u.show=function(){t.selectFirstMatch?u.select(0):u.selected=null,u.visible=!0},u.load=o.debounce(function(n,l){u.query=n;var c=a.when(e({$query:n}));r=c,c.then(function(e){c===r&&(e=o.makeObjectArray(e.data||e,s()),e=i(e,l),u.items=e.slice(0,t.maxResultsToShow),u.items.length>0?u.show():u.reset())})},t.debounceDelay),u.selectNext=function(){u.select(++u.index)},u.selectPrior=function(){u.select(--u.index)},u.select=function(e){0>e?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e],n.trigger("suggestion-selected",e)},u.reset(),u}function u(e,t){var n=e.find("li").eq(t),i=n.parent(),a=n.prop("offsetTop"),r=n.prop("offsetHeight"),o=i.prop("clientHeight"),s=i.prop("scrollTop");s>a?i.prop("scrollTop",a):a+r>o+s&&i.prop("scrollTop",a+r-o)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=o.simplePubSub(),r.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,2],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,i,a){var r,s=[e.enter,e.tab,e.escape,e.up,e.down],l=t.suggestionList,c=a.registerAutocomplete(),g=t.options,d=t.events;g.tagsInput=c.getOptions(),r=function(e){return e&&e.length>=g.minLength||!e&&g.loadOnEmpty},t.addSuggestionByIndex=function(e){l.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return l.selected&&(c.addTag(angular.copy(l.selected)),l.reset(),c.focusInput(),e=!0),e},t.track=function(e){return e[g.tagsInput.keyProperty||g.tagsInput.displayProperty]},c.on("tag-added tag-removed invalid-tag input-blur",function(){l.reset()}).on("input-change",function(e){r(e)?l.load(e,c.getTags()):l.reset()}).on("input-focus",function(){var e=c.getCurrentTagText();g.loadOnFocus&&r(e)&&l.load(e,c.getTags())}).on("input-keydown",function(n){var i=n.keyCode,a=!1;return o.isModifierOn(n)||-1===s.indexOf(i)?void 0:(l.visible?i===e.down?(l.selectNext(),a=!0):i===e.up?(l.selectPrior(),a=!0):i===e.escape?(l.reset(),a=!0):(i===e.enter||i===e.tab)&&(a=t.addSuggestion()):i===e.down&&t.options.loadOnDownArrow&&(l.load(c.getCurrentTagText(),c.getTags()),a=!0),a?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0)}),d.on("suggestion-selected",function(e){u(n,e)})}}}]),i.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,i,a,r){var o=r.registerAutocompleteMatch(),s=o.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,o.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),i.directive("tiTranscludeAppend",function(){return function(e,t,n,i,a){a(function(e){t.append(e)})}}),i.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,a){var r,o,s=e.getTextAutosizeThreshold();r=angular.element('<span class="input"></span>'),r.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(r),o=function(e){var t,a=e;return angular.isString(a)&&0===a.length&&(a=i.placeholder),a&&(r.text(a),r.css("display",""),t=r.prop("offsetWidth"),r.css("display","none")),n.css("width",t?t+s+"px":""),e},a.$parsers.unshift(o),a.$formatters.unshift(o),i.$observe("placeholder",function(e){a.$modelValue||o(e)})}}}]),i.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),i.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(i){var a={};return a[String]=function(e){return e},a[Number]=function(e){return parseInt(e,10)},a[Boolean]=function(e){return"true"===e.toLowerCase()},a[RegExp]=function(e){return new RegExp(e)},{load:function(n,r,o,s){var u=function(){return!0};r.options={},angular.forEach(s,function(s,l){var c,g,d,p,f,m;c=s[0],g=s[1],d=s[2]||u,p=a[c],f=function(){var t=e[n]&&e[n][l];return angular.isDefined(t)?t:g},m=function(e){r.options[l]=e&&d(e)?p(e):f()},t[n]&&t[n][l]?o.$observe(l,function(e){m(e),r.events.trigger("option-change",{name:l,newValue:e})}):m(o[l]&&i(o[l])(r.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),i.factory("tiUtil",["$timeout",function(e){var t={};return t.debounce=function(t,n){var i;return function(){var a=arguments;e.cancel(i),i=e(function(){t.apply(null,a)},n)}},t.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var i={};i[t]=e,n.push(i)}),n},t.findInObjectArray=function(e,n,i,a){var r=null;return a=a||t.defaultComparer,e.some(function(e){return a(e[i],n[i])?(r=e,!0):void 0}),r},t.defaultComparer=function(e,n){return t.safeToString(e).toLowerCase()===t.safeToString(n).toLowerCase()},t.safeHighlight=function(e,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!n)return e;e=t.encodeHTML(e),n=t.encodeHTML(n);var a=new RegExp("&[^;]+;|"+i(n),"gi");return e.replace(a,function(e){return e.toLowerCase()===n.toLowerCase()?"<em>"+e+"</em>":e})},t.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},t.encodeHTML=function(e){return t.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},t.replaceSpacesWithDashes=function(e){return t.safeToString(e).replace(/\s/g,"-")},t.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},t.simplePubSub=function(){var e={};return{on:function(t,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(n)}),this},trigger:function(n,i){var a=e[n]||[];return a.every(function(e){return t.handleUndefinedResult(e,!0)(i)}),this}}},t}]),i.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<div class="tag-item-remove"><span class="tag-item-text" ng-bind="$getDisplayText()"></span><a class="ficon-cross tag-remove ng-scope" ng-click="$removeTag()"></a></div>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<div class="tag-item-remove"><span class="tag-item-text" ng-bind-html="$getDisplayText()"></span><a class="tag-remove ng-scope" ng-click="$removeTag()"></a></div>')}])}();

/*---------Chosen Directive localytics.directives-----------*/

(function(){var e=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",function(){var n,t,r,a;return t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,n=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],a=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},r=function(e){var n;if(angular.isArray(e))return 0===e.length;if(angular.isObject(e))for(n in e)if(e.hasOwnProperty(n))return!1;return!0},{restrict:"A",require:"?ngModel",terminal:!0,link:function(i,s,l,o){var c,u,d,h,f,g,p,v,$,w,b,y,S;return s.addClass("localytics-chosen"),p=i.$eval(l.chosen)||{},angular.forEach(l,function(t,r){return e.call(n,r)>=0?p[a(r)]=i.$eval(t):void 0}),w=function(){return s.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},b=function(){return s.removeClass("loading").attr("disabled",!1).trigger("chosen:updated")},c=null,u=null,h=!1,f=function(){return c?s.trigger("chosen:updated"):(c=s.chosen(p).data("chosen"),u=c.default_text)},$=function(){return h=!1,s.attr("data-placeholder",u)},d=function(){return h=!0,s.attr("data-placeholder",c.results_none_found).attr("disabled",!0).trigger("chosen:updated")},o?(v=o.$render,o.$render=function(){return v(),f()},l.multiple&&(S=function(){return o.$viewValue},i.$watch(S,o.$render,!0))):f(),l.$observe("disabled",function(){return s.trigger("chosen:updated")}),l.ngOptions&&o?(g=l.ngOptions.match(t),y=g[7],i.$watchCollection(y,function(e,n){return angular.isUndefined(e)?w():(h&&$(),b(),r(e)?d():void 0)})):void 0}}})}).call(this);