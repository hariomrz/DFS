<div class="panel panel-widget" ng-show="user_media.length > 0" ng-cloak>
    <div class="panel-heading">
        <h3 class="panel-title" ng-bind="'Media ('+TotalRecords+')'"></h3>
    </div>
    <div class="panel-body">
        <div class="row gutter-1">
            <div class="col-xs-4" ng-click="$emit('showMediaPopupGlobalEmit', m.MediaGUID, '');" ng-repeat="m in user_media">
                <a class="thumbnail thumbnail-media">
                    <figure class="img-panel" ng-if="m.MediaType == 'Image'" ng-class="{'media-thumb-actions': (m.MediaType != 'Image')}">
                        <div class="block overlay-2">
                            <img src="{{AssetBaseUrl}}img/blank-1x1.png"  class="img-full">
                            <img ng-src="{{lang.image_server_path}}upload/wall/220x220/{{m.ImageName}}"  class="main-img">
                        </div>
                    </figure>
                    <figure class="img-panel" ng-if="m.MediaType == 'Video'" ng-class="(m.MediaType == 'Video' && m.ConversionStatus == 'Pending' && user_media.length > 2) ? 'processing-skyblue' : (m.MediaType == 'Video' && m.ConversionStatus == 'Pending' && (user_media.length == 1 || user_media.length == 2)) ? 'processing-red' : ''">
                        <img src="{{AssetBaseUrl}}img/blank-thumb-230x230.png"  class="img-full">
                        <img ng-if="m.ConversionStatus == 'Finished'" ng-src="{{lang.image_server_path}}upload/wall/220x220/{{m.ImageName.substr(0, m.ImageName.lastIndexOf('.')) + '.jpg'}}"  class="main-img">
                        <span class="media-ctrl" >
                            <i class="ficon-play"></i>
                        </span>
                    </figure>
                </a>
            </div>
        </div>
    </div>
</div>