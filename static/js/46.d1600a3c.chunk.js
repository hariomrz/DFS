(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1575:function(e,a,t){"use strict";t.r(a);var r=t(948),n=t(25),s=t.n(n),l=t(42),i=t(18),c=t(33),m=t(135),o=t(134),d=t(136),p=t(4),u=t.n(p),E=t(1593),h=t(1557),_=t(944),N=t(940),g=t(938),v=t(6),b=t(137),f=t(97),z=t(0),w=t(945),O=t.n(w),y=t(951),S=t(1),T=t(14),D=t.n(T),L=t(9),k=(t(969),function(e){function a(e,t){var r;return Object(i.a)(this,a),(r=Object(m.a)(this,Object(o.a)(a).call(this,e,t))).hideFilter=function(){r.setState({showLFitlers:!1}),r.props.hideFilter&&r.props.hideFilter()},r.getLeagueFilter=Object(l.a)(s.a.mark(function e(){var a,t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r.state.sports_id){e.next=2;break}return e.abrupt("return");case 2:return a={sports_id:r.state.sports_id},r.setState({isListLoading:!0}),delete a.limit,e.next=7,Object(b.Gc)(a);case 7:(t=e.sent)&&r.setState({filterArray:t.data?t.data.league_list:[]}),r.setState({isListLoading:!1});case 10:case"end":return e.stop()}},e)})),r.renderShimmer=function(e){return u.a.createElement("div",{key:e,className:"list-item"},u.a.createElement("span",{className:"shimmer"},u.a.createElement(O.a,{height:6,width:"90%"}),u.a.createElement(O.a,{height:4,width:"50%"})),u.a.createElement("span",{className:"amount"},u.a.createElement(O.a,{height:6,width:"30%"})),u.a.createElement("span",{className:"amount"},u.a.createElement(O.a,{height:6,width:"40%"})))},r.renderItem=function(e,a,t){var n=r.state,s=n.prizeData,l=n.allowPrize;return u.a.createElement("div",{key:e.user_id+t,id:e.user_id+t,className:"list-item"+(a?" own-v":"")},u.a.createElement("span",{className:"u-rank"},e.rank_value),u.a.createElement("span",{className:"usernm"},u.a.createElement("div",{className:"img-sec"},u.a.createElement("img",{src:e.image?v.b.getThumbURL(e.image):g.a.DEFAULT_USER,alt:""})),u.a.createElement("span",null,a?f.mt:e.user_name)),u.a.createElement("span",{className:"amount"},e.coins?u.a.createElement("div",{className:"val val-section"},u.a.createElement("img",{src:g.a.IC_COIN,alt:""})," ",v.b.numberWithCommas(parseInt(e.coins))):u.a.createElement("div",{className:"val val-section"},"-")),l&&u.a.createElement("span",{className:"amount"},e.prize_data&&e.prize_data.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"val val-section",key:t},r.showPrizes(e.prize_data[0],t))):r.showLivePrizeData(e,s)))},r.showPrizes=function(e,a){var t=r.state.merchandiseList||[];return u.a.createElement(u.a.Fragment,null,"undefined"!=e&&e&&e.prize_type&&0==e.prize_type?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("i",{style:{display:"inlineBlock",position:"relative",top:-1},className:"icon-bonus"}),v.b.kFormatter(Number(parseFloat(e.amount||0).toFixed(2)))):1==e.prize_type?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("span",{style:{display:"inlineBlock"}},v.b.getMasterData().currency_code),v.b.kFormatter(Number(parseFloat(e.amount||0).toFixed(2)))):2==e.prize_type?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("span",{style:{display:"inlineBlock"}},u.a.createElement("img",{style:{marginBottom:"2px"},src:g.a.IC_COIN,width:"12px",height:"12px"}),v.b.kFormatter(e.amount))):3==e.prize_type?u.a.createElement("span",{className:"contest-prizes p-0",onClick:function(e){return e.stopPropagation()}},e.name?u.a.createElement("span",null,e.name):e.amount&&u.a.createElement(u.a.Fragment,null,t&&t.map(function(a,t){return u.a.createElement(u.a.Fragment,{key:t},e.amount==a.merchandise_id&&u.a.createElement(E.a,{rootClose:!0,trigger:["click"],placement:"bottom",overlay:u.a.createElement(h.a,{id:"tooltip",className:"tooltip-featured"},u.a.createElement("strong",null,a.name))},u.a.createElement("span",{className:"merch-prize-sec",style:{display:"inlineBlock"}},a.name)))}))):0)},r.renderTopUser=function(e){var a=r.state,t=a.allowPrize,n=a.prizeData,s=e?e.length:0,l=s>0?e[0]:"",i=s>1?e[1]:"",c=s>2?e[2]:"";return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"rank-section second-rank"+(s>1?"":" disabled")},u.a.createElement("div",{className:"section-data"},u.a.createElement("div",{className:"circle-wrap"},u.a.createElement("span",{className:"rank-pos second"},"2"),u.a.createElement("div",null,e.rank_value),u.a.createElement("div",{className:"win-img-sec"},u.a.createElement("img",{src:e.image?v.b.getThumbURL(e.image):g.a.DEFAULT_USER,alt:""}))),u.a.createElement("div",{className:"winner-name"},i.user_name||"User Name"),u.a.createElement("div",{className:"won-amt"},i.coins?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("img",{src:g.a.IC_COIN,alt:""})," ",v.b.numberWithCommas(parseInt(i.coins))):u.a.createElement("span",{className:"contest-prizes"},"-")),t&&u.a.createElement("div",{className:"prize-amt"},""!=i&&i.prize_data&&i.prize_data.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"contest-prizes"},r.showPrizes(i.prize_data[0]))):r.showLivePrizeData(2,n)))),u.a.createElement("div",{className:"rank-section first-rank"+(s>0?"":" disabled")},u.a.createElement("div",{className:"section-data"},u.a.createElement("div",{className:"circle-wrap"},u.a.createElement("span",{className:"rank-pos first"},"1"),u.a.createElement("div",{className:"win-img-sec"},u.a.createElement("img",{src:e.image?v.b.getThumbURL(e.image):g.a.DEFAULT_USER,alt:""}))),u.a.createElement("div",{className:"winner-name"},l.user_name||"User Name"),u.a.createElement("div",{className:"won-amt"},l.coins?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("img",{src:g.a.IC_COIN,alt:""})," ",v.b.numberWithCommas(parseInt(l.coins))):u.a.createElement("span",{className:"contest-prizes"},"-")),t&&u.a.createElement("div",{className:"prize-amt"},l&&l.prize_data&&l.prize_data.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"contest-prizes"},r.showPrizes(l.prize_data[0]))):r.showLivePrizeData(1,n)))),u.a.createElement("div",{className:"rank-section third-rank"+(s>2?"":" disabled")},u.a.createElement("div",{className:"section-data"},u.a.createElement("div",{className:"circle-wrap"},u.a.createElement("span",{className:"rank-pos third"},"3"),u.a.createElement("div",{className:"win-img-sec"},u.a.createElement("img",{src:e.image?v.b.getThumbURL(e.image):g.a.DEFAULT_USER,alt:""}))),u.a.createElement("div",{className:"winner-name"},c.user_name||"User Name"),u.a.createElement("div",{className:"won-amt"},c.coins?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("img",{src:g.a.IC_COIN,alt:""})," ",v.b.numberWithCommas(parseInt(c.coins))):u.a.createElement("span",{className:"contest-prizes"},"-")),t&&u.a.createElement("div",{className:"prize-amt"},c&&c.prize_data&&c.prize_data.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"contest-prizes"},r.showPrizes(c.prize_data[0]))):r.showLivePrizeData(3,n)))))},r.showLivePrizeData=function(e,a){var t=!0,r="",n=e.game_rank?e.game_rank:e.rank_value?e.rank_value:e;return Object(v.c)(a,function(e,a){var s=parseInt(e.max),l=parseInt(e.min);t&&(n==s||n==l||n<s&&n>l)&&(r=e,t=!1)}),u.a.createElement(u.a.Fragment,null,0==r.prize_type?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("i",{style:{display:"inlineBlock"},className:"icon-bonus"}),v.b.kFormatter(Number(parseFloat(r.amount||0).toFixed(2)))):1==r.prize_type?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("span",{style:{display:"inlineBlock"}},v.b.getMasterData().currency_code),v.b.kFormatter(Number(parseFloat(r.amount||0).toFixed(2)))):2==r.prize_type?u.a.createElement("span",{className:"contest-prizes"},u.a.createElement("span",{style:{display:"inlineBlock"}},u.a.createElement("img",{style:{marginBottom:"2px"},src:g.a.IC_COIN,width:"12px",height:"12px"}),v.b.kFormatter(r.amount))):3==r.prize_type?u.a.createElement("span",{className:"contest-prizes p-0",onClick:function(e){return e.stopPropagation()}},u.a.createElement(E.a,{rootClose:!0,trigger:["click"],placement:"left",overlay:u.a.createElement(h.a,{id:"tooltip",className:"tooltip-featured"},u.a.createElement("strong",null,r.amount))},u.a.createElement("span",{className:"merch-prize-sec",style:{display:"inlineBlock"}},r.amount))):0)},r.filterLeaderboard=function(e){r.setState({showLFitlers:!1,CFilter:e,PLIST:[],PNO:1,PSIZE:20,OWNDATA:""},function(){r.getLeaderboardData()})},r.handleTimeFilter=function(e,a){r.state.filterDataBy!=e&&r.setState({filterDataBy:e,filterById:a,PLIST:[],PNO:1,PSIZE:20,OWNDATA:""},function(){r.getLeaderboardData()})},r.state={sports_id:L.d,PLIST:[],OWNDATA:"",TOPTHREE:[],SPONSORDATA:[],PNO:1,PSIZE:20,filterArray:[],HMORE:!1,ISLOAD:!1,refreshList:!0,showLFitlers:!1,filterDataBy:"today",CFilter:"",filterById:"1",OwnUserName:D.a.get("profile"),showSponsorData:"",STARTDATE:"",ENDDATE:"",leadStatus:"",filerByTime:[{value:"today",label:f.Oq,prize_cat_id:"1"},{value:"this_week",label:f.Lq,prize_cat_id:"2"},{value:"this_month",label:f.Jq,prize_cat_id:"3"}],filerByPreTime:[{value:"yesterday",label:f.lt,prize_cat_id:"1"},{value:"last_week",label:f.Lh,prize_cat_id:"2"},{value:"last_month",label:f.Jh,prize_cat_id:"3"}],merchandiseList:[],prizeData:[],allowPrize:!1},r}return Object(d.a)(a,e),Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){S.a.setPickedGameType(L.r.Pickem);var e=window.location.href;e.includes("#pickem")||(e+="#pickem"),window.history.replaceState("","",e)}},{key:"componentDidMount",value:function(){this.getLeaderboardData()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=this;this.state.sports_id!=e.selectedSport&&this.setState({sports_id:e.selectedSport},function(){a.setState({showLFitlers:!1,CFilter:"",PLIST:[],PNO:1,PSIZE:20,OWNDATA:""},function(){a.getLeaderboardData()})}),this.state.showLFitlers!=e.showLobbyFitlers&&this.setState({showLFitlers:e.showLobbyFitlers})}},{key:"getLeaderboardData",value:function(){var e=this,a=this.state,t=a.PNO,n=a.PSIZE,s=a.PLIST,l=a.CFilter,i=a.OWNDATA,c=a.filterDataBy,m=a.TOPTHREE,o=a.SPONSORDATA,d=a.sports_id,p=new Date;p=v.b.getLocalToUtc(p);var u={sports_id:d,league_id:l.league_id,page_no:t,page_size:n,filter:c,current_date:p};""!=l.feed_type&&(u.feed_type=l.feed_type),this.setState({ISLOAD:!0}),Object(b.Fc)(u).then(function(a){if(e.setState({ISLOAD:!1}),a.response_code===z.bf){var l=a.data.own||"",c=a.data.other_list||[],d=a.data.top_three||[],p=a.data.sponsors||[],u=a.data.start_date||"",E=a.data.end_date||"",h=a.data.status,_=a.data.merchandise_list||[],N=a.data.prize_distribution_detail||[],g=!(!a.data.allow_prize||1!=a.data.allow_prize);e.setState({PLIST:[].concat(Object(r.a)(s),Object(r.a)(c)),OWNDATA:1===t?l:i,TOPTHREE:1===t?d:m,SPONSORDATA:1===t?p:o,HMORE:c.length>=n-(l||i?1:0),PNO:t+1,STARTDATE:u,ENDDATE:E,leadStatus:h,merchandiseList:_,prizeData:N,allowPrize:g},function(){})}})}},{key:"getMoreLData",value:function(){var e=this,a=this.state,t=a.PNO,n=a.PSIZE,s=a.PLIST,l=a.CFilter,i=a.OWNDATA,c=a.filterDataBy,m=a.TOPTHREE,o=a.SPONSORDATA,d=a.sports_id,p=new Date;p=v.b.getLocalToUtc(p);var u={league_id:l.league_id,page_no:t,page_size:n,filter:c,sports_id:d,current_date:p};this.setState({ISLOAD:!0}),Object(b.Fc)(u).then(function(a){if(e.setState({ISLOAD:!1}),a.response_code===z.bf){var l=a.data.own||"",c=a.data.other_list||[],d=a.data.top_three||[],p=a.data.sponsors||[];e.setState({PLIST:[].concat(Object(r.a)(s),Object(r.a)(c)),OWNDATA:1===t?l:i,TOPTHREE:1===t?d:m,SPONSORDATA:1===t?p:o,HMORE:c.length>=n-(l||i?1:0),PNO:t+1},function(){})}})}},{key:"render",value:function(){var e=this,a=this.state,t=(a.filterArray,a.PLIST),r=a.OWNDATA,n=a.ISLOAD,s=a.HMORE,l=a.refreshList,i=(a.CFilter,a.showLFitlers,a.filerByTime),c=a.filterDataBy,m=a.TOPTHREE,o=(a.SPONSORDATA,a.filerByPreTime),d=a.filterById,p=a.STARTDATE,E=(a.ENDDATE,a.leadStatus),h=(a.prizeData,a.allowPrize),b=("last_week"===c||"last_month"===c||"yesterday"===c)&&(m&&0==m.length||r&&0==r.length||t&&0==t.length);return u.a.createElement(_.a.Consumer,null,function(a){return u.a.createElement("div",{className:"prediction-wrap-v prediction-part-v open-predict-leaderboard is-leaderboard fpp-leaderboard pickem-leaderboard"},u.a.createElement("div",{className:"fixed-ch-view"},u.a.createElement("div",{className:"filter-time-section"},u.a.createElement("ul",{className:"filter-time-wrap"},Object(v.c)(i,function(a,t){return u.a.createElement("li",{href:!0,className:"filter-time-btn"+(a.value==c?" active":"")+(2==a.prize_cat_id&&2==d&&p?" xwith-date":""),onClick:function(){return e.handleTimeFilter(a.value,a.prize_cat_id)}},a.label)})))),u.a.createElement("div",{className:"table-view"},u.a.createElement("div",{className:"previous-data"},Object(v.c)(o,function(a,t){return u.a.createElement(u.a.Fragment,null,d===a.prize_cat_id&&u.a.createElement("a",{href:!0,className:"previous-time-btn"+("last_week"===c||"last_month"===c||"yesterday"===c?" active":""),onClick:function(){return e.handleTimeFilter(a.value,a.prize_cat_id)}},u.a.createElement("i",{className:"icon-arrow-up"}),u.a.createElement("i",{className:"icon-arrow-up"}),a.label))}),!b&&0==E&&u.a.createElement("div",{className:"leader-status"},u.a.createElement("span",null),f.Yh),!b&&3==E&&2==E&&u.a.createElement("div",{className:"leader-status comp"},f.kc)),u.a.createElement("div",{className:"top-three-users"},e.renderTopUser(m)),(t&&t.length>0||r&&r.length>0||m&&m.length>0)&&u.a.createElement("div",{className:"header-v"},u.a.createElement("span",{className:"u-rank"},f.Fn),u.a.createElement("span",{className:"usernm"},f.Gr),u.a.createElement("span",{className:"amount"},f.Xb),h&&u.a.createElement("span",{className:"amount"},f.Vm)),l&&r&&r.user_id&&e.renderItem(r,!0,-1),t.length>0&&u.a.createElement(y.a,{dataLength:t.length,hasMore:!n&&s,next:function(){return e.getMoreLData()}},u.a.createElement("div",{className:"list-view"},t.map(function(a,t){return e.renderItem(a,!1,t)}))),0===t.length&&(0===r.length||!r)&&!n&&(0!=m.length||0==m.length)&&u.a.createElement(N.h,{BG_IMAGE:g.a.no_data_bg_image,CENTER_IMAGE:L.n?g.a.DT_BRAND_LOGO_FULL:g.a.BRAND_LOGO_FULL,MESSAGE_1:f.lj,MESSAGE_2:""}),0===t.length&&n&&Object(v.n)(16,function(a){return e.renderShimmer(a)})))})}}]),a}(u.a.Component));a.default=k}}]);