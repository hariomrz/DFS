(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1059:function(e,t,a){"use strict";var n=a(139),i=a(18),o=a(33),c=a(135),r=a(134),s=a(136),l=a(4),m=a.n(l),p=a(944),d=a(1588),u=a(1553),_=a(954),E=a(137),h=a(940),b=a(6),g=a(955),f=a(945),y=a.n(f),v=a(956),N=a(1),C=a(938),w=a(0),k=a(97),S=a(941),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).onChange=function(e){e.target.value<=a.state.maxCoin?a.setState({bidAmount:e.target.value}):a.setState({bidAmount:a.state.bidAmount,refreshField:!1},function(){a.setState({refreshField:!0})})},a.timerCompletionCall=function(){(0,a.props.preData.mHide)()},a.submitPrediction=function(){var e=a.props.preData,t=e.mHide,n=e.cpData,i=e.successAction,o=parseInt(a.state.point_balance),c=0==n.entry_type?parseInt(a.state.bidAmount):parseInt(n.entry_fee),r=o-c,s={prediction_master_id:n.prediction_master_id,prediction_option_id:n.option_predicted.prediction_option_id,bet_coins:c};a.setState({isLoading:!0}),Object(E.Kd)(s).then(function(e){if(e.response_code===w.bf){S.a.updateCoinBalance(r);var o=N.a.getBalance();o.point_balance=r,N.a.setBalance(o),b.b.showToast(e.message,3e3,C.a.PREDICTION_IC),i(n),a.setState({isLoading:!1},function(){t()})}else a.setState({isLoading:!1})})},a.clickEarnCoins=function(){N.a.loggedIn()?a.props.history.push("/earn-coins"):a.goToSignup()},a.goToSignup=function(){a.props.history.push("/signup")},a.state={bidAmount:"",minCoin:parseInt(b.b.getMasterData().min_bet_coins||10),maxCoin:parseInt(b.b.getMasterData().max_bet_coins||9999),isLoading:!1,point_balance:N.a.getBalance().point_balance||0,refreshField:!0},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;document.addEventListener("keydown",b.g,!1),Object(E.kd)().then(function(t){t.response_code===w.bf&&(e.setState({point_balance:t.data.user_balance.point_balance||0}),N.a.setAllowedBonusPercantage(t.data.allowed_bonus_percantage),N.a.setBalance(t.data.user_balance))})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",b.g)}},{key:"render",value:function(){var e=this,t=this.props.preData,a=t.mShow,i=t.mHide,o=t.cpData,c=this.state,r=c.bidAmount,s=c.minCoin,l=c.isLoading,E=c.point_balance,f=o.deadline_time/1e3,N=parseInt(E||0),w=1==o.entry_type?o.entry_fee<=N:r>=s&&r<=N,S="".concat(k.ve," (").concat(k.Yi," ").concat(s," ").concat(k.du,")");return m.a.createElement(p.a.Consumer,null,function(t){return m.a.createElement(d.a,{show:a,onHide:i,dialogClassName:"modal-pred-confirm",className:"center-modal"},m.a.createElement(d.a.Body,null,m.a.createElement("div",{className:"container"},m.a.createElement("p",{className:"title-pp"},k.Zl),m.a.createElement("p",{className:"desc-pp"},k.Nm),m.a.createElement("div",{className:"your-pre"},m.a.createElement("div",{className:"shimmer-v"},m.a.createElement(y.a,{duration:2,width:"100%",height:"100%"})),m.a.createElement("span",null,k.Ct),m.a.createElement("span",{className:"option"},o.option_predicted.option),m.a.createElement("div",{className:"match-timing"},b.b.showCountDown({game_starts_in:f})?m.a.createElement("div",{className:"countdown time-line"},f&&m.a.createElement(v.a,{timerCallback:e.timerCompletionCall,deadlineTimeStamp:f})):m.a.createElement("span",null,m.a.createElement(h.g,{data:{date:o.deadline_date,format:"D MMM - hh:mm A "}})))),0==o.entry_type&&e.state.refreshField&&m.a.createElement(u.a,{className:"input-label-center input-transparent",controlId:"formBasicText"},m.a.createElement(g.a,{autoComplete:"off",styles:Object(n.a)({},_.d,{span:{fontSize:S.length>35?"13px":"1rem"},floating:{fontSize:S.length>35?"11px":"12px"}}),id:"amont",name:"amont",value:r,placeholder:S,type:"text",onChange:e.onChange})),1==o.entry_type&&m.a.createElement("div",{className:"prediction-fee-section"},m.a.createElement("div",{className:"wrap"},m.a.createElement("div",{className:"label"},k.Je),o.entry_fee>0&&m.a.createElement("div",{className:"value"},m.a.createElement("img",{src:C.a.IC_COIN,alt:""}),o.entry_fee),o.entry_fee<=0&&m.a.createElement("div",{className:"value"},k.Bf)),m.a.createElement("div",{className:"wrap"},m.a.createElement("div",{className:"label"},k.As),m.a.createElement("div",{className:"value"},m.a.createElement("img",{src:C.a.IC_COIN,alt:""}),o.win_prize))),m.a.createElement("div",{className:"available-bal"},m.a.createElement("span",null,k.J),m.a.createElement("span",{className:"bal"},m.a.createElement("img",{src:C.a.IC_COIN,alt:""}),N)),(N<s||N<r||1==o.entry_type&&N<o.entry_fee)&&m.a.createElement("span",{className:"no-coins-msg"},k.Zj,m.a.createElement("a",{href:!0,onClick:e.clickEarnCoins},k.Vd.toLowerCase()))),m.a.createElement("button",{onClick:e.submitPrediction,className:"btn btn-m-p"+(w&&!l?"":" disabled")},k.wi)))})}}]),t}(l.Component);t.a=O},1571:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(33),o=a(135),c=a(134),r=a(136),s=a(4),l=a.n(s),m=a(1593),p=a(1557),d=a(944),u=a(6),_=a(137),E=a(940),h=a(942),b=a.n(h),g=a(1059),f=a(943),y=a(1),v=a(941),N=a(956),C=a(938),w=a(0),k=a(97),S=a(9),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).onSelectPredict=function(e,t){var n=a.state.detail;Object(u.c)(n.option,function(a,i){i===e?(a.user_selected_option=t.prediction_option_id,n.option_predicted=t):a.user_selected_option=null}),a.setState({detail:n},function(){setTimeout(function(){a.onMakePrediction()},50)})},a.onMakePrediction=function(){y.a.loggedIn()?a.setState({showCP:!0}):a.goToSignup()},a.hideCP=function(){a.setState({showCP:!1})},a.goToSignup=function(){var e=a.props.match.params,t="/"+u.b.getSelectedSportsForUrl().toLowerCase()+"/open-predictor-details/"+e.category_id+"/"+e.prediction_master_id;a.props.history.push({pathname:"/signup",state:{joinContest:!0,lineupPath:t,FixturedContest:a.state.LData,LobyyData:a.state.LData}})},a.timerCallback=function(){},a.gotoLobby=function(){a.props.history.push("/lobby#"+u.b.getSelectedSportsForUrl()+"#open-predictor")},a.successAction=function(){setTimeout(function(){a.props.history.length>2?a.props.history.goBack():a.gotoLobby()},1500)},a.renderFilledBar=function(e,t){var n=a.state.detail,i=0===n.total_predictions?0:(e.option_total_coins/n.total_pool*100).toFixed(2);i=i%1===0?Math.floor(i):i;var o=e.user_selected_option===e.prediction_option_id;return l.a.createElement("div",{key:t,onClick:function(){return a.onSelectPredict(t,e)},className:"prediction-bar"+(o?" selected":"")},l.a.createElement("div",{className:"filled-bar",style:{width:1==n.entry_type?o?"100%":"0":i+"%",animationDelay:.05*t+"s"}}),l.a.createElement("p",{className:"answer"},e.option),0==n.entry_type&&l.a.createElement("div",{className:"corrected-ans"},l.a.createElement("p",null,i>0?i+"%":"")))},a.state={HOS:{back:a.props.history.length>2,fixture:!1,title:"",hideShadow:!1,MLogo:!0,isPrimary:!S.n},LData:"",detail:"",showCP:!1,sourceUrlShow:!1},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){if(y.a.setShareContestJoin(!0),y.a.setPickedGameType(S.r.OpenPred),this.props.match&&this.props.match.params){var e=this.props.match.params,t=atob(e.prediction_master_id);this.getDetail(e.category_id,t)}}},{key:"getDetail",value:function(e,t){var a=this,n={category_id:e,prediction_master_id:t};Object(_.zc)(n).then(function(e){e.response_code===w.bf&&(e.data.prediction?a.setState({detail:e.data.prediction[0]||"",LData:e.data.category_data}):(u.b.showToast(k.tn,1e3),setTimeout(function(){a.props.history.length>2?a.props.history.goBack():a.gotoLobby()},1e3)))})}},{key:"callNativeRedirection",value:function(e){var t={action:"predictionLink",targetFunc:"predictionLink",type:"link",url:e.source_url,detail:e};window.ReactNativeWebView.postMessage(JSON.stringify(t))}},{key:"render",value:function(){var e=this,t=this.state,a=t.HOS,n=t.LData,i=t.detail,o=t.showCP,c=i.deadline_time/1e3,r=0;return l.a.createElement(d.a.Consumer,null,function(t){return l.a.createElement("div",{className:"web-container prediction-detail-wrap"},l.a.createElement("img",{className:"bg-c-img",src:C.a.OPEN_CARD_IMG_DETAIL,alt:""}),l.a.createElement(b.a,{titleTemplate:"".concat(f.a.template," | %s")},l.a.createElement("title",null,f.a.PRDSHARE.title),l.a.createElement("meta",{name:"description",content:f.a.PRDSHARE.description}),l.a.createElement("meta",{name:"keywords",content:f.a.PRDSHARE.keywords})),l.a.createElement(v.a,Object.assign({},e.props,{LobyyData:n,HeaderOption:a,openPage:e.openPage})),""!==i&&l.a.createElement("div",{className:"pred-detail-v "},l.a.createElement("p",{className:"questions"},i.desc),(i.source_desc||i.source_url)&&l.a.createElement("div",{className:"que-desc"},i.source_url&&l.a.createElement(l.a.Fragment,null,window.ReactNativeWebView?l.a.createElement("a",{href:!0,onClick:function(){return e.callNativeRedirection(i)},className:"attached-url"},l.a.createElement("i",{className:"icon-link"})):l.a.createElement("a",{href:i.source_url,target:"_blank",className:"attached-url "},l.a.createElement("i",{className:"icon-link"}))),i.source_desc&&l.a.createElement(m.a,{rootClose:!0,trigger:["click"],placement:"right",overlay:l.a.createElement(p.a,{id:"tooltip"},l.a.createElement("strong",null,i.source_desc))},l.a.createElement("i",{className:"icon-ic-info que-info"}))),Object(u.c)(i.option,function(t,a){return r=t.user_selected_option===t.prediction_option_id?t.bet_coins:r,e.renderFilledBar(t,a)}),l.a.createElement("div",{className:"footer-vc"},l.a.createElement("div",{className:"match-timing league-n"},l.a.createElement("div",{className:"leag-name"},n.name)),l.a.createElement("div",null,0==i.entry_type&&i.prize_pool>0&&l.a.createElement("p",{className:"price-pool"},l.a.createElement("span",{className:"price-pool-first"},k.ws),l.a.createElement("img",{src:C.a.IC_COIN,alt:""}),i.prize_pool),0==i.entry_type&&0==i.prize_pool&&l.a.createElement("p",{className:"price-pool-first"},k.W),1==i.entry_type&&l.a.createElement("p",{className:"price-pool"},l.a.createElement("span",{className:"price-pool-first"},k.ws),l.a.createElement("img",{src:C.a.IC_COIN,alt:""}),i.win_prize),l.a.createElement("div",{className:"date-v"},l.a.createElement("div",{className:"match-timing"},u.b.showCountDown({game_starts_in:c})?l.a.createElement("span",{className:"d-flex"},l.a.createElement("div",{className:"countdown time-line"},c&&l.a.createElement(N.a,{timerCallback:e.timerCallback,deadlineTimeStamp:c})),k.do):l.a.createElement("span",null," ",l.a.createElement(E.g,{data:{date:i.deadline_date,format:"D MMM - hh:mm A "}}))))),l.a.createElement("div",{className:"lobby-go"},e.props.history.length<=2&&l.a.createElement("a",{href:!0,onClick:e.gotoLobby},k.cg)))),o&&l.a.createElement(g.a,Object.assign({},e.props,{preData:{mShow:o,mHide:e.hideCP,cpData:i,successAction:e.successAction}})))})}}]),t}(s.Component);t.default=O}}]);