(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1121:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(33),r=a(135),s=a(134),c=a(136),l=a(4),m=a.n(l),o=a(942),d=a(945),u=a.n(d),p=a(944),h=a(6),E=a(137),b=a(941),f=a(1),I=a(943),g=a(938),N=a(0),v=a(97),w=a(9),S=[],C=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).callApiRedeemList=function(){a.setState({ISLOAD:!0}),Object(E.bd)({}).then(function(e){if(a.setState({ISLOAD:!1}),e.response_code===N.bf){var t=e.data.rewards||[];a.setState({RCLIST:t.sort(function(e,t){return parseInt(e.redeem_coins)-parseInt(t.redeem_coins)})}),S=t.sort(function(e,t){return parseInt(e.redeem_coins)-parseInt(t.redeem_coins)})}})},a.btnAction=function(e){if(!a.state.isApiCalling){var t=parseInt(a.state.userCoinB)-parseInt(e.redeem_coins),n={coin_reward_id:e.coin_reward_id.$oid};a.setState({isApiCalling:!0}),Object(E.Pd)(n).then(function(n){if(a.setState({isApiCalling:!1}),n.response_code===N.bf){b.a.updateCoinBalance(t),a.setState({userCoinB:t}),b.a.showRSuccess(e);var i=f.a.getBalance();i.point_balance=t,f.a.setBalance(i)}})}},a.renderListItem=function(e,t){return m.a.createElement("li",{key:t,className:"border "+(parseInt(e.redeem_coins||"0")>parseInt(a.state.userCoinB)?"disabled":"")},m.a.createElement("div",{className:"lock-icon"},m.a.createElement("i",{className:"icon-lock-ic"})),m.a.createElement("div",{className:"text-c"},"3"===e.type&&m.a.createElement("div",{className:"img-c"},m.a.createElement("img",{src:h.b.getRewardsURL(e.image),alt:""})),m.a.createElement("div",{className:"detail-c"+("3"===e.type?"":" not-gift")},"3"!=e.type?m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{className:"list-t"}," ","1"===e.type?m.a.createElement("i",{className:"icon-bonus"}):h.b.getMasterData().currency_code,e.value),m.a.createElement("p",{className:"list-d"},"3"===e.type?e.detail:"2"===e.type?v.In:v.bb)):m.a.createElement("p",{className:"list-t"},e.detail))),m.a.createElement("div",null,m.a.createElement("p",{className:"list-d text-center m-b-xs"},v.Nn),m.a.createElement("a",{href:!0,className:"list-btn",onClick:function(){return a.btnAction(e)}},m.a.createElement("img",{className:"coin-img",src:parseInt(e.redeem_coins||"0")>parseInt(a.state.userCoinB)?g.a.IC_COIN_GRAY:g.a.IC_COIN,alt:""}),e.redeem_coins)))},a.Shimmer=function(e){return m.a.createElement(d.SkeletonTheme,{color:w.n?"#161920":null,highlightColor:w.n?"#0E2739":null},m.a.createElement("div",{key:e,className:"contest-list border shimmer-border"},m.a.createElement("div",{className:"shimmer-container"},m.a.createElement("div",{className:"shimmer-image"},m.a.createElement(u.a,{width:70,height:46})),m.a.createElement("div",{className:"shimmer-top-view"},m.a.createElement("div",{className:"shimmer-line m-l w-75"},m.a.createElement(u.a,{height:9,width:"75%"}),m.a.createElement(u.a,{height:6,width:"80%"}))),m.a.createElement("div",{className:"m-0"},m.a.createElement(u.a,{height:6,width:"100%"}),m.a.createElement("div",{className:"shimmer-button"},m.a.createElement(u.a,{height:30,width:85}))))))},a.state={RCLIST:[],ISLOAD:!1,userCoinB:f.a.getBalance().point_balance||0,isApiCalling:!1},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){S.length>0?this.setState({RCLIST:S.sort(function(e,t){return parseInt(e.redeem_coins)-parseInt(t.redeem_coins)})}):this.callApiRedeemList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.RCLIST,n=t.ISLOAD,i={back:!0,notification:!1,title:v.so,hideShadow:!0,showBal:!0,isPrimary:!w.n};return m.a.createElement(p.a.Consumer,null,function(t){return m.a.createElement("div",{className:"web-container redeem-coins-cont"},m.a.createElement(o.Helmet,{titleTemplate:"".concat(I.a.template," | %s")},m.a.createElement("title",null,I.a.RWRDS.title),m.a.createElement("meta",{name:"description",content:I.a.RWRDS.description}),m.a.createElement("meta",{name:"keywords",content:I.a.RWRDS.keywords})),m.a.createElement(b.a,Object.assign({},e.props,{HeaderOption:i})),m.a.createElement("div",{className:"top-primary"}),m.a.createElement("ul",{className:"list-type"},Object(h.c)(a,function(t,a){return e.renderListItem(t,a)}),0===a.length&&n&&[1,1,1,1,1,1].map(function(t,a){return e.Shimmer(a)})))})}}]),t}(l.Component);t.default=C}}]);