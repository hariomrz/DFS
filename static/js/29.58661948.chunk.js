(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1058:function(e,t,a){"use strict";var n=a(139),i=a(18),o=a(33),s=a(135),c=a(134),r=a(136),l=a(4),m=a.n(l),d=a(944),p=a(1588),u=a(1553),b=a(954),h=a(137),_=a(940),g=a(6),E=a(955),f=a(956),v=a(1),C=a(938),N=a(0),w=a(97),y=a(941),S=a(9),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onChange=function(e){e.target.value<=a.state.maxCoin?a.setState({bidAmount:e.target.value}):a.setState({bidAmount:a.state.bidAmount,refreshField:!1},function(){a.setState({refreshField:!0})})},a.timerCompletionCall=function(){(0,a.props.preData.mHide)()},a.submitPrediction=function(){var e=a.props.preData,t=e.mHide,n=e.cpData,i=e.successAction,o=parseInt(a.state.point_balance)-parseInt(a.state.bidAmount),s={prediction_master_id:n.prediction_master_id,prediction_option_id:n.option_predicted.prediction_option_id,bet_coins:parseInt(a.state.bidAmount)};a.setState({isLoading:!0}),Object(h.Ld)(s).then(function(e){if(e.response_code===N.bf){y.a.updateCoinBalance(o);var s=v.a.getBalance();s.point_balance=o,v.a.setBalance(s),g.b.showToast(e.message,3e3,C.a.PREDICTION_IC),i(n),a.setState({isLoading:!1},function(){t()})}else a.setState({isLoading:!1})})},a.clickEarnCoins=function(){v.a.loggedIn()?a.props.history.push("/earn-coins"):a.goToSignup()},a.goToSignup=function(){a.props.history.push("/signup")},a.state={bidAmount:"",minCoin:parseInt(g.b.getMasterData().min_bet_coins||10),maxCoin:parseInt(g.b.getMasterData().max_bet_coins||9999),isLoading:!1,point_balance:v.a.getBalance().point_balance||0,refreshField:!0},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;document.addEventListener("keydown",g.g,!1),Object(h.kd)().then(function(t){t.response_code===N.bf&&(e.setState({point_balance:t.data.user_balance.point_balance||0}),v.a.setAllowedBonusPercantage(t.data.allowed_bonus_percantage),v.a.setBalance(t.data.user_balance))})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",g.g)}},{key:"render",value:function(){var e=this,t=this.props.preData,a=t.mShow,i=t.mHide,o=t.cpData,s=this.state,c=s.bidAmount,r=s.minCoin,l=s.isLoading,h=s.point_balance,v=o.deadline_time/1e3,N=parseInt(h||0),y=c>=r&&c<=N,k="".concat(w.ve," (").concat(w.Yi," ").concat(r," ").concat(w.du,")"),D=S.n?b.b:b.d;return m.a.createElement(d.a.Consumer,null,function(t){return m.a.createElement(p.a,{show:a,onHide:i,dialogClassName:"modal-pred-confirm header-circular-modal max-width400",className:"center-modal"},m.a.createElement(p.a.Header,null,m.a.createElement("div",{className:"modal-img-wrap"},m.a.createElement("div",{className:"wrap"},m.a.createElement("i",{className:"icon-versus"})))),m.a.createElement(p.a.Body,null,m.a.createElement("div",{className:"container"},m.a.createElement("p",{className:"title-pp"},w.Zl),m.a.createElement("p",{className:"desc-pp"},w.Nm),m.a.createElement("div",{className:"your-pre"},m.a.createElement("span",null,w.Ct),m.a.createElement("span",{className:"option"},o.option_predicted.option),m.a.createElement("div",{className:"match-timing"},g.b.showCountDown({game_starts_in:v})?m.a.createElement("div",{className:"countdown time-line"},v&&m.a.createElement(f.a,{timerCallback:e.timerCompletionCall,deadlineTimeStamp:v})):m.a.createElement("span",null,m.a.createElement(_.g,{data:{date:o.deadline_date,format:"D MMM - hh:mm A "}})))),e.state.refreshField&&m.a.createElement(u.a,{className:"input-label-center input-transparent",controlId:"formBasicText"},m.a.createElement(E.a,{autoComplete:"off",styles:Object(n.a)({},D,{span:{fontSize:k.length>35?"13px":"1rem"},floating:{fontSize:k.length>35?"11px":"12px"}}),id:"amont",name:"amont",value:c,placeholder:k,type:"text",onChange:e.onChange})),m.a.createElement("div",{className:"available-bal"},m.a.createElement("span",null,w.J),m.a.createElement("span",{className:"bal"},m.a.createElement("img",{src:C.a.IC_COIN,alt:""}),g.b.numberWithCommas(N))),c>N&&m.a.createElement("span",{className:"no-coins-msg"},w.Zj,m.a.createElement("a",{href:!0,onClick:e.clickEarnCoins},w.Vd.toLowerCase()))),m.a.createElement("button",{onClick:e.submitPrediction,className:"btn btn-m-p"+(y&&!l?"":" disabled")},w.wi)))})}}]),t}(l.Component);t.a=k},1570:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(33),o=a(135),s=a(134),c=a(136),r=a(4),l=a.n(r),m=a(944),d=a(6),p=a(137),u=a(940),b=a(942),h=a.n(b),_=a(1058),g=a(943),E=a(1),f=a(941),v=a(956),C=a(938),N=a(0),w=a(97),y=a(9),S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).onSelectPredict=function(e,t){var n=a.state.detail;Object(d.c)(n.option,function(a,i){i===e?(a.user_selected_option=t.prediction_option_id,n.option_predicted=t):a.user_selected_option=null}),a.setState({detail:n},function(){setTimeout(function(){a.onMakePrediction()},50)})},a.onMakePrediction=function(){E.a.loggedIn()?a.setState({showCP:!0}):a.goToSignup()},a.hideCP=function(){a.setState({showCP:!1})},a.goToSignup=function(){var e=a.props.match.params,t="/"+d.b.getSelectedSportsForUrl().toLowerCase()+"/prediction-details/"+e.season_game_uid+"/"+e.prediction_master_id;a.props.history.push({pathname:"/signup",state:{joinContest:!0,lineupPath:t,FixturedContest:a.state.LData,LobyyData:a.state.LData}})},a.timerCallback=function(){},a.gotoLobby=function(){a.props.history.push("/lobby#"+d.b.getSelectedSportsForUrl())},a.successAction=function(){setTimeout(function(){a.props.history.length>2?a.props.history.goBack():a.gotoLobby()},1500)},a.renderFilledBar=function(e,t){var n=a.state.detail,i=0===n.total_predictions?0:(e.option_total_coins/n.total_pool*100).toFixed(2),o=e.user_selected_option===e.prediction_option_id;return l.a.createElement("div",{key:t,onClick:function(){return a.onSelectPredict(t,e)},className:"prediction-bar"+(o?" selected":"")},l.a.createElement("div",{className:"filled-bar",style:{width:i+"%",animationDelay:.05*t+"s"}}),l.a.createElement("p",{className:"answer"},e.option),l.a.createElement("div",{className:"corrected-ans"},l.a.createElement("p",null,i>0?i+"%":"")))},a.state={HOS:{back:a.props.history.length>2,fixture:!1,title:"",hideShadow:!1,isPrimary:!y.n},LData:"",detail:"",showCP:!1},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){if(E.a.setShareContestJoin(!0),E.a.setPickedGameType(y.r.Pred),this.props.match&&this.props.match.params){var e=this.props.match.params,t=atob(e.prediction_master_id);this.getDetail(e.season_game_uid,t)}}},{key:"getDetail",value:function(e,t){var a=this,n={season_game_uid:e,prediction_master_id:t};Object(p.Pc)(n).then(function(e){e.response_code===N.bf&&(e.data.prediction?a.setState({detail:e.data.prediction[0]||"",LData:e.data.match_data,HOS:{back:a.props.history.length>2,fixture:!0,title:"",hideShadow:!1}}):(d.b.showToast(w.tn,1e3),setTimeout(function(){a.props.history.length>2?a.props.history.goBack():a.gotoLobby()},1e3)))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.HOS,n=t.LData,i=t.detail,o=t.showCP,s=i.deadline_time/1e3,c=0;return l.a.createElement(m.a.Consumer,null,function(t){return l.a.createElement("div",{className:"web-container sport-pred prediction-detail-wrap"},l.a.createElement("img",{className:"bg-c-img",src:C.a.CARD_BACK_IMG_DETAIL,alt:""}),l.a.createElement(h.a,{titleTemplate:"".concat(g.a.template," | %s")},l.a.createElement("title",null,g.a.PRDSHARE.title),l.a.createElement("meta",{name:"description",content:g.a.PRDSHARE.description}),l.a.createElement("meta",{name:"keywords",content:g.a.PRDSHARE.keywords})),l.a.createElement(f.a,Object.assign({},e.props,{LobyyData:n,HeaderOption:a})),""!==i&&l.a.createElement("div",{className:"pred-detail-v"},l.a.createElement("p",{className:"questions mb-3"},i.desc),Object(d.c)(i.option,function(t,a){return c=t.user_selected_option===t.prediction_option_id?t.bet_coins:c,e.renderFilledBar(t,a)}),l.a.createElement("div",{className:"footer-vc"},l.a.createElement("div",{className:"match-timing league-n"},l.a.createElement("div",{className:"leag-name"},n.league_name||n.league_abbr),"7"===y.d&&l.a.createElement("div",null," - ",y.C[n.format])),l.a.createElement("div",null,i.prize_pool>0&&l.a.createElement("p",{className:"price-pool"},l.a.createElement("span",{className:"price-pool-first"},w.ws),l.a.createElement("img",{src:C.a.IC_COIN,alt:""}),d.b.numberWithCommas(i.prize_pool)),0===i.prize_pool&&l.a.createElement("p",{className:"price-pool-first"},w.W),l.a.createElement("div",{className:"date-v"},l.a.createElement("div",{className:"match-timing"},d.b.showCountDown({game_starts_in:s})?l.a.createElement("span",{className:"d-flex"},l.a.createElement("div",{className:"countdown time-line"},s&&l.a.createElement(v.a,{timerCallback:e.timerCallback,deadlineTimeStamp:s})),w.do):l.a.createElement("span",null," ",l.a.createElement(u.g,{data:{date:i.deadline_date,format:"D MMM - hh:mm A "}}))))),l.a.createElement("div",{className:"lobby-go"},e.props.history.length<=2&&l.a.createElement("a",{href:!0,onClick:e.gotoLobby},w.cg)))),o&&l.a.createElement(_.a,Object.assign({},e.props,{preData:{mShow:o,mHide:e.hideCP,cpData:i,successAction:e.successAction}})))})}}]),t}(r.Component);t.default=S}}]);