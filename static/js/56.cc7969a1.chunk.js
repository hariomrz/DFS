(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1568:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return E});var s=t(18),n=t(33),l=t(135),r=t(134),i=t(136),c=t(4),o=t.n(c),u=t(1563),m=t(137),f=t(6),d=t(1),p=t(0),b=t(97),h=(t(963),t(938)),v=t(9),E=function(e){function a(e,t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(r.a)(a).call(this,e,t))).UNSAFE_componentWillMount=function(e){n.callRFMasterDataApi(),n.updateValuesOfLabel(n.props.location.state)},n.updateValuesOfLabel=function(e){var a=e,t=parseInt(e.user_coin),s=parseInt(e.user_real),l=parseInt(e.user_bonus);l>=t&&l>=s&&n.setState({displayLabelVlaue:0,prizeAmount:a.user_bonus}),s>=l&&s>=a.user_bonus&&n.setState({displayLabelVlaue:2,prizeAmount:a.user_real}),t>=l&&t>=s&&n.setState({displayLabelVlaue:1,prizeAmount:a.user_coin})},n.SkipStepWSaving=function(e){var a={referral_code:n.state.oldRefCode};Object(m.fe)(a).then(function(e){if(e&&e.response_code==p.bf){var a=n.state.profileDetail;a.referral_code=n.state.oldRefCode,a.is_rc_edit="1",d.a.setProfile(a),n.goBack()}})},n.SkipStep=function(e){n.goBack()},n.goBack=function(e){n.props.history.goBack()},n.referalOnChange=function(e){n.setState({newRefCode:e.target.value,btnEnable:n.state.newRefCode!=e.target.value})},n.state={newRefCode:d.a.getUserReferralCode(),oldRefCode:d.a.getUserReferralCode(),profileDetail:d.a.getProfile(),isShowPopup:!1,bonusDetail:n.props.location.state,displayLabelVlaue:"",prizeAmount:"",masterData:"",refferCodeAmount:"",refferCodeAmountType:"",btnEnable:!1},n}return Object(i.a)(a,e),Object(n.a)(a,[{key:"callRFMasterDataApi",value:function(){var e=this;Object(m.ad)({}).then(function(a){a&&a.response_code==p.bf&&e.setState({masterData:a.data})})}},{key:"updateRefCode",value:function(){var e=this;if(this.state.newRefCode.length>=6){var a={referral_code:this.state.newRefCode};Object(m.fe)(a).then(function(a){if(a&&a.response_code==p.bf){var t,s,n=parseInt(e.state.masterData[16].user_real),l=parseInt(e.state.masterData[16].user_coin),r=parseInt(e.state.masterData[16].user_bonus);n>=l&&n>=r&&(t=n,s=2),l>=n&&l>=r&&(t=l,s=1),r>=l&&r>=n&&(t=r,s=0);var i={isSkip:3,value:t,type:s},c=e.state.profileDetail;c.referral_code=e.state.newRefCode,c.is_rc_edit="1",d.a.setProfile(c),t>0?e.setState({isShowPopup:!0,passingData:i}):e.goBack()}}),this.goBack()}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"web-container bg-white p-0 verify-otp edit-ref refer-friend j-c-c d-f"},o.a.createElement("div",{className:"center-view"},o.a.createElement("div",null,o.a.createElement("span",{className:"header-action-edit-ref ",onClick:function(){return e.goBack()}},o.a.createElement("i",{className:"icon-left-arrow"}))),o.a.createElement("div",{className:"m-t-20-p"},o.a.createElement(u.a,{className:"font-xl"},b.je,o.a.createElement("br",null),b.Wb),o.a.createElement("br",null),1!=v.G&&o.a.createElement(u.a,{className:"title"},b.me)),o.a.createElement("div",{className:0==this.state.prizeAmount?"d-none":"box-view m-t-30-p box-view-m"},o.a.createElement("div",{className:"t-a-c p10"},o.a.createElement(u.a,{className:"get-20-bonus-cash"},b.Qf),"\xa0",0==this.state.displayLabelVlaue&&o.a.createElement(u.a,{className:"icon-bonus is-blue font-s-15 line-h-18"}),2==this.state.displayLabelVlaue&&o.a.createElement(u.a,{className:"is-blue font-s-12 line-h-16"},f.b.getMasterData().currency_code),o.a.createElement("img",{alt:"",src:1==this.state.displayLabelVlaue?h.a.IC_COIN:"",className:"icon-height-is-18"}),o.a.createElement(u.a,{className:"get-20-bonus-cash pl2"},this.state.prizeAmount)," \xa0",o.a.createElement(u.a,{className:"get-20-bonus-cash"},0==this.state.displayLabelVlaue?b.db:1==this.state.displayLabelVlaue?b.cc:2==this.state.displayLabelVlaue?b.Jn:""),o.a.createElement("br",null),o.a.createElement(u.a,{className:"title"},b.Qk))),o.a.createElement("div",{className:"text-f-view"},o.a.createElement("div",{className:"t-a-c p10"},o.a.createElement(u.a,{className:"title"},b.bo)),o.a.createElement("input",{className:"ref-input-text",onChange:function(a){e.referalOnChange(a)},value:this.state.newRefCode,maxLength:10}),o.a.createElement("div",{className:"horizontal-line mt10"})),o.a.createElement("div",{className:"j-c-c d-f a-i-c m-t-20-p edit-sub-sec"},o.a.createElement("a",{href:!0,className:"btn btn-rounded"+(this.state.btnEnable?"":" disabled"),onClick:function(){return e.updateRefCode()}},b.gq)),o.a.createElement("div",{className:"lower-div pt50"},o.a.createElement(u.a,{className:"friend-sign-up-blue cursor-pointer",onClick:function(){return e.SkipStep()}},b.ah),o.a.createElement("br",null),o.a.createElement(u.a,{className:"title-sm cursor-pointer"},b.Tt))))}}]),a}(o.a.Component)}}]);