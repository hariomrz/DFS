(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1586:function(a,e,t){"use strict";t.r(e);var n=t(139),c=t(948),s=t(18),r=t(33),i=t(135),l=t(134),o=t(136),m=t(4),d=t.n(m),u=t(1588),v=t(6),h=t(137),f=t(938),g=t(0),b=t(97),p=t(1),E=function(a){function e(a,t){var r;return Object(s.a)(this,e),(r=Object(i.a)(this,Object(l.a)(e).call(this,a,t))).getAvatarListCall=function(){r.setState({isLoading:!0}),Object(h.O)({}).then(function(a){r.setState({isLoading:!1}),a.response_code==g.bf&&r.setState({avatarArray:[""].concat(Object(c.a)(a.data))})})},r.updateUserAvatar=function(){var a={image:r.state.selectedAvatar};r.setState({isLoading:!0}),Object(h.Xd)(a).then(function(e){if(r.setState({isLoading:!1}),e.response_code==g.bf){(0,r.props.data.onSelectAvater)(a.image);var t=p.a.getProfile();p.a.setProfile(Object(n.a)({},t,a)),v.b.showToast(e.message,5e3,"icon-user")}})},r.onChooseAvatar=function(a){r.setState({selectedAvatar:a})},r.state={avatarArray:[""],selectedAvatar:"",isLoading:!1},r}return Object(o.a)(e,a),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.getAvatarListCall()}},{key:"render",value:function(){var a=this,e=this.props.data,t=e.onHide,n=e.showModal,c=e.onClickCamera,s=this.state,r=s.avatarArray,i=s.selectedAvatar,l=s.isLoading;return d.a.createElement(u.a,{show:n,dialogClassName:"contest-detail-modal",className:"contest-detail-dialog avatar-modal",bsSize:"large"},d.a.createElement(u.a.Header,null,d.a.createElement("a",{href:!0,onClick:t,className:"modal-header-icon"},d.a.createElement("i",{className:"icon-close"})),d.a.createElement("span",{className:"modal-header-title"},b.Bb),d.a.createElement("a",{href:!0,onClick:i&&!l?this.updateUserAvatar:null,className:"modal-header-icon tick"+(i?" active":"")},d.a.createElement("i",{className:"icon-tick"}))),d.a.createElement(u.a.Body,null,d.a.createElement("div",{className:"avatar-grid"},Object(v.c)(r,function(e,t){return d.a.createElement("div",{key:e.id+e.name,className:"avatar-item"+(e.name==i&&0!==t?" selected":"")},0===t?d.a.createElement("div",{className:"avatar-container",onClick:l?null:c},d.a.createElement("i",{className:"icon-camera-fill"})):d.a.createElement("div",{className:"avatar-container",onClick:function(){return l?"":a.onChooseAvatar(e.name)}},d.a.createElement("img",{className:"img",src:v.b.getThumbURL(e.name),alt:""})),d.a.createElement("img",{src:f.a.TICK_IC,alt:"",className:"circle-tick"}))}))))}}]),e}(d.a.Component);e.default=E}}]);