(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1009:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(33),l=a(135),i=a(134),s=a(136),c=a(4),m=a.n(c),o=a(942),p=a(945),d=a.n(p),u=a(944),h=a(6),b=a(137),g=a(941),E=a(1),k=a(943),y=a(938),_=a(0),f=a(97),N=a(9),v=[],S=!0,O=null,w=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).callApiEarnCoinsList=function(){a.setState({ISLOAD:!0}),Object(b.pb)({}).then(function(e){a.getUserBal(),a.setState({ISLOAD:!1}),e.response_code===_.bf&&(a.setState({HELIST:e.data.earn_coins||[]}),v=e.data.earn_coins||[])})},a.getUserBal=function(){Object(b.kd)().then(function(e){e&&e.response_code==_.bf&&(E.a.setAllowedBonusPercantage(e.data.allowed_bonus_percantage),E.a.setBalance(e.data.user_balance),a.setState({user_balance:e.data.user_balance}))})},a.btnAction=function(e){"daily_streak_bonus"===e.module_key&&g.a.showDailyStreak?g.a.showDailyStreak():"refer-a-friend"===e.module_key?a.props.history.push({pathname:"/refer-friend"}):"feedback"===e.module_key?a.props.history.push({pathname:"/feedback"}):"prediction"===e.module_key?(E.a.setPickedGameType(N.r.Pred),a.props.history.push("/lobby#"+h.b.getSelectedSportsForUrl())):e.game_key===N.r.OpenPred?(E.a.setPickedGameType(N.r.OpenPred),a.props.history.push("/lobby#"+h.b.getSelectedSportsForUrl())):e.game_key===N.r.OpenPredLead?(E.a.setPickedGameType(N.r.OpenPredLead),a.props.history.push("/lobby#"+h.b.getSelectedSportsForUrl())):e.game_key===N.r.Pickem&&(E.a.setPickedGameType(N.r.Pickem),a.props.history.push("/lobby#"+h.b.getSelectedSportsForUrl()))},a.gotoCoinTransaction=function(){a.props.history.push({pathname:"/transactions",state:{tab:f.Xb}})},a.gotoRewards=function(){a.props.history.push({pathname:"/rewards",state:{tab:f.Xb}})},a.renderListItem=function(e,t){var n=t,r=e[E.a.getAppLang()||"en"]||"";return m.a.createElement(m.a.Fragment,null,n?m.a.createElement(m.a.Fragment,null,(e.game_key==N.r.OpenPred||e.game_key==N.r.OpenPredLead||e.game_key==N.r.Pickem)&&m.a.createElement("li",{key:e.game_key},m.a.createElement("div",null,m.a.createElement("p",{className:"list-t"},e[E.a.getAppLang()+"_t"]),m.a.createElement("p",{className:"list-d"},e[E.a.getAppLang()+"_d"]),m.a.createElement("a",{href:!0,className:"list-btn",onClick:function(){return a.btnAction(e)}},e.game_key==N.r.Pickem||e.game_key==N.r.OpenPred||e.game_key==N.r.OpenPredLead?f.Km:e.game_key==N.r.Pickem?f.Il:f.im)),e.game_key==N.r.Pickem?m.a.createElement("img",{src:y.a.PICK_EARNCOIN,alt:""}):m.a.createElement("img",{src:y.a.PREDICT_EARNCOIN,alt:""}))):"daily_streak_bonus"===e.module_key&&1==h.b.getMasterData().a_spin?"":m.a.createElement("li",{key:e.module_key},m.a.createElement("div",null,m.a.createElement("p",{className:"list-t"},r.label),m.a.createElement("p",{className:"list-d"},r.description),m.a.createElement("a",{href:!0,className:"list-btn",onClick:function(){return a.btnAction(e)}},r.button_text)),m.a.createElement("img",{src:N.n?h.b.getS3URL("DT_"+e.image_url):h.b.getS3URL(e.image_url),alt:""})))},a.Shimmer=function(e){return m.a.createElement(p.SkeletonTheme,{color:N.n?"#161920":null,highlightColor:N.n?"#0E2739":null},m.a.createElement("div",{key:e,className:"contest-list shimmer-border"},m.a.createElement("div",{className:"shimmer-container"},m.a.createElement("div",{className:"shimmer-top-view"},m.a.createElement("div",{className:"shimmer-line"},m.a.createElement(d.a,{height:9,width:"80%"}),m.a.createElement(d.a,{height:6,width:"100%"}),m.a.createElement(d.a,{height:6,width:100})),m.a.createElement("div",{className:"shimmer-bottom-view"},m.a.createElement("div",{className:"shimmer-buttin w-25"},m.a.createElement(d.a,{height:30,width:160})))),m.a.createElement("div",{className:"shimmer-image"},m.a.createElement(d.a,{width:70,height:70})))))},a.state={PRFLD:E.a.getProfile(),AllSports:h.b.getMasterData().sports_hub,HELIST:[],ISLOAD:!1,user_balance:"",toolTip:S,blinkAnim:S},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.b.handleAppBackManage("EarnCoins"),setTimeout(function(){e.setState({toolTip:!1}),setTimeout(function(){e.setState({blinkAnim:!1})},7e3),S=!1},4e3),v.length>0?(this.setState({HELIST:v}),this.getUserBal()):this.callApiEarnCoinsList()}},{key:"componentWillUnmount",value:function(){O=null}},{key:"render",value:function(){var e=this,t=this.state,a=t.PRFLD,n=t.HELIST,r=t.ISLOAD,l=t.user_balance,i=t.toolTip,s=t.blinkAnim,c=t.AllSports,p=l.point_balance||0;O=this;var d={title:f.yg,notification:!0,hideShadow:!0,filter:!1,back:!0,isPrimary:!N.n};return m.a.createElement(u.a.Consumer,null,function(t){return m.a.createElement("div",{className:"web-container how-earn-coins "+(Object(h.t)("earn-coins")?"mh-100-per p-0":"")},!Object(h.t)("earn-coins")&&m.a.createElement(g.a,Object.assign({},e.props,{HeaderOption:d})),m.a.createElement(o.Helmet,{titleTemplate:"".concat(k.a.template," | %s")},m.a.createElement("title",null,k.a.ERNC.title),m.a.createElement("meta",{name:"description",content:k.a.ERNC.description}),m.a.createElement("meta",{name:"keywords",content:k.a.ERNC.keywords})),m.a.createElement("div",{className:"top-profile"},""!=l&&i&&m.a.createElement("div",{className:"coin-tooltip"},m.a.createElement("div",{className:"inner-text"},f.Uo)),m.a.createElement("div",{className:"profile-v"},m.a.createElement("img",{src:a.image?h.b.getThumbURL(a.image):y.a.DEFAULT_AVATAR,alt:""}),m.a.createElement("div",{className:"v-username"},a.user_name)),""!=l&&m.a.createElement("div",{className:"coins-v"},p>0&&N.c&&m.a.createElement("span",{onClick:e.gotoRewards,className:"redeem"},f.Ln),m.a.createElement("div",{onClick:e.gotoCoinTransaction,className:"c-balance "+(s?"show-tooltip":"")},m.a.createElement("div",{className:"pulse-ring",style:{animationDelay:"-2s"}}),m.a.createElement("div",{className:"pulse-ring",style:{animationDelay:"-1s"}}),m.a.createElement("div",{className:"pulse-ring",style:{animationDelay:"-0s"}}),m.a.createElement("img",{className:"coin-img",src:y.a.IC_COIN,alt:""}),m.a.createElement("span",null,h.b.numberWithCommas(h.b.kFormatter(p)))))),m.a.createElement("ul",{className:"list-type"},Object(h.c)(n,function(t,a){return e.renderListItem(t)}),0===n.length&&r&&[1,1,1,1,1,1].map(function(t,a){return e.Shimmer(a)}),Object(h.c)(c,function(t,a){return e.renderListItem(t,!0)})))})}}]),t}(c.Component);w.updateBalance=function(){O&&O.getUserBal()},t.default=w}}]);